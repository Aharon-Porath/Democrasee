function InfoBox(a){a=a||{},google.maps.OverlayView.apply(this,arguments),this.content_=a.content||"",this.disableAutoPan_=a.disableAutoPan||!1,this.maxWidth_=a.maxWidth||0,this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0),this.position_=a.position||new google.maps.LatLng(0,0),this.zIndex_=a.zIndex||null,this.boxClass_=a.boxClass||"infoBox",this.boxStyle_=a.boxStyle||{},this.closeBoxMargin_=a.closeBoxMargin||"2px",this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===a.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1),this.isHidden_=a.isHidden||!1,this.alignBottom_=a.alignBottom||!1,this.pane_=a.pane||"floatPane",this.enableEventPropagation_=a.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.moveListener_=null,this.contextListener_=null,this.fixedWidthSet_=null}function initTooltip(a){a.tooltipText({bodyHandler:function(){return"בקרוב"},showURL:!1}),a.attr("disabled","disabled"),a.attr("href","javascript:void(0)")}function initTooltipWithMessage(a,b){a.tooltipText({bodyHandler:function(){return""+b},showURL:!1}),a.attr("disabled","disabled"),a.attr("href","javascript:void(0)")}function fbs_click(a){a.click(function(){return sendFacebookShare($(this).attr("rel"),$(this).data("title"),$(this).data("img_src"),$(this).data("text_preview"),$(this).attr("rel"),function(a){console.log(a)}),!1}),a.attr("href","javascript:void(0);")}function image_autoscale(a,b){$(a).autoscale(b)}function animateCluster(a){function b(){clearTimeout(k),h||i||j||(i=!0,l.animate({opacity:1,left:"-=35"},200,function(){}),o.animate({opacity:1,left:"-=12"},200,function(){}),p.animate({opacity:1,left:"+=12"},200,function(){}),m.animate({opacity:1,left:"+=35"},200,function(){h=!0,i=!1}))}function c(){!h&&!i||j||(clearTimeout(k),k=setTimeout(function(){j=!0,l.animate({left:"+=35"},500,function(){}),o.animate({left:"+=12"},500,function(){}),p.animate({left:"-=12"},500,function(){}),m.animate({left:"-=35"},500,function(){h=!1,j=!1})},1500))}function d(){clearTimeout(k),h||i||j||(i=!0,l.animate({opacity:1,left:"-=25"},200,function(){}),n.animate({opacity:1},200,function(){}),m.animate({opacity:1,left:"+=25"},200,function(){h=!0,i=!1}))}function e(){!h&&!i||j||(clearTimeout(k),k=setTimeout(function(){j=!0,l.animate({left:"+=25"},500,function(){}),n.animate({},500,function(){}),m.animate({left:"-=25"},500,function(){h=!1,j=!1})},1500))}function f(){clearTimeout(k),h||i||j||(i=!0,l.animate({opacity:1,left:"-=15"},200,function(){}),m.animate({opacity:1,left:"+=15"},200,function(){h=!0,i=!1}))}function g(){!h&&!i||j||(clearTimeout(k),k=setTimeout(function(){j=!0,l.animate({left:"+=15"},500,function(){}),m.animate({left:"-=15"},500,function(){h=!1,j=!1})},1500))}var h=!1,i=!1,j=!1,k=null;if(2==a.length){var l=a[0],m=a[1];l.mouseout(g),l.mouseover(f),m.mouseout(g),m.mouseover(f),l.animate({left:"-=4"},500),m.animate({left:"+=4"},500)}else if(3==a.length){var l=a[0],n=a[1],m=a[2];l.mouseout(e),l.mouseover(d),m.mouseout(e),m.mouseover(d),n.mouseout(e),n.mouseover(d),n.css("z-index",2),l.animate({left:"-=8"},500),m.animate({left:"+=8"},500)}else if(4==a.length){var l=a[0],o=a[1],p=a[2],m=a[3];l.mouseout(c),l.mouseover(b),m.mouseout(c),m.mouseover(b),o.mouseout(c),o.mouseover(b),p.mouseout(c),p.mouseover(b),l.animate({left:"-=12"},500),m.animate({left:"+=12"},500),o.animate({left:"-=4"},500),p.animate({left:"+=4"},500)}}function validateEmail(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function validateName(a){var b=/^\S{2,}[ ]+\S{2,}$/,c=b.test(a);return c}function sendFacebookInvite(a,b,c){FB.ui({method:"apprequests",message:a},function(a){a?db_functions.addFacebookRequest(b,a,c):c("canceled")})}function sendFacebookShare(a,b,c,d,e,f){db_functions.addFacebookRequest(a,null,function(e,g){e&&console.log(e),d=d?d.replace(/(<([^>]+?)>)/gi,""):"";var h=g?window.location.protocol+"//"+window.location.hostname+g.link:window.location.protocol+"//"+window.location.hostname+a;c&&-1==c.indexOf("http")&&(c=window.location.protocol+"//"+window.location.hostname+c),FB.ui({method:"feed",link:h,name:b,picture:c,caption:d,description:" "},function(a){console.log(a),f()})})}function facebookLogin(a){FB.getLoginStatus(function(b){"connected"===b.status?($.cookie("fb_login",1,{path:"/"}),db_functions.getUserAfterFbConnect(b.authResponse.accessToken,a)):fb_auth_and_persist(a)})}function fb_auth_and_persist(a){FB.login(function(b){console.log(b),b.authResponse?(console.log("Welcome!  Fetching your information.... "),db_functions.getUserAfterFbConnect(b.authResponse.accessToken,a)):(console.log("User cancelled login or did not fully authorize."),a("User cancelled login or did not fully authorize."))},{scope:"email,publish_actions"})}function trace(a){VMM.debug&&(window.console?console.log(a):"undefined"!=typeof jsTrace&&jsTrace.send(a))}function onYouTubePlayerAPIReady(){trace("GLOBAL YOUTUBE API CALLED"),VMM.ExternalAPI.youtube.onAPIReady()}function getEmbedScriptPath(a){for(var b=document.getElementsByTagName("script"),c="",d="",e=0;e<b.length;e++)b[e].src.match(a)&&(c=b[e].src);return""!=c&&(d="/"),c.split("?")[0].split("/").slice(0,-1).join("/")+d}function createStoryJS(a,b){function c(){LoadLib.js(v.js,d)}function d(){t.js=!0,"en"!=v.lang?LazyLoad.js(u.locale,e):t.language=!0,i()}function e(){t.language=!0,i()}function f(){t.css=!0,i()}function g(){t.font.css=!0,i()}function h(){t.font.js=!0,i()}function i(){t.checks>40||(t.checks++,t.js&&t.css&&t.font.css&&t.font.js&&t.language?t.finished||(t.finished=!0,k()):t.timeout=setTimeout("onloaded_check_again();",250))}function j(){var a="storyjs-embed";m=document.createElement("div"),n=""!=v.embed_id?document.getElementById(v.embed_id):document.getElementById("timeline-embed"),n.appendChild(m),m.setAttribute("id",v.id),v.width.toString().match("%")?n.style.width=v.width.split("%")[0]+"%":(v.width=v.width-2,n.style.width=v.width+"px"),v.height.toString().match("%")?(n.style.height=v.height,a+=" full-embed",n.style.height=v.height.split("%")[0]+"%"):(a+=" sized-embed",v.height=v.height-16,n.style.height=v.height+"px"),n.setAttribute("class",a),n.setAttribute("className",a),m.style.position="relative"}function k(){VMM.debug=v.debug,l=new VMM.Timeline(v.id),l.init(v),p&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var l,m,n,o,p=!1,q="2.17",r="1.7.1",s="",t={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},u={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"http://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},v={version:q,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:u.css+"timeline.css?"+q,js:u.js+"timeline-min.js?"+q,api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},w=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(v[o]=a[o]);if("undefined"!=typeof b&&(v.source=b),"object"==typeof url_config&&(p=!0,v.source.match("docs.google.com")||v.source.match("json")||v.source.match("storify")||(v.source="https://docs.google.com/spreadsheet/pub?key="+v.source+"&output=html")),v.js.match("locale")&&(v.lang=v.js.split("locale/")[1].replace(".js",""),v.js=u.js+"timeline-min.js?"+q),v.js.match("/")||(v.css=u.css+v.type+".css?"+q,v.js=u.js+v.type+"-min.js?"+q,v.id="storyjs-"+v.type),u.locale=v.lang.match("/")?v.lang:u.locale+v.lang+".js?"+q,j(),LoadLib.css(v.css,f),"default"==v.font)t.font.js=!0,t.font.css=!0;else{var x;v.font.match("/")?(x=v.font.split(".css")[0].split("/"),u.font.name=x[x.length-1],u.font.css=v.font):(u.font.name=v.font,u.font.css=u.font.css+v.font+".css?"+q),LoadLib.css(u.font.css,g);for(var y=0;y<w.length;y++)u.font.name==w[y].name&&(u.font.google=!0,WebFontConfig={google:{families:w[y].google}});u.font.google?LoadLib.js(u.font.js,h):t.font.js=!0}try{if(t.has_jquery=jQuery,t.has_jquery=!0,t.has_jquery){var s=parseFloat(jQuery.fn.jquery);t.jquery=s<parseFloat(r)?!1:!0}}catch(z){t.jquery=!1}t.jquery?c():LoadLib.js(u.jquery,c),this.onloaded_check_again=function(){i()}}function user_position(a,b){function c(){if(!d)if(d=!0,window.ip2location_latitude&&window.ip2location_longitude){var c=ip2location_latitude(),e=ip2location_longitude();a({lat:Number(c),lng:Number(e)})}else b("not supported")}var d=!1;navigator.geolocation?(navigator.geolocation.getCurrentPosition(function(b){d=!0,a({lat:b.coords.latitude,lng:b.coords.longitude})},function(){c()},{timeout:15e3}),setTimeout(c,50)):c()}function init_map(a,b){b=b?new google.maps.LatLng(b.lat,b.lng):new google.maps.LatLng(-34.397,34.644);var c={zoom:12,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(document.getElementById(a),c);return maps[a]=d,d}function add_draggable_marker(a,b,c,d){b=b?new google.maps.LatLng(b.lat,b.lng):new google.maps.LatLng(-34.397,34.644);var e=new google.maps.Marker({map:a,position:b});return d&&google.maps.event.addListener(e,"click",d),c&&(e.setDraggable(!0),google.maps.event.addListener(e,"dragend",function(a){c(a.latLng)})),e}function get_map(a){return maps[a]}function stringToLocation(a){return a=a.replace("(","").replace(")","").replace(" ",""),a=a.split(","),new google.maps.LatLng(a[0],a[1])}function addMarker(a,b,c,d,e){c||(c="http://www.google.com/mapfiles/marker.png");var f=new google.maps.Marker({position:b,map:a,title:d,icon:c});e&&google.maps.event.addListener(f,"click",function(){window.location=e})}function getLocation(a,b){return new google.maps.LatLng(a,b)}function centerMap(a,b){var c=get_map(a);c.setCenter(b)}function init_street_view(a,b){var c={position:b,pov:{heading:0,pitch:10,zoom:1}};new google.maps.StreetViewPanorama(document.getElementById(a),c)}function getLocationFromAdrs(a,b,c){geocoder.geocode({address:a},function(a,d){if(d==google.maps.GeocoderStatus.OK){var e=a[0].geometry.location;b(e)}else c&&c(d)})}function address_autocomplete(a,b,c){var d=document.getElementById(a),e=new google.maps.places.Autocomplete(d);google.maps.event.addListener(e,"place_changed",function(){var a=e.getPlace();if(b){var d=get_map(b);a.geometry.viewport?d.fitBounds(a.geometry.viewport):(d.setCenter(a.geometry.location),d.setZoom(17))}c&&c(a)})}!function(a,b){function c(a){var b=ob[a]={};return $.each(a.split(bb),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pb.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a){return $.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;)if(b=rc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),!e[f]&&"none"!==d&&$._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){if(d=cc(a,b),(0>d||null==d)&&(d=a.style[b]),lc.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(dc=P.body.appendChild(dc||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close()),b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)),nc[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(bb),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=1-(c/i.duration||0),e=0,f=i.tweens.length;f>e;e++)i.tweens[e].run(d);return g.notifyWith(a,[i,d,c]),1>d&&f?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$c[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],p=a.nodeType&&r(a);c.queue||(j=$._queueHooks(a,"fx"),null==j.unqueued&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,$.queue(a,"fx").length||j.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",$.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xc.exec(f)){if(delete b[d],f===(p?"hide":"show"))continue;o.push(d)}if(g=o.length)for(h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),p?$(a).show():l.done(function(){$(a).hide()}),l.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in n)$.style(a,b,n[b])}),d=0;g>d;d++)e=o[d],i=l.createTween(e,p?h[e]:0),n[e]=h[e]||$.style(a,e),e in h||(h[e]=i.start,p&&(i.end=i.start,i.start="width"===e||"height"===e?1:0))}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,bb=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,jb=/^-ms-/,kb=/-([\da-z])/gi,lb=function(a,b){return(b+"").toUpperCase()},mb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",mb,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",mb),$.ready())},nb={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:db.exec(a),e&&(e[1]||!c)){if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),eb.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!$.isFunction(h)&&(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):nb[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=eb.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fb.test(b.replace(hb,"@").replace(ib,"]").replace(gb,""))?new Function("return "+b)():($.error("Invalid JSON: "+b),void 0)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ab.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(jb,"ms-").replace(kb,lb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call(" ")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(cb,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",mb,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",mb),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){nb["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var ob={};$.Callbacks=function(a){a="string"==typeof a?ob[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"!==e||a.unique&&m.has(d)?d&&d.length&&"string"!==e&&c(d):j.push(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],j&&(!e||k)&&(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5",!c||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;
try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qb=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}),void 0)},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var rb,sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(bb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(bb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ub," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return $.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(bb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||($.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&$.nodeName(e.parentNode,"optgroup"))){if(b=$(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?$(h[f]).val():g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(zb.test(c)?sb:rb)),d!==b?null===d?($.removeAttr(a,c),void 0):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(bb);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=zb.test(e),f||$.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return rb&&$.nodeName(a,"button")?rb.get(a,b):b in a?a.value:null},set:function(a,b,c){return rb&&$.nodeName(a,"button")?rb.set(a,b,c):(a.value=b,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),sb={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Ab||(tb={name:!0,id:!0,coords:!0},rb=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(tb[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:rb.get,set:function(a,b,c){""===b&&(b="false"),rb.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return $.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Hb(c)).split(" "),j=0;j<c.length;j++)k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Cb.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!(!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,!n.remove||!n.remove.call(a,p)));0===o.length&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,q.handle)===!1)&&$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(Gb.test(q+$.event.triggered))return;if(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),(!e||$.event.customEvent[q])&&!$.event.global[q])return;if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",!e){g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0);return}if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},m.trigger&&m.trigger.apply(e,d)===!1)return;if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,!(f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||!l||!e[q]||("focus"===q||"blur"===q)&&0===c.target.offsetWidth||$.isWindow(e)||(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,!k||!(e[l]=k))),c.result}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0,void 0):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return f.selector,(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:($.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return $.nodeName(this,"form")?!1:($.event.remove(this,"._submit"),void 0)}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):($.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fb.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=cb.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&mb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)),i.push(f=[])),d=!1,(e=ab.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)(e=hb[g].exec(h))&&(!j[g]||(e=j[g](e,F,!0)))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){if(!f||!e){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[],f),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(m=k(t,p),d(m,[],h,i),j=m.length;j--;)(l=m[j])&&(t[p[j]]=!(s[p[j]]=l));if(f)for(j=a&&t.length;j--;)(l=t[j])&&(f[n[j]]=!(g[n[j]]=l));else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)}})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)!u[s]&&!p[s]&&(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d,e){for(var f=0,g=b.length;g>f;f++)c(a,b[f],d,e);return d}function p(a,b,c,d,e){var f,g,i,j,k,l=h(a);if(l.length,!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(gb,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=hb.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(gb,""),db.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,db.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),ab=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),bb=new RegExp(X),cb=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,db=/[\x20\t\r\n\f]*[+~]/,eb=/h\d/i,fb=/input|select|textarea|button/i,gb=/\\(?!\\)/g,hb={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ib=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},jb=ib(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),kb=ib(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),lb=ib(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),mb=ib(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),nb=ib(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(ob){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)
}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||lb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:hb,attrHandle:kb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:jb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:nb&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:mb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(gb,""),a[3]=(a[4]||a[5]||"").replace(gb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return hb.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(bb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(gb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(gb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(gb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a];return b||(b=P(a,new RegExp("(^|"+S+")"+a+"("+S+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")}},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||0===e%c&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return eb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return!(a!==b.activeElement||b.hasFocus&&!b.hasFocus()||!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=1;if(z=B,a.sort(y),z)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active",":focus"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ib(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ib(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!(g||i||f&&f.test(a))){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=db.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ib(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!(v(b)||g.test(d)||f&&f.test(d)))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=$.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Mb[a]?$.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,$.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(!b&&1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!$.support.htmlSerialize&&Wb.test(a)||!$.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0)&&!Vb.test(h)&&($.support.checkClone||!Yb.test(h))&&($.support.html5Clone||!Wb.test(h))&&(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Tb.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!$.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}if(l&&(g=l=r=null),!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+_+")(.*)$","i"),lc=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+_+")","i"),nc={},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"===g&&!$.cssNumber[i]&&(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],""===d&&!$.contains(b.ownerDocument,b)&&(d=$.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?$.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||($.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=$.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gc,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(bb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase())||!1,m.crossDomain=j&&j.join(":")+(j[3]?"":"http:"===j[1]?80:443)!==yc.join(":")+(yc[3]?"":"http:"===yc[1]?80:443)),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kc,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(!m.beforeSend||m.beforeSend.call(n,w,m)!==!1&&2!==u){v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w}return w.abort()},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||$.expando+"_"+Rc++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;
return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Tc&&delete Sc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},$(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||($.cssNumber[a]?"":"px"),"px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){for(var a,b=$.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||$.fx.stop()},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wc&&(Wc=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wc),Wc=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?$.offset.bodyOffset(k):(c=l.documentElement,$.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f,void 0)},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=b.length?!0:!1,a.ui.ie6=6===parseFloat(b[1],10)}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=d,b=e.apply(this,arguments),this._super=c,this._superApply=f,b}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:h.widgetEventPrefix||b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():new e(g,this)}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on(this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){var d,e=this;c?(b=d=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),a.each(c,function(c,f){function g(){return e.options.disabled===!0||a(this).hasClass("ui-state-disabled")?void 0:("string"==typeof f?e[f]:f).apply(e,arguments)}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||a.guid++);var h=c.match(/^(\w+)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&(a.effects.effect[h]||a.uiBackCompat!==!1&&a.effects[h])?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return!a.ui.ie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseInt(a[0],10)*(m.test(a[0])?b/100:1),parseInt(a[1],10)*(m.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var e,f=Math.max,g=Math.abs,h=Math.round,i=/left|center|right/,j=/top|center|bottom/,k=/[\+\-]\d+%?/,l=/^\w+/,m=/%$/,n=a.fn.position;a.position={scrollbarWidth:function(){if(e!==b)return e;var c,d,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),c=g.offsetWidth,f.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=f[0].clientWidth),f.remove(),e=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return n.apply(this,arguments);b=a.extend({},b);var e,m,o,p,q,r=a(b.of),s=a.position.getWithinInfo(b.within),t=a.position.getScrollInfo(s),u=r[0],v=(b.collision||"flip").split(" "),w={};return 9===u.nodeType?(m=r.width(),o=r.height(),p={top:0,left:0}):a.isWindow(u)?(m=r.width(),o=r.height(),p={top:r.scrollTop(),left:r.scrollLeft()}):u.preventDefault?(b.at="left top",m=o=0,p={top:u.pageY,left:u.pageX}):(m=r.outerWidth(),o=r.outerHeight(),p=r.offset()),q=a.extend({},p),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=i.test(d[0])?d.concat(["center"]):j.test(d[0])?["center"].concat(d):["center","center"]),d[0]=i.test(d[0])?d[0]:"center",d[1]=j.test(d[1])?d[1]:"center",a=k.exec(d[0]),c=k.exec(d[1]),w[this]=[a?a[0]:0,c?c[0]:0],b[this]=[l.exec(d[0])[0],l.exec(d[1])[0]]}),1===v.length&&(v[1]=v[0]),"right"===b.at[0]?q.left+=m:"center"===b.at[0]&&(q.left+=m/2),"bottom"===b.at[1]?q.top+=o:"center"===b.at[1]&&(q.top+=o/2),e=c(w.at,m,o),q.left+=e[0],q.top+=e[1],this.each(function(){var i,j,k=a(this),l=k.outerWidth(),n=k.outerHeight(),u=d(this,"marginLeft"),x=d(this,"marginTop"),y=l+u+d(this,"marginRight")+t.width,z=n+x+d(this,"marginBottom")+t.height,A=a.extend({},q),B=c(w.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=n:"center"===b.my[1]&&(A.top-=n/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=h(A.left),A.top=h(A.top)),i={marginLeft:u,marginTop:x},a.each(["left","top"],function(c,d){a.ui.position[v[c]]&&a.ui.position[v[c]][d](A,{targetWidth:m,targetHeight:o,elemWidth:l,elemHeight:n,collisionPosition:i,collisionWidth:y,collisionHeight:z,offset:[e[0]+B[0],e[1]+B[1]],my:b.my,at:b.at,within:s,elem:k})}),a.fn.bgiframe&&k.bgiframe(),b.using&&(j=function(a){var c=p.left-A.left,d=c+m-l,e=p.top-A.top,h=e+o-n,i={target:{element:r,left:p.left,top:p.top,width:m,height:o},element:{element:k,left:A.left,top:A.top,width:l,height:n},horizontal:0>d?"left":c>0?"right":"center",vertical:0>h?"top":e>0?"bottom":"middle"};l>m&&g(c+d)<m&&(i.horizontal="center"),n>o&&g(e+h)<o&&(i.vertical="middle"),i.important=f(g(c),g(d))>f(g(e),g(h))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+g-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+g-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-h-f,(0>c||c<g(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||g(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-h-f,a.top+n+o+p>k&&(0>d||d<g(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||g(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===f.length&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),function(a){var b=0,c={},d={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.9.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var c=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b),d=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!d.collapsible&&(d.active===!1||null==d.active)&&(d.active=0),d.active<0&&(d.active+=this.headers.length),this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(b){var d=a(this),e=d.attr("id"),f=d.next(),g=f.attr("id");e||(e=c+"-header-"+b,d.attr("id",e)),g||(g=c+"-panel-"+b,f.attr("id",g)),d.attr("aria-controls",g),f.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(d.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"===a&&!b&&this.options.active===!1&&this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b),void 0)
},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b,c,d=this.options.heightStyle,e=this.element.parent();"fill"===d?(a.support.minHeight||(c=e.css("overflow"),e.css("overflow","hidden")),b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),c&&e.css("overflow",c),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).height("").height())}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={};b&&(a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._on(this.headers,c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-expanded":"false","aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr("tabIndex",-1):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,e){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(c,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),a.hide().animate(d,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}}),void 0):b.animate(c,h,g,n):a.animate(d,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.uiBackCompat!==!1&&(function(a,b){a.extend(b.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var c=b._create;b._create=function(){if(this.options.navigation){var b=this,d=this.element.find(this.options.header),e=d.next(),f=d.add(e).find("a").filter(this.options.navigationFilter)[0];f&&d.add(e).each(function(c){return a.contains(this,f)?(b.options.active=Math.floor(c/2),!1):void 0})}c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var c=b._create,d=b._setOption;a.extend(b,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),c.call(this)},_setOption:function(a){("autoHeight"===a||"clearStyle"===a||"fillSpace"===a)&&(this.options.heightStyle=this._mergeHeightStyle()),d.apply(this,arguments)},_mergeHeightStyle:function(){var a=this.options;return a.fillSpace?"fill":a.clearStyle?"content":a.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var c=b._createIcons;b._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){b.activate=b._activate;var c=b._findActive;b._findActive=function(a){return-1===a&&(a=!1),a&&"number"!=typeof a&&(a=this.headers.index(this.headers.filter(a)),-1===a&&(a=!1)),c.call(this,a)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(a,b){a.extend(b.options,{change:null,changestart:null});var c=b._trigger;b._trigger=function(a,b,d){var e=c.apply(this,arguments);return e?("beforeActivate"===a?e=c.call(this,"changestart",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel}):"activate"===a&&(e=c.call(this,"change",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel})),e):!1}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{animate:null,animated:"slide"});var c=b._create;b._create=function(){var a=this.options;null===a.animate&&(a.animate=a.animated?"slide"===a.animated?300:"bounceslide"===a.animated?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:a.animated:!1),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,c=!0,void 0;b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,d.preventDefault(),void 0;if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target!==b.element[0]&&d.target!==c&&!a.contains(c,d.target)&&b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)}),void 0;var d=c.item.data("ui-autocomplete-item")||c.item.data("item.autocomplete");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item")||b.item.data("item.autocomplete"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),a.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this.document.find(b||"body")[0]),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,c=++b;return function(d){c===b&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c,d,e,f="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},j=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var g=this,h=this.options,k="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(k?"":" ui-state-active"),m="ui-state-focus";null===h.label&&(h.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||a(this).removeClass(l)}).bind("click"+this.eventNamespace,function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){g.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){g.buttonElement.removeClass(m)}),k&&(this.element.bind("change"+this.eventNamespace,function(){e||g.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){h.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){h.disabled||(c!==a.pageX||d!==a.pageY)&&(e=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled||e?!1:(a(this).toggleClass("ui-state-active"),g.buttonElement.attr("aria-pressed",g.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||e)return!1;a(this).addClass("ui-state-active"),g.buttonElement.attr("aria-pressed","true");var b=g.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),b=this,g.document.one("mouseup",function(){b=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(b){return h.disabled?!1:((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" "+g+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(b?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var b=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var b=this.buttonElement.removeClass(h),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(b,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(a,b){$.extend(a,b);for(var c in b)(null==b[c]||b[c]==undefined)&&(a[c]=b[c]);return a}$.extend($.ui,{datepicker:{version:"1.9.1"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");if(("focus"==e||"both"==e)&&a.focus(this._showDatepicker),"button"==e||"both"==e){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==g?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}if(extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),"input"==d?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?$.extend({},$.datepicker._defaults):d?"all"==b?$.extend({},d.settings):this._get(d,b):null;var e=b||{};if("string"==typeof b&&(e={},e[b]=c),d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),null!==g&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),null!==h&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);
e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d!==!1){extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|="fixed"==$(this).css("position"),!e});var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[g]||$.effects[g])?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var c=a.dpDiv.find("iframe.ui-datepicker-cover");!c.length||c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d=this._getNumberOfMonths(a),e=d[1],f=17;if(a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",f*e+"em"),a.dpDiv[(1!=d[0]||1!=d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var g=a.yearshtml;setTimeout(function(){g===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),g=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b=this._getInst(a),c=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&($.effects.effect[c]||$.effects[c])?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv["slideDown"==c?"slideUp":"fadeIn"==c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&0==b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a);this._getInst(b[0]),this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=null!=b?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d="@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;if($.each(e,function(a,c){var d=c[1];return b.substr(r,d.length).toLowerCase()==d.toLowerCase()?(f=c[0],r+=d.length,!1):void 0}),-1!=f)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)"'"!=a.charAt(s)||n("'")?q():m=!1;else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length){var u=b.substr(r);if(!/^\s+/.test(u))throw"Extra/unparsed characters found in date: "+u}if(-1==i?i=(new Date).getFullYear():100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=i?0:-100)),l>-1)for(j=1,k=l;;){var v=this._getDaysInMonth(i,j-1);if(v>=k)break;j++,k-=v}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)"'"!=a.charAt(m)||h("'")?k+=a.charAt(m):l=!1;else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=1e4*b.getTime()+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){for(var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c,d,e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null;c=d=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{c=this.parseDate(e,f,g)||d}catch(h){this.log(h),f=b?"":f}a.selectedDay=c.getDate(),a.drawMonth=a.selectedMonth=c.getMonth(),a.drawYear=a.selectedYear=c.getFullYear(),a.currentDay=f?c.getDate():0,a.currentMonth=f?c.getMonth():0,a.currentYear=f?c.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"==f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=1!=g[0]||1!=g[1],k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;if(0>n&&(n+=12,o--),m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&l>p?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,0>n&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;for(var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=(this._get(a,"dayNamesShort"),this._get(a,"dayNamesMin")),C=this._get(a,"monthNames"),D=this._get(a,"monthNamesShort"),E=this._get(a,"beforeShowDay"),F=this._get(a,"showOtherMonths"),G=this._get(a,"selectOtherMonths"),H=(this._get(a,"calculateWeek")||this.iso8601Week,this._getDefaultDate(a)),I="",J=0;J<g[0];J++){var K="";this.maxRows=4;for(var L=0;L<g[1];L++){var M=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),N=" ui-corner-all",O="";if(j){if(O+='<div class="ui-datepicker-group',g[1]>1)switch(L){case 0:O+=" ui-datepicker-group-first",N=" ui-corner-"+(c?"right":"left");break;case g[1]-1:O+=" ui-datepicker-group-last",N=" ui-corner-"+(c?"left":"right");break;default:O+=" ui-datepicker-group-middle",N=""}O+='">'}O+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+N+'">'+(/all|left/.test(N)&&0==J?c?t:r:"")+(/all|right/.test(N)&&0==J?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,J>0||L>0,C,D)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var P=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",Q=0;7>Q;Q++){var R=(Q+y)%7;P+="<th"+((Q+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[R]+'">'+B[R]+"</span></th>"}O+=P+"</tr></thead><tbody>";var S=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));var T=(this._getFirstDayOfMonth(o,n)-y+7)%7,U=Math.ceil((T+S)/7),V=j?this.maxRows>U?this.maxRows:U:U;this.maxRows=V;for(var W=this._daylightSavingAdjust(new Date(o,n,1-T)),X=0;V>X;X++){O+="<tr>";for(var Y=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(W)+"</td>":"",Q=0;7>Q;Q++){var Z=E?E.apply(a.input?a.input[0]:null,[W]):[!0,""],_=W.getMonth()!=n,ab=_&&!G||!Z[0]||l&&l>W||m&&W>m;Y+='<td class="'+((Q+y+6)%7>=5?" ui-datepicker-week-end":"")+(_?" ui-datepicker-other-month":"")+(W.getTime()==M.getTime()&&n==a.selectedMonth&&a._keyEvent||H.getTime()==W.getTime()&&H.getTime()==M.getTime()?" "+this._dayOverClass:"")+(ab?" "+this._unselectableClass+" ui-state-disabled":"")+(_&&!F?"":" "+Z[1]+(W.getTime()==k.getTime()?" "+this._currentClass:"")+(W.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(_&&!F||!Z[2]?"":' title="'+Z[2]+'"')+(ab?"":' data-handler="selectDay" data-event="click" data-month="'+W.getMonth()+'" data-year="'+W.getFullYear()+'"')+">"+(_&&!F?"&#xa0;":ab?'<span class="ui-state-default">'+W.getDate()+"</span>":'<a class="ui-state-default'+(W.getTime()==b.getTime()?" ui-state-highlight":"")+(W.getTime()==k.getTime()?" ui-state-active":"")+(_?" ui-priority-secondary":"")+'" href="#">'+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W)}O+=Y+"</tr>"}n++,n>11&&(n=0,o++),O+="</tbody></table>"+(j?"</div>"+(g[0]>0&&L==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),K+=O}I+=K}return I+=x+($.ui.ie6&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,I},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;12>p;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}if(k||(l+=m+(!f&&i&&j?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';u>=t;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}return l+=this._get(a,"yearSuffix"),k&&(l+=(!f&&i&&j?"":"&#xa0;")+m),l+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return e=d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.1",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.9.1",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b,d,e,f,g,h=this,i=this.options,j=i.title||"&#160;";b=(this.uiDialog=a("<div>")).addClass(c+i.dialogClass).css({display:"none",outline:0,zIndex:i.zIndex}).attr("tabIndex",-1).keydown(function(b){i.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE&&(h.close(b),b.preventDefault())}).mousedown(function(a){h.moveToTop(!1,a)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(b),d=(this.uiDialogTitlebar=a("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){b.focus()}).prependTo(b),e=a("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(a){a.preventDefault(),h.close(a)}).appendTo(d),(this.uiDialogTitlebarCloseText=a("<span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(e),f=a("<span>").uniqueId().addClass("ui-dialog-title").html(j).prependTo(d),g=(this.uiDialogButtonPane=a("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=a("<div>")).addClass("ui-dialog-buttonset").appendTo(g),b.attr({role:"dialog","aria-labelledby":f.attr("id")}),d.find("*").add(d).disableSelection(),this._hoverable(e),this._focusable(e),i.draggable&&a.fn.draggable&&this._makeDraggable(),i.resizable&&a.fn.resizable&&this._makeResizable(),this._createButtons(i.buttons),this._isOpen=!1,a.fn.bgiframe&&b.bgiframe(),this._on(b,{keydown:function(c){if(i.modal&&c.keyCode===a.ui.keyCode.TAB){var d=a(":tabbable",b),e=d.filter(":first"),f=d.filter(":last");return c.target!==f[0]||c.shiftKey?c.target===e[0]&&c.shiftKey?(f.focus(1),!1):void 0:(e.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(b){var c,d,e=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",b)}):(this.uiDialog.hide(),this._trigger("close",b)),a.ui.dialog.overlay.resize(),this.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==e.uiDialog[0]&&(d=a(this).css("z-index"),isNaN(d)||(c=Math.max(c,d)))}),a.ui.dialog.maxZ=c),this},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d,e=this.options;return e.modal&&!b||!e.stack&&!e.modal?this._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),this.overlay&&(a.ui.dialog.maxZ+=1,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ)),d={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},a.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",a.ui.dialog.maxZ),this.element.attr(d),this._trigger("focus",c),this)},open:function(){if(!this._isOpen){var b,c=this.options,d=this.uiDialog;return this._size(),this._position(c.position),d.show(c.show),this.overlay=c.modal?new a.ui.dialog.overlay(this):null,this.moveToTop(!0),b=this.element.find(":tabbable"),b.length||(b=this.uiDialogButtonPane.find(":tabbable"),b.length||(b=d)),b.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(b){var c=this,d=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof b&&null!==b&&a.each(b,function(){return!(d=!0)}),d?(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a("<button type='button'></button>").attr(d,!0).unbind("click").click(function(){d.click.apply(c.element[0],arguments)}).appendTo(c.uiButtonSet);a.fn.button&&e.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._trigger("dragStop",e,b(f)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}
}c=c===b?this.options.resizable:c;var e=this,f=this.options,g=this.uiDialog.css("position"),h="string"==typeof c?c:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:h,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c,d=[],e=[0,0];b?(("string"==typeof b||"object"==typeof b&&"0"in b)&&(d=b.split?b.split(" "):[b[0],b[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),b={my:d[0]+(e[0]<0?e[0]:"+"+e[0])+" "+d[1]+(e[1]<0?e[1]:"+"+e[1]),at:d.join(" ")}),b=a.extend({},a.ui.dialog.prototype.options.position,b)):b=a.ui.dialog.prototype.options.position,c=this.uiDialog.is(":visible"),c||this.uiDialog.show(),this.uiDialog.position(b),c||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e,f,g=this.uiDialog;switch(b){case"buttons":this._createButtons(d);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":g.removeClass(this.options.dialogClass).addClass(c+d);break;case"disabled":d?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");break;case"draggable":e=g.is(":data(draggable)"),e&&!d&&g.draggable("destroy"),!e&&d&&this._makeDraggable();break;case"position":this._position(d);break;case"resizable":f=g.is(":data(resizable)"),f&&!d&&g.resizable("destroy"),f&&"string"==typeof d&&g.resizable("option","handles",d),!f&&d!==!1&&this._makeResizable(d);break;case"title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(d||"&#160;"))}this._super(b,d)},_size:function(){var b,c,d,e=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),b=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),c=Math.max(0,e.minHeight-b),"auto"===e.height?a.support.minHeight?this.element.css({minHeight:c,height:"auto"}):(this.uiDialog.show(),d=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(d,c))):this.element.height(Math.max(e.height-b,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()<a.ui.dialog.overlay.maxZ?!1:void 0})},1),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=this.oldInstances.pop()||a("<div>").addClass("ui-widget-overlay");return a(document).bind("keydown.dialog-overlay",function(d){var e=a.ui.dialog.overlay.instances;0!==e.length&&e[e.length-1]===c&&b.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}),c.appendTo(document.body).css({width:this.width(),height:this.height()}),a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances),d=0;-1!==c&&this.oldInstances.push(this.instances.splice(c,1)[0]),0===this.instances.length&&a([document,window]).unbind(".dialog-overlay"),b.height(0).width(0).remove(),a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),c>b?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),c>b?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var d=this.element[0],e=!1;d&&(d=d.parentNode);)d==document&&(e=!0);if(!e&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment),d=c[0];if(!d)return;var e=(c.offset(),"hidden"!=a(d).css("overflow"));this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!=g&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(d.axis&&"x"==d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"==d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"==d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"==d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=e.snapMode){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,c=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(c.length){var d=parseInt(c[0].style.zIndex)||0;a(c).each(function(a){this.style.zIndex=d+a}),this[0].style.zIndex=d+c.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){a.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance),e=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(e){var f;if(this.options.greedy){var g=this.options.scope,h=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===g});h.length&&(f=a.data(h[0],"droppable"),f.greedyChild="isover"==e?1:0)}f&&"isover"==e&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,c),f&&"isout"==e&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),jQuery.effects||function(a,b){var c=a.uiBackCompat!==!1,d="ui-effects-";a.effects={effect:{}},function(b,c){function d(a,b,c){var d=m[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function e(a){var c=k(),d=c._rgba=[];return a=a.toLowerCase(),p(j,function(b,e){var f,g=e.re.exec(a),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[l[i].cache]=f[l[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&b.extend(d,g.transparent),c):g[a]}function f(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var g,h="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,j=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],k=b.Color=function(a,c,d,e){return new b.Color.fn.parse(a,c,d,e)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=k.support={},o=b("<p>")[0],p=b.each;o.style.cssText="background-color:rgba(1,1,1,.5)",n.rgba=o.style.backgroundColor.indexOf("rgba")>-1,p(l,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),k.fn=b.extend(k.prototype,{parse:function(f,h,i,j){if(f===c)return this._rgba=[null,null,null,null],this;(f.jquery||f.nodeType)&&(f=b(f).css(h),h=c);var m=this,n=b.type(f),o=this._rgba=[];return h!==c&&(f=[f,h,i,j],n="array"),"string"===n?this.parse(e(f)||g._default):"array"===n?(p(l.rgba.props,function(a,b){o[b.idx]=d(f[b.idx],b)}),this):"object"===n?(f instanceof k?p(l,function(a,b){f[b.cache]&&(m[b.cache]=f[b.cache].slice())}):p(l,function(b,c){var e=c.cache;p(c.props,function(a,b){if(!m[e]&&c.to){if("alpha"===a||null==f[a])return;m[e]=c.to(m._rgba)}m[e][b.idx]=d(f[a],b,!0)}),m[e]&&a.inArray(null,m[e].slice(0,3))<0&&(m[e][3]=1,c.from&&(m._rgba=c.from(m[e])))}),this):void 0},is:function(a){var b=k(a),c=!0,d=this;return p(l,function(a,e){var f,g=b[e.cache];
return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],p(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return p(l,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=k(a),e=c._space(),f=l[e],g=0===this.alpha()?k("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return c=c[f.cache],p(f.props,function(a,e){var f=e.idx,g=h[f],j=c[f],k=m[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=d((j-g)*b+g,e)))}),this[e](i)},blend:function(a){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=k(a)._rgba;return k(b.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var a="rgba(",c=b.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),a="rgb("),a+c.join()+")"},toHslaString:function(){var a="hsla(",c=b.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),a="hsl("),a+c.join()+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();return a&&c.push(~~(255*d)),"#"+b.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),k.fn.parse.prototype=k.fn,l.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===l||1===l?l:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},l.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*f(h,g,b+1/3)),Math.round(255*f(h,g,b)),Math.round(255*f(h,g,b-1/3)),e]},p(l,function(a,e){var f=e.props,g=e.cache,h=e.to,j=e.from;k.fn[a]=function(a){if(h&&!this[g]&&(this[g]=h(this._rgba)),a===c)return this[g].slice();var e,i=b.type(a),l="array"===i||"object"===i?a:arguments,m=this[g].slice();return p(f,function(a,b){var c=l["object"===i?a:b.idx];null==c&&(c=m[b.idx]),m[b.idx]=d(c,b)}),j?(e=k(j(m)),e[g]=m,e):k(m)},p(f,function(c,d){k.fn[c]||(k.fn[c]=function(e){var f,g=b.type(e),h="alpha"===c?this._hsla?"hsla":"rgba":a,j=this[h](),k=j[d.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=b.type(e)),null==e&&d.empty?this:("string"===g&&(f=i.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[d.idx]=e,this[h](j)))})})}),p(h,function(a,c){b.cssHooks[c]={set:function(a,d){var f,g,h="";if("string"!==b.type(d)||(f=e(d))){if(d=k(f||d),!n.rgba&&1!==d._rgba[3]){for(g="backgroundColor"===c?a.parentNode:a;(""===h||"transparent"===h)&&g&&g.style;)try{h=b.css(g,"backgroundColor"),g=g.parentNode}catch(i){}d=d.blend(h&&"transparent"!==h?h:"_default")}d=d.toRgbaString()}try{a.style[c]=d}catch(j){}}},b.fx.step[c]=function(a){a.colorInit||(a.start=k(a.elem,c),a.end=k(a.end),a.colorInit=!0),b.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}}),b.cssHooks.borderColor={expand:function(a){var b={};return p(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},g=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(){var b,c,d=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,e={};if(d&&d.length&&d[0]&&d[d[0]])for(c=d.length;c--;)b=d[c],"string"==typeof d[b]&&(e[a.camelCase(b)]=d[b]);else for(b in d)"string"==typeof d[b]&&(e[b]=d[b]);return e}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&!f[d]&&(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e);return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").andSelf():g;j=j.map(function(){var b=a(this);return{el:b,start:c.call(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c.call(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=jQuery.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{add:b},c,d,e):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{remove:b},c,d,e):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):this._toggleClass(c,d):a.effects.animateClass.call(this,{toggle:c},d,e,f)},switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function e(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function f(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?!1:c&&a.effects[b]?!1:!0}a.extend(a.effects,{version:"1.9.1",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(d+b[c],a[0].style[b[c]])},restore:function(a,c){var e,f;for(f=0;f<c.length;f++)null!==c[f]&&(e=a.data(d+c[f]),e===b&&(e=""),a.css(c[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function c(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=d.complete,g=d.mode;(e.is(":hidden")?"hide"===g:"show"===g)?c():h.call(e[0],d,c)}var d=e.apply(this,arguments),f=d.mode,g=d.queue,h=a.effects.effect[d.effect],i=!h&&c&&a.effects[d.effect];return a.fx.off||!h&&!i?f?this[f](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):h?g===!1?this.each(b):this.queue(g||"fx",b):i.call(this,{options:d,duration:d.duration,callback:d.complete,mode:d.mode})},_show:a.fn.show,show:function(a){if(f(a))return this._show.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:a.fn.hide,hide:function(a){if(f(a))return this._hide.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(f(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){var b=!1;a.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");!b&&d.not(".ui-state-disabled").length&&(b=!0,this.select(c),d.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c),b=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-—–\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),d.each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(b),void 0)},previousPage:function(b){var c,d,e;return this.active?(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(b),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.9.1",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(a,b){"value"===a&&(this.options.value=b,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(a,b)},_value:function(){var a=this.options.value;return"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}})}(jQuery),function(a){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;
if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){if(this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}a(this.handles[c]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())}).mouseleave(function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=b(this.helper.css("left")),h=b(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==i?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(a){var b=this.helper,c=(this.options,this.originalMousePosition),d=this.axis,e=a.pageX-c.left||0,f=a.pageY-c.top||0,g=this._change[d];if(!g)return!1;var h=g.apply(this,[a,e,f]);return this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(h=this._updateRatio(h,a)),h=this._respectSize(h,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options,this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=(this.options,this.position),d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"==e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a,b){var d=(this.helper,this._vBoundaries),e=(this._aspectRatio||b.shiftKey,this.axis),f=c(a.width)&&d.maxWidth&&d.maxWidth<a.width,g=c(a.height)&&d.maxHeight&&d.maxHeight<a.height,h=c(a.width)&&d.minWidth&&d.minWidth>a.width,i=c(a.height)&&d.minHeight&&d.minHeight>a.height;h&&(a.width=d.minWidth),i&&(a.height=d.minHeight),f&&(a.width=d.maxWidth),g&&(a.height=d.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-d.minWidth),f&&l&&(a.left=j-d.maxWidth),i&&m&&(a.top=k-d.minHeight),g&&m&&(a.top=k-d.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var e=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],f=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(e,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;if(this.elementOffset=b.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.ui.ie6?1:0,e=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=(this.options,this.originalSize),d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.options,e=c.element,f=d.containment,g=f instanceof a?f.get(0):/parent/.test(f)?e.parent().get(0):f;if(g)if(c.containerElement=a(g),/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var h=a(g),i=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){i[a]=b(h.css("padding"+c))}),c.containerOffset=h.offset(),c.containerPosition=h.position(),c.containerSize={height:h.innerHeight()-i[3],width:h.innerWidth()-i[1]};var j=c.containerOffset,k=c.containerSize.height,l=c.containerSize.width,m=a.ui.hasScroll(g,"left")?g.scrollWidth:l,n=a.ui.hasScroll(g)?g.scrollHeight:k;c.parentData={element:g,left:j.left,top:j.top,width:m,height:n}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,e=(c.containerSize,c.containerOffset),f=(c.size,c.position),g=c._aspectRatio||b.shiftKey,h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=e),f.left<(c._helper?e.left:0)&&(c.size.width=c.size.width+(c._helper?c.position.left-e.left:c.position.left-h.left),g&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=d.helper?e.left:0),f.top<(c._helper?e.top:0)&&(c.size.height=c.size.height+(c._helper?c.position.top-e.top:c.position.top),g&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?e.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top;var j=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),k=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-e.top)+c.sizeDiff.height),l=c.containerElement.get(0)==c.element.parent().get(0),m=/relative|absolute/.test(c.containerElement.css("position"));l&&m&&(j-=c.parentData.left),j+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-j,g&&(c.size.height=c.size.width/c.aspectRatio)),k+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-k,g&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=(b.position,b.containerOffset),e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.options,b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.options,b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b){var c=a(this).data("resizable"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis;d._aspectRatio||b.shiftKey,d.grid="number"==typeof d.grid?[d.grid,d.grid]:d.grid;var i=Math.round((e.width-f.width)/(d.grid[0]||1))*(d.grid[0]||1),j=Math.round((e.height-f.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j):/^(ne)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j):/^(sw)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.left=g.left-i):(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j,c.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this;if(this.opos=[b.pageX,b.pageY],!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;if(this.dragged=!0,!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=c.element[0]){var j=!1;"touch"==d.tolerance?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):"fit"==d.tolerance&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,this.options,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c,d,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),e.range&&(e.range===!0&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&2!==e.values.length&&(e.values=[e.values[0],e.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))),d=e.values&&e.values.length||1,c=f.length;d>c;c++)h.push(g);this.handles=f.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){e.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)}),this._on(this.handles,{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));e>c&&(e=c,f=a(this),g=b)}),l.range===!0&&this.values(1)===l.min&&(g+=1,f=a(this.handles[g])),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch(a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))}})}(jQuery),function(a){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var e=null;if(a(b.target).parents().each(function(){return a.data(this,d.widgetName+"-item")==d?(e=a(this),!1):void 0}),a.data(b.target,d.widgetName+"-item")==d&&(e=a(b.target)),!e)return!1;if(this.options.handle&&!c){var f=!1;if(a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(f=!0)}),!f)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options;
if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&f.instance===this.currentContainer&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c="x"===this.options.axis||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d="y"===this.options.axis||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"==g||"down"==f?2:1:f&&("down"==f?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&d||"left"==f&&!d:e&&("down"==e&&c||"up"==e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]==a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}for(var f=d.length-1;f>=0;f--)for(var j=d[f][1],k=d[f][0],h=0,l=k.length;l>h;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){b=b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var c=a(document.createElement(b.currentItem[0].nodeName)).addClass(d||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(c.style.visibility="hidden"),c},update:function(a,e){(!d||c.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(var f=1e4,g=null,h=this.containers[d].floating?"left":"top",i=this.containers[d].floating?"width":"height",j=this.positionAbs[h]+this.offset.click[h],k=this.items.length-1;k>=0;k--)if(a.contains(this.containers[d].element[0],this.items[k].item[0])&&this.items[k].item[0]!=this.currentItem[0]){var l=this.items[k].item.offset()[h],m=!1;Math.abs(l-j)>Math.abs(l+this.items[k][i]-j)&&(m=!0,l+=this.items[k][i]),Math.abs(l-j)<f&&(f=Math.abs(l-j),g=this.items[k],this.direction=m?"up":"down")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(""==d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid)){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(b,c){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])&&(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(c||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.9.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,b){return b?this.spinning||this._start(a)?(this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault(),void 0):!1:void 0},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:(this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,this.element.val(this._format(c)),void 0}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._spin((a||1)*this.options.step)},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._spin((a||1)*-this.options.step)},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(b(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&a.href.replace(f,"")===location.href.replace(f,"")}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.9.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options,d=c.active,e=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===d&&(e&&this.tabs.each(function(b,c){return a(c).attr("aria-controls")===e?(d=b,!1):void 0}),null===d&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===d||-1===d)&&(d=this.tabs.length?0:!1)),d!==!1&&(d=this.tabs.index(this.tabs.eq(d)),-1===d&&(d=c.collapsible?!1:0)),c.active=d,!c.collapsible&&c.active===!1&&this.anchors.length&&(c.active=0),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),this._activate(d),void 0;case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),this._activate(d===this.options.active?!1:d),void 0;default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):"disabled"===a?(this._setupDisabled(b),void 0):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&this.options.active===!1&&this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b),void 0)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()
},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d,e=this.element.parent();"fill"===b?(a.support.minHeight||(d=e.css("overflow"),e.css("overflow","hidden")),c=e.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),d&&e.css("overflow",d),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),!j.length&&!i.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c):b.removeAttr("aria-controls")}),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&(a.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},a.widget("ui.tabs",a.ui.tabs,{url:function(a,b){this.anchors.eq(a).attr("href",b)}}),a.widget("ui.tabs",a.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var b=this;this._on({tabsbeforeload:function(c,d){return a.data(d.tab[0],"cache.tabs")?(c.preventDefault(),void 0):(d.jqXHR.success(function(){b.options.cache&&a.data(d.tab[0],"cache.tabs",!0)}),void 0)}})},_ajaxSettings:function(b,c,d){var e=this.options.ajaxOptions;return a.extend({},e,{error:function(a,b){try{e.error(a,b,d.tab.closest("li").index(),d.tab[0])}catch(c){}}},this._superApply(arguments))},_setOption:function(a,b){"cache"===a&&b===!1&&this.anchors.removeData("cache.tabs"),this._super(a,b)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),a.widget("ui.tabs",a.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(a,b){if(a.target===this.element[0]&&this.options.spinner){var c=b.tab.find("span"),d=c.html();c.html(this.options.spinner),b.jqXHR.complete(function(){c.html(d)})}}})}}),a.widget("ui.tabs",a.ui.tabs,{options:{enable:null,disable:null},enable:function(b){var c,d=this.options;(b&&d.disabled===!0||a.isArray(d.disabled)&&-1!==a.inArray(b,d.disabled))&&(c=!0),this._superApply(arguments),c&&this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(b){var c,d=this.options;(b&&d.disabled===!1||a.isArray(d.disabled)&&-1===a.inArray(b,d.disabled))&&(c=!0),this._superApply(arguments),c&&this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}}),a.widget("ui.tabs",a.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(c,d,e){e===b&&(e=this.anchors.length);var f,g,h=this.options,i=a(h.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),j=c.indexOf("#")?this._tabId(i):c.replace("#","");return i.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),i.attr("aria-controls",j),f=e>=this.tabs.length,g=this.element.find("#"+j),g.length||(g=this._createPanel(j),f?e>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[e])),g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),f?i.appendTo(this.tablist):i.insertBefore(this.tabs[e]),h.disabled=a.map(h.disabled,function(a){return a>=e?++a:a}),this.refresh(),1===this.tabs.length&&h.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.tabs.eq(b).remove(),e=this._getPanelForTab(d).remove();return d.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!==b}),function(a){return a>=b?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this}}),a.widget("ui.tabs",a.ui.tabs,{length:function(){return this.anchors.length}}),a.widget("ui.tabs",a.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(b){var d=b.is("li")?b.find("a[href]"):b;return d=d[0],a(d).closest("li").attr("aria-controls")||d.title&&d.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+c()}}),a.widget("ui.tabs",a.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(b){return a(this.options.panelTemplate).attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),a.widget("ui.tabs",a.ui.tabs,{_create:function(){var a=this.options;null===a.active&&a.selected!==b&&(a.active=-1===a.selected?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(a,b){if("selected"!==a)return this._super(a,b);var c=this.options;this._super("active",-1===b?!1:b),c.selected=c.active,c.selected===!1&&(c.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),a.widget("ui.tabs",a.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(a,b,c){var d=this._superApply(arguments);return d?("beforeActivate"===a&&c.newTab.length?d=this._super("select",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()}):"activate"===a&&c.newTab.length&&(d=this._super("show",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()})),d):!1}}),a.widget("ui.tabs",a.ui.tabs,{select:function(a){if(a=this._getIndex(a),-1===a){if(!this.options.collapsible||-1===this.options.selected)return;a=this.options.selected}this.anchors.eq(a).trigger(this.options.event+this.eventNamespace)}}),function(){var b=0;a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var a,b=this.options;null==b.active&&b.cookie&&(a=parseInt(this._cookie(),10),-1===a&&(a=!1),b.active=a),this._super()},_cookie:function(c){var d=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++b)];return arguments.length&&(d.push(c===!1?-1:c),d.push(this.options.cookie)),a.cookie.apply(null,d)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(b,c,d){var e=a.extend({},d);return"load"===b&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(b,c,e)}}),a.widget("ui.tabs",a.ui.tabs,{options:{fx:null},_getFx:function(){var b,c,d=this.options.fx;return d&&(a.isArray(d)?(b=d[0],c=d[1]):b=c=d),d?{show:c,hide:b}:null},_toggle:function(a,b){function c(){e.running=!1,e._trigger("activate",a,b)}function d(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&h.show?f.animate(h.show,h.show.duration,function(){c()}):(f.show(),c())}var e=this,f=b.newPanel,g=b.oldPanel,h=this._getFx();return h?(e.running=!0,g.length&&h.hide?g.animate(h.hide,h.hide.duration,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),d()),void 0):this._super(a,b)}}))}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.9.1",options:{content:function(){return a(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flipfit"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),this.options[b]=c,void 0):(this._super(b,c),"content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)}),void 0)},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);if(d.length)return this.options.track&&d.data("ui-tooltip-id")?(this._find(d).position(a.extend({of:d},this.options.position)),this._off(this.document,"mousemove"),void 0):(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b;a(this).data("tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),this.title&&(a(this).uniqueId(),c.parents[this.id]={element:this,title:this.title},this.title="")}),this._updateContent(d,b),void 0)},_updateContent:function(a,b){var c,d=this.options.content,e=this;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("tooltip-open")&&e._delay(function(){this._open(b,a,c)})}),c&&this._open(b,a,c),void 0)},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return g.find(".ui-tooltip-content").html(e),void 0;d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.originalEvent.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(a,b){b.element.title=b.title,delete d.parents[a]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),a.fn.bgiframe&&e.bgiframe(),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery);var dust={};!function(dust){function Context(a,b,c){this.stack=a,this.global=b,this.blocks=c}function Stack(a,b,c,d){this.tail=b,this.isObject=!dust.isArray(a)&&a&&"object"==typeof a,this.head=a,this.index=c,this.of=d}function Stub(a){this.head=new Chunk(this),this.callback=a,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(a,b,c){this.root=a,this.next=b,this.data="",this.flushable=!1,this.taps=c}function Tap(a,b){this.head=a,this.tail=b}dust.cache={},dust.register=function(a,b){a&&(dust.cache[a]=b)},dust.render=function(a,b,c){var d=new Stub(c).head;dust.load(a,d,Context.wrap(b)).end()},dust.stream=function(a,b){var c=new Stream;return dust.nextTick(function(){dust.load(a,c.head,Context.wrap(b)).end()}),c},dust.renderSource=function(a,b,c){return dust.compileFn(a)(b,c)},dust.compileFn=function(a,b){var c=dust.loadSource(dust.compile(a,b));return function(a,b){var d=b?new Stub(b):new Stream;return dust.nextTick(function(){c(d.head,Context.wrap(a)).end()}),d}},dust.load=function(a,b,c){var d=dust.cache[a];return d?d(b,c):dust.onLoad?b.map(function(b){dust.onLoad(a,function(d,e){return d?b.setError(d):(dust.cache[a]||dust.loadSource(dust.compile(e,a)),dust.cache[a](b,c).end(),void 0)})}):b.setError(new Error("Template Not Found: "+a))},dust.loadSource=function(source,path){return eval(source)},dust.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},dust.nextTick=function(a){setTimeout(a,0)},dust.isEmpty=function(a){return dust.isArray(a)&&!a.length?!0:0===a?!1:!a},dust.filter=function(a,b,c){if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d];"s"===f?b=null:a=dust.filters[f](a)}return b&&(a=dust.filters[b](a)),a},dust.filters={h:function(a){return dust.escapeHtml(a)},j:function(a){return dust.escapeJs(a)},u:encodeURI,uc:encodeURIComponent},dust.makeBase=function(a){return new Context(new Stack,a)},Context.wrap=function(a){return a instanceof Context?a:new Context(new Stack(a))},Context.prototype.get=function(a){for(var b,c=this.stack;c;){if(c.isObject&&(b=c.head[a],void 0!==b))return b;c=c.tail}return this.global?this.global[a]:void 0},Context.prototype.getPath=function(a,b){var c=this.stack,d=b.length;if(a&&0===d)return c.head;if(!c.isObject)return void 0;c=c.head;for(var e=0;c&&d>e;)c=c[b[e]],e++;return c},Context.prototype.push=function(a,b,c){return new Context(new Stack(a,this.stack,b,c),this.global,this.blocks)},Context.prototype.rebase=function(a){return new Context(new Stack(a),this.global,this.blocks)},Context.prototype.current=function(){return this.stack.head},Context.prototype.getBlock=function(a){var b=this.blocks;if(b)for(var c,d=b.length;d--;)if(c=b[d][a])return c},Context.prototype.shiftBlocks=function(a){var b=this.blocks;return a?(newBlocks=b?b.concat([a]):[a],new Context(this.stack,this.global,newBlocks)):this},Stub.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.callback(a.error),this.flush=function(){},void 0):void 0;this.out+=a.data,a=a.next,this.head=a}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.emit("error",a.error),this.flush=function(){},void 0):void 0;this.emit("data",a.data),a=a.next,this.head=a}this.emit("end")},Stream.prototype.emit=function(a,b){var c=this.events;c&&c[a]&&c[a](b)},Stream.prototype.on=function(a,b){return this.events||(this.events={}),this.events[a]=b,this},Chunk.prototype.write=function(a){var b=this.taps;return b&&(a=b.go(a)),this.data+=a,this},Chunk.prototype.end=function(a){return a&&this.write(a),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(a){var b=new Chunk(this.root,this.next,this.taps),c=new Chunk(this.root,b,this.taps);return this.next=c,this.flushable=!0,a(c),b},Chunk.prototype.tap=function(a){var b=this.taps;return this.taps=b?b.push(a):new Tap(a),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(a,b){return a(this,b)},Chunk.prototype.reference=function(a,b,c,d){return"function"==typeof a&&(a=a(this,b,null,{auto:c,filters:d}),a instanceof Chunk)?a:dust.isEmpty(a)?this:this.write(dust.filter(a,c,d))},Chunk.prototype.section=function(a,b,c,d){if("function"==typeof a&&(a=a(this,b,c,d),a instanceof Chunk))return a;var e=c.block,f=c["else"];if(d&&(b=b.push(d)),dust.isArray(a)){if(e){for(var g=a.length,h=this,i=0;g>i;i++)h=e(h,b.push(a[i],i,g));return h}}else if(a===!0){if(e)return e(this,b)}else if(a||0===a){if(e)return e(this,b.push(a))}else if(f)return f(this,b);return this},Chunk.prototype.exists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(e)return e(this,b)}else if(d)return d(this,b);return this},Chunk.prototype.notexists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(d)return d(this,b)}else if(e)return e(this,b);return this},Chunk.prototype.block=function(a,b,c){var d=c.block;return a&&(d=a),d?d(this,b):this},Chunk.prototype.partial=function(a,b){return"function"==typeof a?this.capture(a,b,function(a,c){dust.load(a,c,b).end()}):dust.load(a,this,b)},Chunk.prototype.helper=function(a,b,c,d){return dust.helpers[a](this,b,c,d)},Chunk.prototype.capture=function(a,b,c){return this.map(function(d){var e=new Stub(function(a,b){a?d.setError(a):c(b,d)});a(e.head,b).end()})},Chunk.prototype.setError=function(a){return this.error=a,this.root.flush(),this},Tap.prototype.push=function(a){return new Tap(a,this)},Tap.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var HCHARS=new RegExp(/[&<>\"]/),AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g;dust.escapeHtml=function(a){return"string"==typeof a?HCHARS.test(a)?a.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;"):a:a};var BS=/\\/g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(a){return"string"==typeof a?a.replace(BS,"\\\\").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):a}}(dust),"undefined"!=typeof exports&&(dust.helpers=require("./dust-helpers").helpers,"undefined"!=typeof process&&require("./server")(dust),module.exports=dust),function(dust){var helpers={sep:function(a,b,c){return b.stack.index===b.stack.of-1?a:c.block(a,b)},idx:function(a,b,c){return c.block(a,b.push(b.stack.index))},lookup:function(a,b,c,d){var e,f=d.path.split("."),g=0,h=f.length-1;return function i(a){function c(){a=b.stack.tail.head,g=0,i(a)}a[f[g]]?(a=a[f[g]],h>g?"object"==typeof a&&a.hasOwnProperty?(g+=1,i(a)):c():e=a):c()}(b.stack.tail.head),a.write(e),a},"if":function(chunk,context,bodies,params){var cond=params.cond;if(params&&params.cond){if("function"==typeof cond&&(cond="",boundary="",chunk.tap(function(a){return""!==boundary&&"{"===boundary[boundary.length-1]?(a=""===a||"}"===a?!1:!0,boundary=""):boundary=a,cond+=a,cond=cond.replace("{",""),cond=cond.replace("}",""),""}).render(params.cond,context).untap(),""===cond&&(cond=!1)),eval(cond))return chunk.render(bodies.block,context);if(bodies["else"])return chunk.render(bodies["else"],context)}else window.console&&window.console.log("No expression given!");return chunk}};dust.helpers=helpers}("undefined"!=typeof exports?exports:window.dust),function(a){function b(b){var c={};return a.filterNode(c,b)}function c(b,c){for(var d=[c[0]],e=1,f=c.length;f>e;e++){var g=a.filterNode(b,c[e]);g&&d.push(g)}return d}function d(b,c){for(var d,e=[c[0]],f=1,g=c.length;g>f;f++){var h=a.filterNode(b,c[f]);h&&("buffer"===h[0]?d?d[1]+=h[1]:(d=h,e.push(h)):(d=null,e.push(h)))}return e}function e(a,b){return["buffer",m[b[1]]]}function f(a,b){return b}function g(){}function h(b,c){var d={name:c,bodies:[],blocks:{},index:0,auto:"h"};return"(function(){dust.register("+(c?'"'+c+'"':"null")+","+a.compileNode(d,b)+");"+i(d)+j(d)+"return body_0;"+"})();"}function i(a){var b=[],c=a.blocks;for(var d in c)b.push(d+":"+c[d]);return b.length?(a.blocks="ctx=ctx.shiftBlocks(blocks);","var blocks={"+b.join(",")+"};"):a.blocks=""}function j(a){for(var b=[],c=a.bodies,d=a.blocks,e=0,f=c.length;f>e;e++)b[e]="function body_"+e+"(chk,ctx){"+d+"return chk"+c[e]+";}";return b.join("")}function k(b,c){for(var d="",e=1,f=c.length;f>e;e++)d+=a.compileNode(b,c[e]);return d}function l(b,c,d){return"."+d+"("+a.compileNode(b,c[1])+","+a.compileNode(b,c[2])+","+a.compileNode(b,c[4])+","+a.compileNode(b,c[3])+")"}a.compile=function(c,d){try{var e=b(a.parse(c));return h(e,d)}catch(f){if(!f.line||!f.column)throw f;throw new SyntaxError(f.message+" At line : "+f.line+", column : "+f.column)}},a.filterNode=function(b,c){return a.optimizers[c[0]](b,c)},a.optimizers={body:d,buffer:f,special:e,format:g,reference:c,"#":c,"?":c,"^":c,"<":c,"+":c,"@":c,"%":c,partial:c,context:c,params:c,bodies:c,param:c,filters:f,key:f,path:f,literal:f,comment:g},a.pragmas={esc:function(a,b,c){var d=a.auto;b||(b="h"),a.auto="s"===b?"":b;var e=k(a,c.block);return a.auto=d,e}};var m={s:" ",n:"\n",r:"\r",lb:"{",rb:"}"};a.compileNode=function(b,c){return a.nodes[c[0]](b,c)},a.nodes={body:function(a,b){var c=a.index++,d="body_"+c;return a.bodies[c]=k(a,b),d},buffer:function(a,b){return".write("+n(b[1])+")"},format:function(a,b){return".write("+n(b[1]+b[2])+")"},reference:function(b,c){return".reference("+a.compileNode(b,c[1])+",ctx,"+a.compileNode(b,c[2])+")"},"#":function(a,b){return l(a,b,"section")},"?":function(a,b){return l(a,b,"exists")},"^":function(a,b){return l(a,b,"notexists")},"<":function(b,c){for(var d=c[4],e=1,f=d.length;f>e;e++){var g=d[e],h=g[1][1];if("block"===h)return b.blocks[c[1].text]=a.compileNode(b,g[2]),""}return""},"+":function(b,c){return".block(ctx.getBlock("+n(c[1].text)+"),"+a.compileNode(b,c[2])+","+a.compileNode(b,c[4])+","+a.compileNode(b,c[3])+")"},"@":function(b,c){return".helper("+n(c[1].text)+","+a.compileNode(b,c[2])+","+a.compileNode(b,c[4])+","+a.compileNode(b,c[3])+")"},"%":function(b,c){var d=c[1][1];if(!a.pragmas[d])return"";for(var e=c[4],f={},g=1,h=e.length;h>g;g++){var i=e[g];f[i[1][1]]=i[2]}for(var j=c[3],k={},g=1,h=j.length;h>g;g++){var l=j[g];k[l[1][1]]=l[2][1]}var m=c[2][1]?c[2][1].text:null;return a.pragmas[d](b,m,f,k)},partial:function(b,c){return".partial("+a.compileNode(b,c[1])+","+a.compileNode(b,c[2])+")"},context:function(b,c){return c[1]?"ctx.rebase("+a.compileNode(b,c[1])+")":"ctx"},params:function(b,c){for(var d=[],e=1,f=c.length;f>e;e++)d.push(a.compileNode(b,c[e]));return d.length?"{"+d.join(",")+"}":"null"},bodies:function(b,c){for(var d=[],e=1,f=c.length;f>e;e++)d.push(a.compileNode(b,c[e]));return"{"+d.join(",")+"}"},param:function(b,c){return a.compileNode(b,c[1])+":"+a.compileNode(b,c[2])},filters:function(a,b){for(var c=[],d=1,e=b.length;e>d;d++){var f=b[d];c.push('"'+f+'"')}return'"'+a.auto+'"'+(c.length?",["+c.join(",")+"]":"")},key:function(a,b){return'ctx.get("'+b[1]+'")'},path:function(a,b){for(var c=b[1],d=b[2],e=[],f=0,g=d.length;g>f;f++)e.push('"'+d[f]+'"');return"ctx.getPath("+c+",["+e.join(",")+"])"},literal:function(a,b){return n(b[1])}};var n="undefined"==typeof JSON?function(b){return'"'+a.escapeJs(b)+'"'}:JSON.stringify}("undefined"!=typeof exports?exports:window.dust),function(a){var b=function(){var a={parse:function(a,c){function d(a,b,c){for(var d=a,e=c-a.length,f=0;e>f;f++)d=b+d;return d}function e(a){var b=a.charCodeAt(0);if(255>=b)var c="x",e=2;else var c="u",e=4;return"\\"+c+d(b.toString(16).toUpperCase(),"0",e)}function f(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,e)+'"'}function g(a){N>L||(L>N&&(N=L,O=[]),O.push(a))}function h(){var a="body@"+L,b=P[a];if(b)return L=b.nextPos,b.result;for(var c=L,d=[],e=i();null!==e;){d.push(e);var e=i()}var f=null!==d?function(a){return["body"].concat(a)}(d):null;if(null!==f)var g=f;else{var g=null;L=c}return P[a]={nextPos:L,result:g},g}function i(){var a="part@"+L,b=P[a];if(b)return L=b.nextPos,b.result;var c=B();if(null!==c)var d=c;else{var e=j();if(null!==e)var d=e;else{var f=q();if(null!==f)var d=f;else{var g=s();if(null!==g)var d=g;else{var h=p();if(null!==h)var d=h;else{var i=y();if(null!==i)var d=i;else var d=null}}}}}return P[a]={nextPos:L,result:d},d}function j(){var b="section@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,i=k();if(null!==i){var j=E();if(null!==j){var m=h();if(null!==m){var n=o();if(null!==n){var p=l();if(null!==p){var q=function(){return r?r[1].text===m.text:!0}()?"":null;if(null!==q)var r=[i,j,m,n,p,q];else{var r=null;L=f}}else{var r=null;L=f}}else{var r=null;L=f}}else{var r=null;L=f}}else{var r=null;L=f}}else{var r=null;L=f}var s=null!==r?function(a,b,c){return c.push(["param",["literal","block"],b]),a.push(c),a}(r[0],r[2],r[3],r[4]):null;if(null!==s)var t=s;else{var t=null;L=e}if(null!==t)var u=t;else{var v=L,w=L,x=k();if(null!==x){if("/"===a.substr(L,1)){var y="/";L+=1}else{var y=null;M&&g('"/"')}if(null!==y){var z=E();if(null!==z)var A=[x,y,z];else{var A=null;L=w}}else{var A=null;L=w}}else{var A=null;L=w}var B=null!==A?function(a){return a.push(["bodies"]),a}(A[0]):null;if(null!==B)var C=B;else{var C=null;
L=v}if(null!==C)var u=C;else var u=null}return M=d,M&&null===u&&g("section"),P[b]={nextPos:L,result:u},u}function k(){var b="sec_tag_start@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=L,e=L,f=D();if(null!==f){if(null!==a.substr(L).match(/^[#?^<+@%]/)){var h=a.charAt(L);L++}else{var h=null;M&&g("[#?^<+@%]")}if(null!==h){var i=t();if(null!==i){var j=m();if(null!==j){var k=n();if(null!==k)var l=[f,h,i,j,k];else{var l=null;L=e}}else{var l=null;L=e}}else{var l=null;L=e}}else{var l=null;L=e}}else{var l=null;L=e}var o=null!==l?function(a,b,c,d){return[a,b,c,d]}(l[1],l[2],l[3],l[4]):null;if(null!==o)var p=o;else{var p=null;L=d}return P[b]={nextPos:L,result:p},p}function l(){var b="end_tag@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=D();if(null!==h){if("/"===a.substr(L,1)){var i="/";L+=1}else{var i=null;M&&g('"/"')}if(null!==i){var j=t();if(null!==j){var k=E();if(null!==k)var l=[h,i,j,k];else{var l=null;L=f}}else{var l=null;L=f}}else{var l=null;L=f}}else{var l=null;L=f}var m=null!==l?function(a){return a}(l[2]):null;if(null!==m)var n=m;else{var n=null;L=e}return M=d,M&&null===n&&g("end tag"),P[b]={nextPos:L,result:n},n}function m(){var b="context@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=L,e=L,f=L;if(":"===a.substr(L,1)){var h=":";L+=1}else{var h=null;M&&g('":"')}if(null!==h){var i=t();if(null!==i)var j=[h,i];else{var j=null;L=f}}else{var j=null;L=f}var k=null!==j?function(a){return a}(j[1]):null;if(null!==k)var l=k;else{var l=null;L=e}var m=null!==l?l:"",n=null!==m?function(a){return a?["context",a]:["context"]}(m):null;if(null!==n)var o=n;else{var o=null;L=d}return P[b]={nextPos:L,result:o},o}function n(){var b="params@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=[],h=L,i=L,j=G();if(null!==j){var k=v();if(null!==k){if("="===a.substr(L,1)){var l="=";L+=1}else{var l=null;M&&g('"="')}if(null!==l){var m=t();if(null!==m)var n=m;else{var o=w();if(null!==o)var n=o;else var n=null}if(null!==n)var p=[j,k,l,n];else{var p=null;L=i}}else{var p=null;L=i}}else{var p=null;L=i}}else{var p=null;L=i}var q=null!==p?function(a,b){return["param",["literal",a],b]}(p[1],p[3]):null;if(null!==q)var r=q;else{var r=null;L=h}for(;null!==r;){f.push(r);var h=L,i=L,j=G();if(null!==j){var k=v();if(null!==k){if("="===a.substr(L,1)){var l="=";L+=1}else{var l=null;M&&g('"="')}if(null!==l){var m=t();if(null!==m)var n=m;else{var o=w();if(null!==o)var n=o;else var n=null}if(null!==n)var p=[j,k,l,n];else{var p=null;L=i}}else{var p=null;L=i}}else{var p=null;L=i}}else{var p=null;L=i}var q=null!==p?function(a,b){return["param",["literal",a],b]}(p[1],p[3]):null;if(null!==q)var r=q;else{var r=null;L=h}}var s=null!==f?function(a){return["params"].concat(a)}(f):null;if(null!==s)var u=s;else{var u=null;L=e}return M=d,M&&null===u&&g("params"),P[b]={nextPos:L,result:u},u}function o(){var b="bodies@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=[],i=L,j=L,k=D();if(null!==k){if(":"===a.substr(L,1)){var l=":";L+=1}else{var l=null;M&&g('":"')}if(null!==l){var m=v();if(null!==m){var n=E();if(null!==n){var o=h();if(null!==o)var p=[k,l,m,n,o];else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}var q=null!==p?function(a,b){return["param",["literal",a],b]}(p[2],p[4]):null;if(null!==q)var r=q;else{var r=null;L=i}for(;null!==r;){f.push(r);var i=L,j=L,k=D();if(null!==k){if(":"===a.substr(L,1)){var l=":";L+=1}else{var l=null;M&&g('":"')}if(null!==l){var m=v();if(null!==m){var n=E();if(null!==n){var o=h();if(null!==o)var p=[k,l,m,n,o];else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}}else{var p=null;L=j}var q=null!==p?function(a,b){return["param",["literal",a],b]}(p[2],p[4]):null;if(null!==q)var r=q;else{var r=null;L=i}}var s=null!==f?function(a){return["bodies"].concat(a)}(f):null;if(null!==s)var t=s;else{var t=null;L=e}return M=d,M&&null===t&&g("bodies"),P[b]={nextPos:L,result:t},t}function p(){var a="reference@"+L,b=P[a];if(b)return L=b.nextPos,b.result;var c=M;M=!1;var d=L,e=L,f=D();if(null!==f){var h=t();if(null!==h){var i=r();if(null!==i){var j=E();if(null!==j)var k=[f,h,i,j];else{var k=null;L=e}}else{var k=null;L=e}}else{var k=null;L=e}}else{var k=null;L=e}var l=null!==k?function(a,b){return["reference",a,b]}(k[1],k[2]):null;if(null!==l)var m=l;else{var m=null;L=d}return M=c,M&&null===m&&g("reference"),P[a]={nextPos:L,result:m},m}function q(){var b="partial@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=D();if(null!==h){if(">"===a.substr(L,1)){var i=">";L+=1}else{var i=null;M&&g('">"')}if(null!==i){var j=L,k=v(),l=null!==k?function(a){return["literal",a]}(k):null;if(null!==l)var n=l;else{var n=null;L=j}if(null!==n)var o=n;else{var p=w();if(null!==p)var o=p;else var o=null}if(null!==o){var q=m();if(null!==q){if("/"===a.substr(L,1)){var r="/";L+=1}else{var r=null;M&&g('"/"')}if(null!==r){var s=E();if(null!==s)var t=[h,i,o,q,r,s];else{var t=null;L=f}}else{var t=null;L=f}}else{var t=null;L=f}}else{var t=null;L=f}}else{var t=null;L=f}}else{var t=null;L=f}var u=null!==t?function(a,b){return["partial",a,b]}(t[2],t[3]):null;if(null!==u)var x=u;else{var x=null;L=e}return M=d,M&&null===x&&g("partial"),P[b]={nextPos:L,result:x},x}function r(){var b="filters@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=[],h=L,i=L;if("|"===a.substr(L,1)){var j="|";L+=1}else{var j=null;M&&g('"|"')}if(null!==j){var k=v();if(null!==k)var l=[j,k];else{var l=null;L=i}}else{var l=null;L=i}var m=null!==l?function(a){return a}(l[1]):null;if(null!==m)var n=m;else{var n=null;L=h}for(;null!==n;){f.push(n);var h=L,i=L;if("|"===a.substr(L,1)){var j="|";L+=1}else{var j=null;M&&g('"|"')}if(null!==j){var k=v();if(null!==k)var l=[j,k];else{var l=null;L=i}}else{var l=null;L=i}var m=null!==l?function(a){return a}(l[1]):null;if(null!==m)var n=m;else{var n=null;L=h}}var o=null!==f?function(a){return["filters"].concat(a)}(f):null;if(null!==o)var p=o;else{var p=null;L=e}return M=d,M&&null===p&&g("filters"),P[b]={nextPos:L,result:p},p}function s(){var b="special@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=D();if(null!==h){if("~"===a.substr(L,1)){var i="~";L+=1}else{var i=null;M&&g('"~"')}if(null!==i){var j=v();if(null!==j){var k=E();if(null!==k)var l=[h,i,j,k];else{var l=null;L=f}}else{var l=null;L=f}}else{var l=null;L=f}}else{var l=null;L=f}var m=null!==l?function(a){return["special",a]}(l[2]):null;if(null!==m)var n=m;else{var n=null;L=e}return M=d,M&&null===n&&g("special"),P[b]={nextPos:L,result:n},n}function t(){var a="identifier@"+L,b=P[a];if(b)return L=b.nextPos,b.result;var c=M;M=!1;var d=L,e=u(),f=null!==e?function(b){return J(["path"].concat(b),a)}(e):null;if(null!==f)var h=f;else{var h=null;L=d}if(null!==h)var i=h;else{var j=L,k=v(),l=null!==k?function(b){return J(["key",b],a)}(k):null;if(null!==l)var m=l;else{var m=null;L=j}if(null!==m)var i=m;else var i=null}return M=c,M&&null===i&&g("identifier"),P[a]={nextPos:L,result:i},i}function u(){var b="path@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=v(),i=null!==h?h:"";if(null!==i){var j=L,k=L;if("."===a.substr(L,1)){var l=".";L+=1}else{var l=null;M&&g('"."')}if(null!==l){var m=v();if(null!==m)var n=[l,m];else{var n=null;L=k}}else{var n=null;L=k}var o=null!==n?function(a){return a}(n[1]):null;if(null!==o)var p=o;else{var p=null;L=j}if(null!==p)for(var q=[];null!==p;){q.push(p);var j=L,k=L;if("."===a.substr(L,1)){var l=".";L+=1}else{var l=null;M&&g('"."')}if(null!==l){var m=v();if(null!==m)var n=[l,m];else{var n=null;L=k}}else{var n=null;L=k}var o=null!==n?function(a){return a}(n[1]):null;if(null!==o)var p=o;else{var p=null;L=j}}else var q=null;if(null!==q)var r=[i,q];else{var r=null;L=f}}else{var r=null;L=f}var s=null!==r?function(a,b){return a?(b.unshift(a),[!1,b]):[!0,b]}(r[0],r[1]):null;if(null!==s)var t=s;else{var t=null;L=e}if(null!==t)var u=t;else{var w=L;if("."===a.substr(L,1)){var x=".";L+=1}else{var x=null;M&&g('"."')}var y=null!==x?function(){return[!0,[]]}():null;if(null!==y)var z=y;else{var z=null;L=w}if(null!==z)var u=z;else var u=null}return M=d,M&&null===u&&g("path"),P[b]={nextPos:L,result:u},u}function v(){var b="key@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L;if(null!==a.substr(L).match(/^[a-zA-Z_$]/)){var h=a.charAt(L);L++}else{var h=null;M&&g("[a-zA-Z_$]")}if(null!==h){var i=[];if(null!==a.substr(L).match(/^[0-9a-zA-Z_$]/)){var j=a.charAt(L);L++}else{var j=null;M&&g("[0-9a-zA-Z_$]")}for(;null!==j;)if(i.push(j),null!==a.substr(L).match(/^[0-9a-zA-Z_$]/)){var j=a.charAt(L);L++}else{var j=null;M&&g("[0-9a-zA-Z_$]")}if(null!==i)var k=[h,i];else{var k=null;L=f}}else{var k=null;L=f}var l=null!==k?function(a,b){return a+b.join("")}(k[0],k[1]):null;if(null!==l)var m=l;else{var m=null;L=e}return M=d,M&&null===m&&g("key"),P[b]={nextPos:L,result:m},m}function w(){var b="inline@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L;if('"'===a.substr(L,1)){var h='"';L+=1}else{var h=null;M&&g('"\\""')}if(null!==h){if('"'===a.substr(L,1)){var i='"';L+=1}else{var i=null;M&&g('"\\""')}if(null!==i)var j=[h,i];else{var j=null;L=f}}else{var j=null;L=f}var k=null!==j?function(){return["literal",""]}():null;if(null!==k)var l=k;else{var l=null;L=e}if(null!==l)var m=l;else{var n=L,o=L;if('"'===a.substr(L,1)){var p='"';L+=1}else{var p=null;M&&g('"\\""')}if(null!==p){var q=z();if(null!==q){if('"'===a.substr(L,1)){var r='"';L+=1}else{var r=null;M&&g('"\\""')}if(null!==r)var s=[p,q,r];else{var s=null;L=o}}else{var s=null;L=o}}else{var s=null;L=o}var t=null!==s?function(a){return["literal",a]}(s[1]):null;if(null!==t)var u=t;else{var u=null;L=n}if(null!==u)var m=u;else{var v=L,w=L;if('"'===a.substr(L,1)){var y='"';L+=1}else{var y=null;M&&g('"\\""')}if(null!==y){var A=x();if(null!==A)for(var B=[];null!==A;){B.push(A);var A=x()}else var B=null;if(null!==B){if('"'===a.substr(L,1)){var C='"';L+=1}else{var C=null;M&&g('"\\""')}if(null!==C)var D=[y,B,C];else{var D=null;L=w}}else{var D=null;L=w}}else{var D=null;L=w}var E=null!==D?function(a){return["body"].concat(a)}(D[1]):null;if(null!==E)var F=E;else{var F=null;L=v}if(null!==F)var m=F;else var m=null}}return M=d,M&&null===m&&g("inline"),P[b]={nextPos:L,result:m},m}function x(){var a="inline_part@"+L,b=P[a];if(b)return L=b.nextPos,b.result;var c=s();if(null!==c)var d=c;else{var e=p();if(null!==e)var d=e;else{var f=L,g=z(),h=null!==g?function(a){return["buffer",a]}(g):null;if(null!==h)var i=h;else{var i=null;L=f}if(null!==i)var d=i;else var d=null}}return P[a]={nextPos:L,result:d},d}function y(){var b="buffer@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=F();if(null!==h){for(var i=[],j=G();null!==j;){i.push(j);var j=G()}if(null!==i)var k=[h,i];else{var k=null;L=f}}else{var k=null;L=f}var l=null!==k?function(a,b){return["format",a,b.join("")]}(k[0],k[1]):null;if(null!==l)var m=l;else{var m=null;L=e}if(null!==m)var n=m;else{var o=L,p=L,q=L,r=L,s=M;M=!1;var t=C();if(M=s,null===t)var u="";else{var u=null;L=r}if(null!==u){var v=L,w=M;M=!1;var x=F();if(M=w,null===x)var y="";else{var y=null;L=v}if(null!==y){var z=L,A=M;M=!1;var D=B();if(M=A,null===D)var E="";else{var E=null;L=z}if(null!==E){if(a.length>L){var H=a.charAt(L);L++}else{var H=null;M&&g("any character")}if(null!==H)var I=[u,y,E,H];else{var I=null;L=q}}else{var I=null;L=q}}else{var I=null;L=q}}else{var I=null;L=q}var J=null!==I?function(a){return a}(I[3]):null;if(null!==J)var K=J;else{var K=null;L=p}if(null!==K)for(var N=[];null!==K;){N.push(K);var p=L,q=L,r=L,s=M;M=!1;var t=C();if(M=s,null===t)var u="";else{var u=null;L=r}if(null!==u){var v=L,w=M;M=!1;var x=F();if(M=w,null===x)var y="";else{var y=null;L=v}if(null!==y){var z=L,A=M;M=!1;var D=B();if(M=A,null===D)var E="";else{var E=null;L=z}if(null!==E){if(a.length>L){var H=a.charAt(L);L++}else{var H=null;M&&g("any character")}if(null!==H)var I=[u,y,E,H];else{var I=null;L=q}}else{var I=null;L=q}}else{var I=null;L=q}}else{var I=null;L=q}var J=null!==I?function(a){return a}(I[3]):null;if(null!==J)var K=J;else{var K=null;L=p}}else var N=null;var O=null!==N?function(a){return["buffer",a.join("")]}(N):null;if(null!==O)var Q=O;else{var Q=null;L=o}if(null!==Q)var n=Q;else var n=null}return M=d,M&&null===n&&g("buffer"),P[b]={nextPos:L,result:n},n}function z(){var b="literal@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L,h=L,i=L,j=M;M=!1;var k=C();if(M=j,null===k)var l="";else{var l=null;L=i}if(null!==l){var m=L,n=M;M=!1;var o=F();if(M=n,null===o)var p="";else{var p=null;L=m}if(null!==p){var q=A();if(null!==q)var r=q;else{if(null!==a.substr(L).match(/^[^"]/)){var s=a.charAt(L);L++}else{var s=null;M&&g('[^"]')}if(null!==s)var r=s;else var r=null}if(null!==r)var t=[l,p,r];else{var t=null;L=h}}else{var t=null;L=h}}else{var t=null;L=h}var u=null!==t?function(a){return a}(t[2]):null;if(null!==u)var v=u;else{var v=null;L=f}if(null!==v)for(var w=[];null!==v;){w.push(v);var f=L,h=L,i=L,j=M;M=!1;var k=C();if(M=j,null===k)var l="";else{var l=null;L=i}if(null!==l){var m=L,n=M;M=!1;var o=F();if(M=n,null===o)var p="";else{var p=null;L=m}if(null!==p){var q=A();if(null!==q)var r=q;else{if(null!==a.substr(L).match(/^[^"]/)){var s=a.charAt(L);L++}else{var s=null;M&&g('[^"]')}if(null!==s)var r=s;else var r=null}if(null!==r)var t=[l,p,r];else{var t=null;L=h}}else{var t=null;L=h}}else{var t=null;L=h}var u=null!==t?function(a){return a}(t[2]):null;if(null!==u)var v=u;else{var v=null;L=f}}else var w=null;var x=null!==w?function(a){return a.join("")}(w):null;if(null!==x)var y=x;else{var y=null;L=e}return M=d,M&&null===y&&g("literal"),P[b]={nextPos:L,result:y},y}function A(){var b="esc@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=L;if('\\"'===a.substr(L,2)){var e='\\"';L+=2}else{var e=null;M&&g('"\\\\\\""')}var f=null!==e?function(){return'"'}():null;if(null!==f)var h=f;else{var h=null;L=d}return P[b]={nextPos:L,result:h},h}function B(){var b="comment@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=M;M=!1;var e=L,f=L;if("{!"===a.substr(L,2)){var h="{!";L+=2}else{var h=null;M&&g('"{!"')}if(null!==h){var i=[],j=L,k=L,l=L,m=M;if(M=!1,"!}"===a.substr(L,2)){var n="!}";L+=2}else{var n=null;M&&g('"!}"')}if(M=m,null===n)var o="";else{var o=null;L=l}if(null!==o){if(a.length>L){var p=a.charAt(L);L++}else{var p=null;M&&g("any character")}if(null!==p)var q=[o,p];else{var q=null;L=k}}else{var q=null;L=k}var r=null!==q?function(a){return a}(q[1]):null;if(null!==r)var s=r;else{var s=null;L=j}for(;null!==s;){i.push(s);var j=L,k=L,l=L,m=M;if(M=!1,"!}"===a.substr(L,2)){var n="!}";L+=2}else{var n=null;M&&g('"!}"')}if(M=m,null===n)var o="";else{var o=null;L=l}if(null!==o){if(a.length>L){var p=a.charAt(L);L++}else{var p=null;M&&g("any character")}if(null!==p)var q=[o,p];else{var q=null;L=k}}else{var q=null;L=k}var r=null!==q?function(a){return a}(q[1]):null;if(null!==r)var s=r;else{var s=null;L=j}}if(null!==i){if("!}"===a.substr(L,2)){var t="!}";L+=2}else{var t=null;M&&g('"!}"')}if(null!==t)var u=[h,i,t];else{var u=null;L=f}}else{var u=null;L=f}}else{var u=null;L=f}var v=null!==u?function(a){return["comment",a.join("")]}(u[1]):null;if(null!==v)var w=v;else{var w=null;L=e}return M=d,M&&null===w&&g("comment"),P[b]={nextPos:L,result:w},w}function C(){var b="tag@"+L,c=P[b];if(c)return L=c.nextPos,c.result;var d=L,e=D();if(null!==e){if(null!==a.substr(L).match(/^[#?^><+%:@\/~%]/)){var f=a.charAt(L);L++}else{var f=null;M&&g("[#?^><+%:@\\/~%]")}if(null!==f){var h=L,i=L,j=M;M=!1;var k=E();if(M=j,null===k)var l="";else{var l=null;L=i}if(null!==l){var m=L,n=M;M=!1;var o=F();if(M=n,null===o)var q="";else{var q=null;L=m}if(null!==q){if(a.length>L){var r=a.charAt(L);L++}else{var r=null;M&&g("any character")}if(null!==r)var s=[l,q,r];else{var s=null;L=h}}else{var s=null;L=h}}else{var s=null;L=h}if(null!==s)for(var t=[];null!==s;){t.push(s);var h=L,i=L,j=M;M=!1;var k=E();if(M=j,null===k)var l="";else{var l=null;L=i}if(null!==l){var m=L,n=M;M=!1;var o=F();if(M=n,null===o)var q="";else{var q=null;L=m}if(null!==q){if(a.length>L){var r=a.charAt(L);L++}else{var r=null;M&&g("any character")}if(null!==r)var s=[l,q,r];else{var s=null;L=h}}else{var s=null;L=h}}else{var s=null;L=h}}else var t=null;if(null!==t){var u=E();if(null!==u)var v=[e,f,t,u];else{var v=null;L=d}}else{var v=null;L=d}}else{var v=null;L=d}}else{var v=null;L=d}if(null!==v)var w=v;else{var x=p();if(null!==x)var w=x;else var w=null}return P[b]={nextPos:L,result:w},w}function D(){var b="ld@"+L,c=P[b];if(c)return L=c.nextPos,c.result;if("{"===a.substr(L,1)){var d="{";L+=1}else{var d=null;M&&g('"{"')}return P[b]={nextPos:L,result:d},d}function E(){var b="rd@"+L,c=P[b];if(c)return L=c.nextPos,c.result;if("}"===a.substr(L,1)){var d="}";L+=1}else{var d=null;M&&g('"}"')}return P[b]={nextPos:L,result:d},d}function F(){var b="eol@"+L,c=P[b];if(c)return L=c.nextPos,c.result;if("\n"===a.substr(L,1)){var d="\n";L+=1}else{var d=null;M&&g('"\\n"')}if(null!==d)var e=d;else{if("\r\n"===a.substr(L,2)){var f="\r\n";L+=2}else{var f=null;M&&g('"\\r\\n"')}if(null!==f)var e=f;else{if("\r"===a.substr(L,1)){var h="\r";L+=1}else{var h=null;M&&g('"\\r"')}if(null!==h)var e=h;else{if("\u2028"===a.substr(L,1)){var i="\u2028";L+=1}else{var i=null;M&&g('"\\u2028"')}if(null!==i)var e=i;else{if("\u2029"===a.substr(L,1)){var j="\u2029";L+=1}else{var j=null;M&&g('"\\u2029"')}if(null!==j)var e=j;else var e=null}}}}return P[b]={nextPos:L,result:e},e}function G(){var b="ws@"+L,c=P[b];if(c)return L=c.nextPos,c.result;if(null!==a.substr(L).match(/^[	 \xA0\uFEFF]/)){var d=a.charAt(L);L++}else{var d=null;M&&g("[	\f \\xA0\\uFEFF]")}return P[b]={nextPos:L,result:d},d}function H(){function b(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}var c=b(O),d=Math.max(L,N),e=d<a.length?f(a.charAt(d)):"end of input";return"Expected "+c+" but "+e+" found."}function I(){for(var b=1,c=1,d=!1,e=0;N>e;e++){var f=a.charAt(e);"\n"===f?(d||b++,c=1,d=!1):"\r"===f|"\u2028"===f||"\u2029"===f?(b++,c=1,d=!0):(c++,d=!1)}return{line:b,column:c}}function J(b,c){return b.text=a.substring(c.split("@")[1],L),b}var K={bodies:o,body:h,buffer:y,comment:B,context:m,end_tag:l,eol:F,esc:A,filters:r,identifier:t,inline:w,inline_part:x,key:v,ld:D,literal:z,params:n,part:i,partial:q,path:u,rd:E,reference:p,sec_tag_start:k,section:j,special:s,tag:C,ws:G};if(void 0!==c){if(void 0===K[c])throw new Error("Invalid rule name: "+f(c)+".")}else c="body";var L=0,M=!0,N=0,O=[],P={},Q=K[c]();if(null===Q||L!==a.length){var R=I();throw new b.SyntaxError(H(),R.line,R.column)}return Q},toSource:function(){return this._source}};return a.SyntaxError=function(a,b,c){this.name="SyntaxError",this.message=a,this.line=b,this.column=c},a.SyntaxError.prototype=Error.prototype,a}();a.parse=b.parse}("undefined"!=typeof exports?exports:window.dust),InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var a,b=this,c=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},d=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),b.enableEventPropagation_||c(a)};this.div_||(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(a=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-a.left-a.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),this.enableEventPropagation_||(this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",c),this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",c),this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",c)),this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",d),google.maps.event.trigger(this,"domready"))},InfoBox.prototype.getCloseBoxImg_=function(){var a="";return""!==this.closeBoxURL_&&(a="<img",a+=" src='"+this.closeBoxURL_+"'",a+=" align=right",a+=" style='",a+=" position: relative;",a+=" cursor: pointer;",a+=" margin: "+this.closeBoxMargin_+";",a+="'>"),a},InfoBox.prototype.addClickHandler_=function(){var a;""!==this.closeBoxURL_?(a=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),a.close(),google.maps.event.trigger(a,"closeclick")}},InfoBox.prototype.panBox_=function(a){var b,c,d=0,e=0;if(!a&&(b=this.getMap(),b instanceof google.maps.Map)){b.getBounds().contains(this.position_)||b.setCenter(this.position_),c=b.getBounds();var f=b.getDiv(),g=f.offsetWidth,h=f.offsetHeight,i=this.pixelOffset_.width,j=this.pixelOffset_.height,k=this.div_.offsetWidth,l=this.div_.offsetHeight,m=this.infoBoxClearance_.width,n=this.infoBoxClearance_.height,o=this.getProjection().fromLatLngToContainerPixel(this.position_);o.x<-i+m?d=o.x+i-m:o.x+k+i+m>g&&(d=o.x+k+i+m-g),this.alignBottom_?o.y<-j+n+l?e=o.y+j-n-l:o.y+j+n>h&&(e=o.y+j+n-h):o.y<-j+n?e=o.y+j-n:o.y+l+j+n>h&&(e=o.y+l+j+n-h),(0!==d||0!==e)&&(b.getCenter(),b.panBy(d,e))}},InfoBox.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",b=this.boxStyle_;for(a in b)b.hasOwnProperty(a)&&(this.div_.style[a]=b[a]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var a,b={top:0,bottom:0,left:0,right:0},c=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(a=c.ownerDocument.defaultView.getComputedStyle(c,""),a&&(b.top=parseInt(a.borderTopWidth,10)||0,b.bottom=parseInt(a.borderBottomWidth,10)||0,b.left=parseInt(a.borderLeftWidth,10)||0,b.right=parseInt(a.borderRightWidth,10)||0)):document.documentElement.currentStyle&&c.currentStyle&&(b.top=parseInt(c.currentStyle.borderTopWidth,10)||0,b.bottom=parseInt(c.currentStyle.borderBottomWidth,10)||0,b.left=parseInt(c.currentStyle.borderLeftWidth,10)||0,b.right=parseInt(c.currentStyle.borderRightWidth,10)||0),b},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=a.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px":this.div_.style.top=a.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},InfoBox.prototype.setOptions=function(a){"undefined"!=typeof a.boxClass&&(this.boxClass_=a.boxClass,this.setBoxStyle_()),"undefined"!=typeof a.boxStyle&&(this.boxStyle_=a.boxStyle,this.setBoxStyle_()),"undefined"!=typeof a.content&&this.setContent(a.content),"undefined"!=typeof a.disableAutoPan&&(this.disableAutoPan_=a.disableAutoPan),"undefined"!=typeof a.maxWidth&&(this.maxWidth_=a.maxWidth),"undefined"!=typeof a.pixelOffset&&(this.pixelOffset_=a.pixelOffset),"undefined"!=typeof a.position&&this.setPosition(a.position),"undefined"!=typeof a.zIndex&&this.setZIndex(a.zIndex),"undefined"!=typeof a.closeBoxMargin&&(this.closeBoxMargin_=a.closeBoxMargin),"undefined"!=typeof a.closeBoxURL&&(this.closeBoxURL_=a.closeBoxURL),"undefined"!=typeof a.infoBoxClearance&&(this.infoBoxClearance_=a.infoBoxClearance),"undefined"!=typeof a.isHidden&&(this.isHidden_=a.isHidden),"undefined"!=typeof a.enableEventPropagation&&(this.enableEventPropagation_=a.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(a){this.content_=a,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",this.div_.innerHTML=this.getCloseBoxImg_()+a),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(a){this.position_=a,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(a){this.zIndex_=a,this.div_&&(this.div_.style.zIndex=a),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(a,b){var c=this;b&&(this.position_=b.getPosition(),this.moveListener_=google.maps.event.addListener(b,"position_changed",function(){c.setPosition(this.getPosition())})),this.setMap(a),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListener1_&&(google.maps.event.removeListener(this.eventListener1_),google.maps.event.removeListener(this.eventListener2_),google.maps.event.removeListener(this.eventListener3_),this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null),this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)};var qq=qq||{};qq.extend=function(a,b){for(var c in b)a[c]=b[c]},qq.indexOf=function(a,b,c){if(a.indexOf)return a.indexOf(b,c);c=c||0;var d=a.length;for(0>c&&(c+=d);d>c;c++)if(c in a&&a[c]===b)return c;return-1},qq.getUniqueId=function(){var a=0;return function(){return a++}}(),qq.attach=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},qq.detach=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.attachEvent&&a.detachEvent("on"+b,c)},qq.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)},qq.remove=function(a){a.parentNode.removeChild(a)},qq.contains=function(a,b){return a==b?!0:a.contains?a.contains(b):!!(8&b.compareDocumentPosition(a))},qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c),c}}(),qq.css=function(a,b){null!=b.opacity&&"string"!=typeof a.style.opacity&&"undefined"!=typeof a.filters&&(b.filter="alpha(opacity="+Math.round(100*b.opacity)+")"),qq.extend(a.style,b)},qq.hasClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");return c.test(a.className)},qq.addClass=function(a,b){qq.hasClass(a,b)||(a.className+=" "+b)},qq.removeClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");a.className=a.className.replace(c," ").replace(/^\s+|\s+$/g,"")},qq.setText=function(a,b){a.innerText=b,a.textContent=b},qq.children=function(a){for(var b=[],c=a.firstChild;c;)1==c.nodeType&&b.push(c),c=c.nextSibling;return b},qq.getByClass=function(a,b){if(a.querySelectorAll)return a.querySelectorAll("."+b);for(var c=[],d=a.getElementsByTagName("*"),e=d.length,f=0;e>f;f++)qq.hasClass(d[f],b)&&c.push(d[f]);return c},qq.obj2url=function(a,b,c){var d=[],e="&",f=function(a,c){var e=b?/\[\]$/.test(b)?b:b+"["+c+"]":c;"undefined"!=e&&"undefined"!=c&&d.push("object"==typeof a?qq.obj2url(a,e,!0):"[object Function]"===Object.prototype.toString.call(a)?encodeURIComponent(e)+"="+encodeURIComponent(a()):encodeURIComponent(e)+"="+encodeURIComponent(a))};if(!c&&b)e=/\?/.test(b)?/\?$/.test(b)?"":"&":"?",d.push(b),d.push(qq.obj2url(a));else if("[object Array]"===Object.prototype.toString.call(a)&&"undefined"!=typeof a)for(var g=0,h=a.length;h>g;++g)f(a[g],g);else if("undefined"!=typeof a&&null!==a&&"object"==typeof a)for(var g in a)f(a[g],g);else d.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return d.join(e).replace(/^&/,"").replace(/%20/g,"+")};var qq=qq||{};qq.FileUploaderBasic=function(a){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(a){alert("fdsfdslkfj"),console.log(a)}},qq.extend(this._options,a),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(a){this._options.params=a},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(a){var b=this;return new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(a){b._onInputChange(a)}})},_createUploadHandler:function(){var a,b=this;a=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm";var c=new qq[a]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(a,c,d,e){b._onProgress(a,c,d,e),b._options.onProgress(a,c,d,e)},onComplete:function(a,c,d){b._onComplete(a,c,d),b._options.onComplete(a,c,d)},onCancel:function(a,c){b._onCancel(a,c),b._options.onCancel(a,c)}});return c},_preventLeaveInProgress:function(){var a=this;qq.attach(window,"beforeunload",function(b){if(a._filesInProgress){var b=b||window.event;return b.returnValue=a._options.messages.onLeave,a._options.messages.onLeave}})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(){},_onComplete:function(a,b,c){this._filesInProgress--,c.error&&this._options.showMessage(c.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(a){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(a.files):this._validateFile(a)&&this._uploadFile(a),this._button.reset()},_uploadFileList:function(a){for(var b=0;b<a.length;b++)if(!this._validateFile(a[b]))return;for(var b=0;b<a.length;b++)this._uploadFile(a[b])},_uploadFile:function(a){var b=this._handler.add(a),c=this._handler.getName(b);this._options.onSubmit(b,c)!==!1&&(this._onSubmit(b,c),this._handler.upload(b,this._options.params))},_validateFile:function(a){var b,c;return a.value?b=a.value.replace(/.*(\/|\\)/,""):(b=null!=a.fileName?a.fileName:a.name,c=null!=a.fileSize?a.fileSize:a.size),this._isAllowedExtension(b)?0===c?(this._error("emptyError",b),!1):c&&this._options.sizeLimit&&c>this._options.sizeLimit?(this._error("sizeError",b),!1):c&&c<this._options.minSizeLimit?(this._error("minSizeError",b),!1):!0:(this._error("typeError",b),!1)},_error:function(a,b){function c(a,b){d=d.replace(a,b)}var d=this._options.messages[a];c("{file}",this._formatFileName(b)),c("{extensions}",this._options.allowedExtensions.join(", ")),c("{sizeLimit}",this._formatSize(this._options.sizeLimit)),c("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),this._options.showMessage(d)
},_formatFileName:function(a){return a.length>33&&(a=a.slice(0,19)+"..."+a.slice(-13)),a},_isAllowedExtension:function(a){var b=-1!==a.indexOf(".")?a.replace(/.*[.]/,"").toLowerCase():"",c=this._options.allowedExtensions;if(!c.length)return!0;for(var d=0;d<c.length;d++)if(c[d].toLowerCase()==b)return!0;return!1},_formatSize:function(a){var b=-1;do a/=1024,b++;while(a>99);return Math.max(a,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][b]}},qq.FileUploader=function(a){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">לחצו כאן להעלאת תמונה</div><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,a),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(a,b){var c=qq.getByClass(a,this._options.classes[b])[0];if(!c)throw new Error("element not found "+b);return c},_setupDragDrop:function(){var a=this,b=this._find(this._element,"drop"),c=new qq.UploadDropZone({element:b,onEnter:function(c){qq.addClass(b,a._classes.dropActive),c.stopPropagation()},onLeave:function(a){a.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(b,a._classes.dropActive)},onDrop:function(c){b.style.display="none",qq.removeClass(b,a._classes.dropActive),a._uploadFileList(c.dataTransfer.files)}});b.style.display="none",qq.attach(document,"dragenter",function(a){c._isValidFileDrag(a)&&(b.style.display="block")}),qq.attach(document,"dragleave",function(a){if(c._isValidFileDrag(a)){var d=document.elementFromPoint(a.clientX,a.clientY);d&&"HTML"!=d.nodeName||(b.style.display="none")}})},_onSubmit:function(a,b){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(a,b)},_onProgress:function(a,b,c,d){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var e=this._getItemByFileId(a),f=this._find(e,"size");f.style.display="inline";var g;g=c!=d?Math.round(100*(c/d))+"% from "+this._formatSize(d):this._formatSize(d),qq.setText(f,g)},_onComplete:function(a,b,c){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var d=this._getItemByFileId(a);qq.remove(this._find(d,"cancel")),qq.remove(this._find(d,"spinner")),c.success?qq.addClass(d,this._classes.success):qq.addClass(d,this._classes.fail)},_addToList:function(a,b){var c=qq.toElement(this._options.fileTemplate);c.qqFileId=a;var d=this._find(c,"file");qq.setText(d,this._formatFileName(b)),this._find(c,"size").style.display="none",this._listElement.appendChild(c)},_getItemByFileId:function(a){for(var b=this._listElement.firstChild;b;){if(b.qqFileId==a)return b;b=b.nextSibling}},_bindCancelEvent:function(){var a=this,b=this._listElement;qq.attach(b,"click",function(b){b=b||window.event;var c=b.target||b.srcElement;if(qq.hasClass(c,a._classes.cancel)){qq.preventDefault(b);var d=c.parentNode;a._handler.cancel(d.qqFileId),qq.remove(d)}})}}),qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(this._options,a),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var a=this;qq.attach(a._element,"dragover",function(b){if(a._isValidFileDrag(b)){var c=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"==c||"linkMove"==c?"move":"copy",b.stopPropagation(),b.preventDefault()}}),qq.attach(a._element,"dragenter",function(b){a._isValidFileDrag(b)&&a._options.onEnter(b)}),qq.attach(a._element,"dragleave",function(b){if(a._isValidFileDrag(b)){a._options.onLeave(b);var c=document.elementFromPoint(b.clientX,b.clientY);qq.contains(this,c)||a._options.onLeaveNotDescendants(b)}}),qq.attach(a._element,"drop",function(b){a._isValidFileDrag(b)&&(b.preventDefault(),a._options.onDrop(b))})},_isValidFileDrag:function(a){var b=a.dataTransfer,c=navigator.userAgent.indexOf("AppleWebKit")>-1;return b&&"none"!=b.effectAllowed&&(b.files||!c&&b.types.contains&&b.types.contains("Files"))}},qq.UploadButton=function(a){this._options={element:null,multiple:!1,name:"image",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,a),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var a=document.createElement("input");this._options.multiple&&a.setAttribute("multiple","multiple"),a.setAttribute("type","file"),a.setAttribute("name",this._options.name),qq.css(a,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(a);var b=this;return qq.attach(a,"change",function(){b._options.onChange(a)}),qq.attach(a,"mouseover",function(){qq.addClass(b._element,b._options.hoverClass)}),qq.attach(a,"mouseout",function(){qq.removeClass(b._element,b._options.hoverClass)}),qq.attach(a,"focus",function(){qq.addClass(b._element,b._options.focusClass)}),qq.attach(a,"blur",function(){qq.removeClass(b._element,b._options.focusClass)}),window.attachEvent&&a.setAttribute("tabIndex","-1"),a}},qq.UploadHandlerAbstract=function(a){this._options={debug:!1,action:"/upload",maxConnections:999,onProgress:function(){},onComplete:function(){},onCancel:function(){}},qq.extend(this._options,a),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(a){this._options.debug&&window.console&&console.log("[uploader] "+a)},add:function(){},upload:function(a,b){var c=this._queue.push(a),d={};qq.extend(d,b),this._params[a]=d,c<=this._options.maxConnections&&this._upload(a,this._params[a])},cancel:function(a){this._cancel(a),this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++)this._cancel(this._queue[a]);this._queue=[]},getName:function(){},getSize:function(){},getQueue:function(){return this._queue},_upload:function(){},_cancel:function(){},_dequeue:function(a){var b=qq.indexOf(this._queue,a);this._queue.splice(b,1);var c=this._options.maxConnections;if(this._queue.length>=c&&c>b){var d=this._queue[c-1];this._upload(d,this._params[d])}}},qq.UploadHandlerForm=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name","qqfile");var b="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[b]=a,a.parentNode&&qq.remove(a),b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},_cancel:function(a){this._options.onCancel(a,this.getName(a)),delete this._inputs[a];var b=document.getElementById(a);b&&(b.setAttribute("src","javascript:false;"),qq.remove(b))},_upload:function(a,b){var c=this._inputs[a];if(!c)throw new Error("file with passed id was not added, or already uploaded or cancelled");var d=this.getName(a),e=this._createIframe(a),f=this._createForm(e,b);f.appendChild(c);var g=this;return this._attachLoadEvent(e,function(){g.log("iframe loaded");var b=g._getIframeContentJSON(e);g._options.onComplete(a,d,b),g._dequeue(a),delete g._inputs[a],setTimeout(function(){qq.remove(e)},1)}),f.submit(),qq.remove(f),a},_attachLoadEvent:function(a,b){qq.attach(a,"load",function(){a.parentNode&&(a.contentDocument&&a.contentDocument.body&&"false"==a.contentDocument.body.innerHTML||b())})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={}}return response},_createIframe:function(a){var b=qq.toElement('<iframe src="javascript:false;" name="'+a+'" />');return b.setAttribute("id",a),b.style.display="none",document.body.appendChild(b),b},_createForm:function(a,b){var c=qq.toElement('<form method="post" enctype="multipart/form-data"></form>'),d=qq.obj2url(b,this._options.action);return c.setAttribute("action",d),c.setAttribute("target",a.name),c.style.display="none",document.body.appendChild(c),c}}),qq.UploadHandlerXhr=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");return a.type="file","multiple"in a&&"undefined"!=typeof File&&"undefined"!=typeof(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(!(a instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(a)-1},getName:function(a){var b=this._files[a];return null!=b.fileName?b.fileName:b.name},getSize:function(a){var b=this._files[a];return null!=b.fileSize?b.fileSize:b.size},getLoaded:function(a){return this._loaded[a]||0},_upload:function(a,b){var c=this._files[a],d=this.getName(a);this.getSize(a),this._loaded[a]=0;var e=this._xhrs[a]=new XMLHttpRequest,f=this;e.upload.onprogress=function(b){b.lengthComputable&&(f._loaded[a]=b.loaded,f._options.onProgress(a,d,b.loaded,b.total))},e.onreadystatechange=function(){4==e.readyState&&f._onComplete(a,e)},b=b||{},b.qqfile=d;var g=qq.obj2url(b,this._options.action);e.open("POST",g,!0),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-File-Name",encodeURIComponent(d)),e.setRequestHeader("Content-Type","application/octet-stream"),e.send(c)},_onComplete:function(id,xhr){if(this._files[id]){var name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status){this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(a){this._options.onCancel(a,this.getName(a)),this._files[a]=null,this._xhrs[a]&&(this._xhrs[a].abort(),this._xhrs[a]=null)}}),function(a){a.fn.imgscale=function(b){function c(a,c,l){function m(){e>d?n("w"):d>e?n("t"):e==d&&n("s")}function n(a){g>f?o(a,"w"):f>g?o(a,"t"):g==f&&o(a,"s")}function o(a,b){"w"==a&&"w"==b?p():"w"==a&&"t"==b?q("w"):"w"==a&&"s"==b?q("w"):"t"==a&&"w"==b?q("w"):"t"==a&&"t"==b?p():"t"==a&&"s"==b?q("t"):"s"==a&&"w"==b?q("t"):"s"==a&&"t"==b?q("w"):"s"==a&&"s"==b&&q("w")}function p(){g*d/g>=e?q("t"):q("w")}function q(c){switch(c){case"t":"fit"==b.scale?a.attr("width",e):a.attr("height",d);break;case"w":"fit"==b.scale?a.attr("height",d):a.attr("width",e)}b.center?r():s()}function r(){h=a.width(),i=a.height(),i>d&&(k="-"+Math.floor((i-d)/2)+"px",a.css("margin-top",k)),h>e&&(j="-"+Math.floor((h-e)/2)+"px",a.css("margin-left",j)),s()}function s(){b.fade>0&&l?c.animate({opacity:1},b.fade):c.css("opacity",1)}d=c.height(),e=c.width(),f=a.height(),g=a.width(),m()}b=a.extend({parent:!1,scale:"fill",center:!0,fade:0},b);var d,e,f,g,h,i,j,k;this.each(function(){var d=a(this),e=b.parent?d.parents(b.parent):d.parent();e.css({opacity:0,overflow:"hidden"}),e.length>0&&(d.removeAttr("height").removeAttr("width"),this.complete?c(d,e,!1):d.load(function(){c(d,e,!0)}))})}}(jQuery),function(){jQTouchCore=function(a){function b(a){"string"==typeof a.selector&&"string"==typeof a.name&&F.push(a)}function c(a,b){w.unshift({page:a,animation:b,hash:"#"+a.attr("id"),id:a.attr("id")})}function d(a){var b=u(a.target);b.is(B.join(", "))||(b=u(a.target).closest(B.join(", "))),b&&b.attr("href")&&!b.isExternalLink()&&a.preventDefault(),u.support.touch||u(a.target).trigger("tap",a)}function e(a,b,d,e){function g(){var f=D;u.support.animationEvents&&d&&y.useAnimations?(a.unbind("webkitAnimationEnd",g),a.removeClass("current "+h+" out"),b.removeClass(h),t.removeClass("animating animating3d"),!0===y.trackScrollPositions&&(b.css("top",-b.data("lastScroll")),setTimeout(function(){b.css("top",0),window.scroll(0,b.data("lastScroll")),u(".scroll",b).each(function(){this.scrollTop=-u(this).data("lastScroll")})},0))):(a.removeClass(h+" out current"),f+=260),setTimeout(function(){b.removeClass("in")},f),z=b,e?w.shift():c(z,d),a.unselect(),m(z.attr("id")),b.trigger("pageAnimationEnd",{direction:"in",animation:d}),a.trigger("pageAnimationEnd",{direction:"out",animation:d})}if(e=e?e:!1,void 0===b||0===b.length||b.hasClass("current"))return u.fn.unselect(),!1;if(u(":focus").trigger("blur"),a.trigger("pageAnimationStart",{direction:"out",back:e}),b.trigger("pageAnimationStart",{direction:"in",back:e}),u.support.animationEvents&&d&&y.useAnimations){!u.support.transform3d&&d.is3d&&(d.name=y.defaultAnimation);var h=d.name,i=d.is3d?"animating3d":"";e&&(h=h.replace(/left|right|up|down|in|out/,f)),a.bind("webkitAnimationEnd",g),t.addClass("animating "+i),i=window.pageYOffset,!0===y.trackScrollPositions&&b.css("top",window.pageYOffset-(b.data("lastScroll")||0)),b.addClass(h+" in current"),a.addClass(h+" out"),!0===y.trackScrollPositions&&(a.data("lastScroll",i),u(".scroll",a).each(function(){u(this).data("lastScroll",this.scrollTop)}))}else b.addClass("current in"),g();return!0}function f(a){return{up:"down",down:"up",left:"right",right:"left","in":"out",out:"in"}[a]||a}function g(){1===w.length&&window.history.go(-1);var a=w[0];return e(a.page,w[1].page,a.animation,!0)?C:!1}function h(a,b){var c=w[0].page;if("string"==typeof b)for(var d=0,f=F.length;f>d;d++)if(F[d].name===b){b=F[d];break}if("string"==typeof a){if(d=u(a),1>d.length)return n(a,{animation:b}),void 0;a=d}return e(c,a,b)?C:!1}function i(){return location.hash===w[0].hash?!0:""===location.hash||w[1]&&location.hash===w[1].hash?(g(),!0):(h(u(location.hash),y.defaultAnimation),void 0)}function j(a){for(var b,c=0,d=F.length;d>c;c++)if(a.is(F[c].selector)){b=F[c];break}return b||(b=y.defaultAnimation),b}function k(a,b){var c=null,d=document.createElement("div");return d.innerHTML=a,u(d).children().each(function(){var a=u(this);a.attr("id")||a.attr("id","page-"+ ++x),u("#"+a.attr("id")).remove(),t.append(a),t.trigger("pageInserted",{page:a}),(a.hasClass("current")||!c)&&(c=a)}),null!==c?(h(c,b),c):!1}function l(){t.css("minHeight",1e3),scrollTo(0,0),t.css("minHeight",window.innerHeight),A=90==Math.abs(window.orientation)?"landscape":"portrait",t.removeClass("portrait landscape").addClass(A).trigger("turn",{orientation:A})}function m(a){location.hash="#"+a.replace(/^#/,"")}function n(a,b){var c=u.extend({},{data:null,method:"GET",animation:null,callback:null,$referrer:null},b);"#"!=a?u.ajax({url:a,data:c.data,type:c.method,success:function(a){(a=k(a,c.animation))&&("GET"==c.method&&!0===y.cacheGetRequests&&c.$referrer&&c.$referrer.attr("href","#"+a.attr("id")),c.callback&&c.callback(!0))},error:function(){c.$referrer&&c.$referrer.unselect(),c.callback&&c.callback(!1)}}):c.$referrer&&c.$referrer.unselect()}function o(a,b){u(":focus").trigger("blur"),a.preventDefault();var c="string"==typeof a?u(a).eq(0):a.target?u(a.target):u(a);return c.length&&c.is(y.formSelector)&&c.attr("action")?(n(c.attr("action"),{data:c.serialize(),method:c.attr("method")||"POST",animation:j(c),callback:b}),!1):!0}function p(a){return a=a.closest("form"),0!==a.length?(a.trigger("submit"),!1):!0}function q(){var a,b,c,d;return a=document.getElementsByTagName("head")[0],b=document.body,c=document.createElement("style"),c.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#jqt-3dtest{height:3px}}",d=document.createElement("div"),d.id="jqt-3dtest",a.appendChild(c),b.appendChild(d),a=3===d.offsetHeight,c.parentNode.removeChild(c),d.parentNode.removeChild(d),a}function r(a){var b=u(a.target),a=B.join(", ");b.is(a)||(b=b.closest(a)),b.length&&b.attr("href")&&b.addClass("active"),b.on(u.support.touch?"touchmove":"mousemove",function(){b.removeClass("active")}),b.on("touchend",function(){b.unbind("touchmove mousemove")})}function s(a){var b=u(a.target);if(b.is(B.join(", "))||(b=b.closest(B.join(", "))),!b.length||!b.attr("href"))return!1;var a=b.attr("target"),c=b.prop("hash"),d=b.attr("href"),e=null;if(b.isExternalLink())return b.unselect(),!0;if(b.is(y.backSelector))g(c);else{if(!b.is(y.submitSelector))return"_webapp"===a?(window.location=d,!1):"#"===d?(b.unselect(),!0):(e=j(b),c&&"#"!==c?(b.addClass("active"),h(u(c).data("referrer",b),e,b.hasClass("reverse"))):(b.addClass("loading active"),n(b.attr("href"),{animation:e,callback:function(){b.removeClass("loading"),setTimeout(u.fn.unselect,250,b)},$referrer:b})),!1);p(b)}}var t,u=a.framework,v=u("head"),w=[],x=0,y={},z="",A="portrait",B=[],C={},D=100,E=jQTouchCore.prototype.extensions,F=[],G="",H={addGlossToIcon:!0,backSelector:".back, .cancel, .goback",cacheGetRequests:!0,debug:!0,defaultAnimation:"slideleft",fixedViewport:!0,formSelector:"form",fullScreen:!0,fullScreenClass:"fullscreen",icon:null,icon4:null,preloadImages:!1,startupScreen:null,statusBar:"default",submitSelector:".submit",touchSelector:"a, .touch",trackScrollPositions:!0,useAnimations:!0,useFastTouch:!0,useTouchScroll:!0,animations:[{name:"cubeleft",selector:".cubeleft, .cube",is3d:!0},{name:"cuberight",selector:".cuberight",is3d:!0},{name:"dissolve",selector:".dissolve"},{name:"fade",selector:".fade"},{name:"flipleft",selector:".flipleft, .flip",is3d:!0},{name:"flipright",selector:".flipright",is3d:!0},{name:"pop",selector:".pop",is3d:!0},{name:"swapleft",selector:".swap",is3d:!0},{name:"slidedown",selector:".slidedown"},{name:"slideright",selector:".slideright"},{name:"slideup",selector:".slideup"},{name:"slideleft",selector:".slideleft, .slide, #jqt > * > ul li a"}]};return function(a){if(y=u.extend({},H,a),y.preloadImages)for(a=y.preloadImages.length-1;a>=0;a--)(new Image).src=y.preloadImages[a];a=y.addGlossToIcon?"":"-precomposed",y.icon&&(G+='<link rel="apple-touch-icon'+a+'" href="'+y.icon+'" />'),y.icon4&&(G+='<link rel="apple-touch-icon'+a+'" sizes="114x114" href="'+y.icon4+'" />'),y.startupScreen&&(G+='<link rel="apple-touch-startup-image" href="'+y.startupScreen+'" />'),y.fixedViewport&&(G+='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>'),y.fullScreen&&(G+='<meta name="apple-mobile-web-app-capable" content="yes" />',y.statusBar&&(G+='<meta name="apple-mobile-web-app-status-bar-style" content="'+y.statusBar+'" />')),G&&v.prepend(G)}(a),u(document).ready(function(){u.support||(u.support={}),u.support.animationEvents="undefined"!=typeof window.WebKitAnimationEvent,u.support.touch="undefined"!=typeof window.TouchEvent&&-1<window.navigator.userAgent.indexOf("Mobile")&&y.useFastTouch,u.support.transform3d=q(),u.support.ios5=/OS (5(_\d+)*) like Mac OS X/i.test(window.navigator.userAgent),u.fn.isExternalLink=function(){var a=u(this);return"_blank"==a.attr("target")||"external"==a.attr("rel")||a.is('a[href^="http://maps.google.com"], a[href^="mailto:"], a[href^="tel:"], a[href^="javascript:"], a[href*="youtube.com/v"], a[href*="youtube.com/watch"]')},u.fn.makeActive=function(){return u(this).addClass("active")},u.fn.unselect=function(a){a?a.removeClass("active"):u(".active").removeClass("active")};for(var a=0,e=E.length;e>a;a++){var f=E[a];u.isFunction(f)&&u.extend(C,f(C))}for(a=0,e=H.animations.length;e>a;a++)f=H.animations[a],void 0!==y[f.name+"Selector"]&&(f.selector=y[f.name+"Selector"]),b(f);B.push(y.touchSelector),B.push(y.backSelector),B.push(y.submitSelector),u(B.join(", ")).css("-webkit-touch-callout","none"),t=u("#jqt"),a=[],0===t.length&&(t=u(document.body).attr("id","jqt")),u.support.transform3d&&a.push("supports3d"),u.support.ios5&&y.useTouchScroll&&a.push("touchscroll"),y.fullScreenClass&&!0===window.navigator.standalone&&a.push(y.fullScreenClass,y.statusBar),t.addClass(a.join(" ")).bind("click",d).bind("orientationchange",l).bind("submit",o).bind("tap",s).bind(u.support.touch?"touchstart":"mousedown",r).trigger("orientationchange"),u(window).bind("hashchange",i),a=location.hash,z=0===u("#jqt > .current").length?u("#jqt > *:first-child").addClass("current"):u("#jqt > .current"),m(z.attr("id")),c(z),1===u(a).length&&h(a)}),C={addAnimation:b,animations:F,getOrientation:function(){return A},goBack:g,insertPages:k,goTo:h,history:w,settings:y,submitForm:o}},jQTouchCore.prototype.extensions=[],window.Zepto&&function(a){a.jQTouch=function(b){return b.framework=a,jQTouchCore(b)},a.fn.prop=a.fn.attr,a.jQTouch.addExtension=function(a){jQTouchCore.prototype.extensions.push(a)}}(Zepto)}(),function(){var a={getSelection:function(){var a=this.jquery?this[0]:this;return("selectionStart"in a&&function(){var b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value.substr(a.selectionStart,b)}}||document.selection&&function(){a.focus();var b=document.selection.createRange();if(null===b)return{start:0,end:a.value.length,length:0};var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),{start:d.text.length,end:d.text.length+b.text.length,length:b.text.length,text:b.text}}||function(){return null})()},replaceSelection:function(){var a="function"==typeof this.id?this.get(0):this,b=arguments[0]||"";return("selectionStart"in a&&function(){return a.value=a.value.substr(0,a.selectionStart)+b+a.value.substr(a.selectionEnd,a.value.length),this}||document.selection&&function(){return a.focus(),document.selection.createRange().text=b,this}||function(){return a.value+=b,jQuery(a)})()}};jQuery.each(a,function(a){jQuery.fn[a]=this})}(),function(a){function b(){if(!l){l=!0;for(var b in k)a(b).each(function(){var c,d;c=a(this),d=c.data("jqae"),(d.containerWidth!=c.width()||d.containerHeight!=c.height())&&i(c,k[b])});l=!1}}function c(a){k[a]&&(delete k[a],k.length||j&&(window.clearInterval(j),j=void 0))}function d(a,c){k[a]=c,j||(j=window.setInterval(function(){b()},200))}function e(){return 3===this.nodeType}function f(b){if(b.contents().length){var c=b.contents(),d=c.eq(c.length-1);if(d.filter(e).length){var g=d.get(0).nodeValue;return g=a.trim(g),""==g?(d.remove(),!0):!1}for(;f(d););return d.contents().length?!1:(d.remove(),!0)}return!1}function g(a){if(a.contents().length){var b=a.contents(),c=b.eq(b.length-1);return c.filter(e).length?c:g(c)}a.append("");var b=a.contents();return b.eq(b.length-1)}function h(b){var c=g(b);if(c.length){var d=c.get(0).nodeValue,e=d.lastIndexOf(" ");return e>-1?(d=a.trim(d.substring(0,e)),c.get(0).nodeValue=d):c.get(0).nodeValue="",!0}return!1}function i(b,c){var d=b.data("jqae");d||(d={});var e=d.wrapperElement;e||(e=b.wrapInner("<div/>").find(">div"));var i=e.data("jqae");i||(i={});var j=i.originalContent;j?e=i.originalContent.clone(!0).data("jqae",{originalContent:j}).replaceAll(e):e.data("jqae",{originalContent:e.clone(!0)}),b.data("jqae",{wrapperElement:e,containerWidth:b.width(),containerHeight:b.height()});var k=b.height(),l=parseInt(b.css("padding-top"),10)+parseInt(b.css("border-top-width"),10)-(e.offset().top-b.offset().top),m=!1,n=e;c.selector&&(n=a(e.find(c.selector).get().reverse())),n.each(function(){var b=a(this),d=b.text(),i=!1;if(e.innerHeight()-b.innerHeight()>k+l)b.remove();else if(f(b),b.contents().length){for(m&&(g(b).get(0).nodeValue+=c.ellipsis,m=!1);e.innerHeight()>k+l;){if(i=h(b),!i){m=!0,b.remove();break}if(f(b),!b.contents().length){m=!0,b.remove();break}g(b).get(0).nodeValue+=c.ellipsis}"onEllipsis"==c.setTitle&&i||"always"==c.setTitle?b.attr("title",d):"never"!=c.setTitle&&b.removeAttr("title")}})}var j,k={},l=!1,m={ellipsis:"...",setTitle:"never",live:!1};a.fn.ellipsis=function(b,e){var f,g;return f=a(this),"string"!=typeof b&&(e=b,b=void 0),g=a.extend({},m,e),g.selector=b,f.each(function(){var b=a(this);i(b,g)}),g.live?d(f.selector,g):c(f.selector),this}}(jQuery),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=X+d),e&&(f.style.cssText=e),a(f)}function e(a){var b=v.length,c=(N+a)%b;return 0>c?b+c:c}function f(a,b){return Math.round((/%/.test(a)?("x"===b?w.width():w.height())/100:1)*parseInt(a,10))}function g(a){return H.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(a)}function h(){var b,c=a.data(M,W);null==c?(H=a.extend({},V),console&&console.log&&console.log("Error: cboxElement missing settings object")):H=a.extend({},c);for(b in H)a.isFunction(H[b])&&"on"!==b.slice(0,2)&&(H[b]=H[b].call(M));H.rel=H.rel||M.rel||"nofollow",H.href=H.href||a(M).attr("href"),H.title=H.title||M.title,"string"==typeof H.href&&(H.href=a.trim(H.href))}function i(b,c){a.event.trigger(b),c&&c.call(M)}function j(){var a,b,c,d=X+"Slideshow_",e="click."+X;H.slideshow&&v[1]?(b=function(){C.text(H.slideshowStop).unbind(e).bind(_,function(){(H.loop||v[N+1])&&(a=setTimeout(T.next,H.slideshowSpeed))}).bind($,function(){clearTimeout(a)}).one(e+" "+ab,c),o.removeClass(d+"off").addClass(d+"on"),a=setTimeout(T.next,H.slideshowSpeed)},c=function(){clearTimeout(a),C.text(H.slideshowStart).unbind([_,$,ab,e].join(" ")).one(e,function(){T.next(),b()}),o.removeClass(d+"on").addClass(d+"off")},H.slideshowAuto?b():c()):o.removeClass(d+"off "+d+"on")}function k(b){R||(M=b,h(),v=a(M),N=0,"nofollow"!==H.rel&&(v=a("."+Y).filter(function(){var b,c=a.data(this,W);return c&&(b=c.rel||this.rel),b===H.rel}),N=v.index(M),-1===N&&(v=v.add(M),N=v.length-1)),P||(P=Q=!0,o.show(),H.returnFocus&&a(M).blur().one(bb,function(){a(this).focus()}),n.css({opacity:+H.opacity,cursor:H.overlayClose?"pointer":"auto"}).show(),H.w=f(H.initialWidth,"x"),H.h=f(H.initialHeight,"y"),T.position(),eb&&w.bind("resize."+fb+" scroll."+fb,function(){n.css({width:w.width(),height:w.height(),top:w.scrollTop(),left:w.scrollLeft()})}).trigger("resize."+fb),i(Z,H.onOpen),G.add(A).hide(),F.html(H.close).show()),T.load(!0))}function l(){!o&&b.body&&(U=!1,w=a(c),o=d(gb).attr({id:W,"class":db?X+(eb?"IE6":"IE"):""}).hide(),n=d(gb,"Overlay",eb?"position:absolute":"").hide(),p=d(gb,"Wrapper"),q=d(gb,"Content").append(x=d(gb,"LoadedContent","width:0; height:0; overflow:hidden"),z=d(gb,"LoadingOverlay").add(d(gb,"LoadingGraphic")),A=d(gb,"Title"),B=d(gb,"Current"),D=d(gb,"Next"),E=d(gb,"Previous"),C=d(gb,"Slideshow").bind(Z,j),F=d(gb,"Close")),p.append(d(gb).append(d(gb,"TopLeft"),r=d(gb,"TopCenter"),d(gb,"TopRight")),d(gb,!1,"clear:left").append(s=d(gb,"MiddleLeft"),q,t=d(gb,"MiddleRight")),d(gb,!1,"clear:left").append(d(gb,"BottomLeft"),u=d(gb,"BottomCenter"),d(gb,"BottomRight"))).find("div div").css({"float":"left"}),y=d(gb,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),G=D.add(E).add(B).add(C),a(b.body).append(n,o.append(p,y)))}function m(){return o?(U||(U=!0,I=r.height()+u.height()+q.outerHeight(!0)-q.height(),J=s.width()+t.width()+q.outerWidth(!0)-q.width(),K=x.outerHeight(!0),L=x.outerWidth(!0),o.css({"padding-bottom":I,"padding-right":J}),D.click(function(){T.next()}),E.click(function(){T.prev()}),F.click(function(){T.close()}),n.click(function(){H.overlayClose&&T.close()}),a(b).bind("keydown."+X,function(a){var b=a.keyCode;P&&H.escKey&&27===b&&(a.preventDefault(),T.close()),P&&H.arrowKey&&v[1]&&(37===b?(a.preventDefault(),E.click()):39===b&&(a.preventDefault(),D.click()))}),a("."+Y,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),k(this))})),!0):!1}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.6,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},W="colorbox",X="cbox",Y=X+"Element",Z=X+"_open",$=X+"_load",_=X+"_complete",ab=X+"_cleanup",bb=X+"_closed",cb=X+"_purge",db=!a.support.opacity&&!a.support.style,eb=db&&!c.XMLHttpRequest,fb=X+"_IE6",gb="div";a.colorbox||(a(l),T=a.fn[W]=a[W]=function(b,c){var d=this;if(b=b||{},l(),m()){if(!d[0]){if(d.selector)return d;d=a("<a/>"),b.open=!0}c&&(b.onComplete=c),d.each(function(){a.data(this,W,a.extend({},a.data(this,W)||V,b))}).addClass(Y),(a.isFunction(b.open)&&b.open.call(d)||b.open)&&k(d[0])}return d},T.position=function(a,b){function c(a){r[0].style.width=u[0].style.width=q[0].style.width=a.style.width,q[0].style.height=s[0].style.height=t[0].style.height=a.style.height}var d,e,g=0,h=0,i=o.offset();w.unbind("resize."+X),o.css({top:-9e4,left:-9e4}),d=w.scrollTop(),e=w.scrollLeft(),H.fixed&&!eb?(i.top-=d,i.left-=e,o.css({position:"fixed"})):(g=d,h=e,o.css({position:"absolute"})),h+=H.right!==!1?Math.max(w.width()-H.w-L-J-f(H.right,"x"),0):H.left!==!1?f(H.left,"x"):Math.round(Math.max(w.width()-H.w-L-J,0)/2),g+=H.bottom!==!1?Math.max(w.height()-H.h-K-I-f(H.bottom,"y"),0):H.top!==!1?f(H.top,"y"):Math.round(Math.max(w.height()-H.h-K-I,0)/2),o.css({top:i.top,left:i.left}),a=o.width()===H.w+L&&o.height()===H.h+K?0:a||0,p[0].style.width=p[0].style.height="9999px",o.dequeue().animate({width:H.w+L,height:H.h+K,top:g,left:h},{duration:a,complete:function(){c(this),Q=!1,p[0].style.width=H.w+L+J+"px",p[0].style.height=H.h+K+I+"px",H.reposition&&setTimeout(function(){w.bind("resize."+X,T.position)},1),b&&b()},step:function(){c(this)}})},T.resize=function(a){P&&(a=a||{},a.width&&(H.w=f(a.width,"x")-L-J),a.innerWidth&&(H.w=f(a.innerWidth,"x")),x.css({width:H.w}),a.height&&(H.h=f(a.height,"y")-K-I),a.innerHeight&&(H.h=f(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(x.css({height:"auto"}),H.h=x.height()),x.css({height:H.h}),T.position("none"===H.transition?0:H.speed))},T.prep=function(b){function c(){return H.w=H.w||x.width(),H.w=H.mw&&H.mw<H.w?H.mw:H.w,H.w}function f(){return H.h=H.h||x.height(),H.h=H.mh&&H.mh<H.h?H.mh:H.h,H.h}if(P){var h,j="none"===H.transition?0:H.speed;x.remove(),x=d(gb,"LoadedContent").append(b),x.hide().appendTo(y.show()).css({width:c(),overflow:H.scrolling?"auto":"hidden"}).css({height:f()}).prependTo(q),y.hide(),a(O).css({"float":"none"}),eb&&a("select").not(o.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(ab,function(){this.style.visibility="inherit"
}),h=function(){function b(){db&&o[0].style.removeAttribute("filter")}var c,f,h,k,l,m,n,p=v.length,q="frameBorder",r="allowTransparency";if(P){if(k=function(){clearTimeout(S),z.hide(),i(_,H.onComplete)},db&&O&&x.fadeIn(100),A.html(H.title).add(x).show(),p>1){if("string"==typeof H.current&&B.html(H.current.replace("{current}",N+1).replace("{total}",p)).show(),D[H.loop||p-1>N?"show":"hide"]().html(H.next),E[H.loop||N?"show":"hide"]().html(H.previous),H.slideshow&&C.show(),H.preloading)for(c=[e(-1),e(1)];f=v[c.pop()];)n=a.data(f,W),n&&n.href?(l=n.href,a.isFunction(l)&&(l=l.call(f))):l=f.href,g(l)&&(m=new Image,m.src=l)}else G.hide();H.iframe?(h=d("iframe")[0],q in h&&(h[q]=0),r in h&&(h[r]="true"),h.name=X+ +new Date,H.fastIframe?k():a(h).one("load",k),h.src=H.href,H.scrolling||(h.scrolling="no"),a(h).addClass(X+"Iframe").appendTo(x).one(cb,function(){h.src="//about:blank"})):k(),"fade"===H.transition?o.fadeTo(j,1,b):b()}},"fade"===H.transition?o.fadeTo(j,0,function(){T.position(0,h)}):T.position(j,h)}},T.load=function(b){var c,e,j=T.prep;Q=!0,O=!1,M=v[N],b||h(),i(cb),i($,H.onLoad),H.h=H.height?f(H.height,"y")-K-I:H.innerHeight&&f(H.innerHeight,"y"),H.w=H.width?f(H.width,"x")-L-J:H.innerWidth&&f(H.innerWidth,"x"),H.mw=H.w,H.mh=H.h,H.maxWidth&&(H.mw=f(H.maxWidth,"x")-L-J,H.mw=H.w&&H.w<H.mw?H.w:H.mw),H.maxHeight&&(H.mh=f(H.maxHeight,"y")-K-I,H.mh=H.h&&H.h<H.mh?H.h:H.mh),c=H.href,S=setTimeout(function(){z.show()},100),H.inline?(d(gb).hide().insertBefore(a(c)[0]).one(cb,function(){a(this).replaceWith(x.children())}),j(a(c))):H.iframe?j(" "):H.html?j(H.html):g(c)?(a(O=new Image).addClass(X+"Photo").error(function(){H.title=!1,j(d(gb,"Error").html(H.imgError))}).load(function(){var a;O.onload=null,H.scalePhotos&&(e=function(){O.height-=O.height*a,O.width-=O.width*a},H.mw&&O.width>H.mw&&(a=(O.width-H.mw)/O.width,e()),H.mh&&O.height>H.mh&&(a=(O.height-H.mh)/O.height,e())),H.h&&(O.style.marginTop=Math.max(H.h-O.height,0)/2+"px"),v[1]&&(H.loop||v[N+1])&&(O.style.cursor="pointer",O.onclick=function(){T.next()}),db&&(O.style.msInterpolationMode="bicubic"),setTimeout(function(){j(O)},1)}),setTimeout(function(){O.src=c},1)):c&&y.load(c,H.data,function(b,c){j("error"===c?d(gb,"Error").html(H.xhrError):a(this).contents())})},T.next=function(){!Q&&v[1]&&(H.loop||v[N+1])&&(N=e(1),T.load())},T.prev=function(){!Q&&v[1]&&(H.loop||N)&&(N=e(-1),T.load())},T.close=function(){P&&!R&&(R=!0,P=!1,i(ab,H.onCleanup),w.unbind("."+X+" ."+fb),n.fadeTo(200,0),o.stop().fadeTo(300,0,function(){o.add(n).css({opacity:1,cursor:"auto"}).hide(),i(cb),x.remove(),setTimeout(function(){R=!1,i(bb,H.onClosed)},1)}))},T.remove=function(){a([]).add(o).add(n).remove(),o=null,a("."+Y).removeData(W).removeClass(Y).die()},T.element=function(){return a(M)},T.settings=V)}(jQuery,document,this),function(a,b){"use strict";function c(b){a.fn.cycle.debug&&d(b)}function d(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function e(b,c,d){var e=a(b).data("cycle.opts"),f=!!b.cyclePause;f&&e.paused?e.paused(b,e,c,d):!f&&e.resumed&&e.resumed(b,e,c,d)}function f(c,f,g){function i(b,c,e){if(!b&&c===!0){var f=a(e).data("cycle.opts");if(!f)return d("options not found, can not resume"),!1;e.cycleTimeout&&(clearTimeout(e.cycleTimeout),e.cycleTimeout=0),m(f.elements,f,1,!f.backwards)}}if(c.cycleStop===b&&(c.cycleStop=0),(f===b||null===f)&&(f={}),f.constructor==String){switch(f){case"destroy":case"stop":var j=a(c).data("cycle.opts");return j?(c.cycleStop++,c.cycleTimeout&&clearTimeout(c.cycleTimeout),c.cycleTimeout=0,j.elements&&a(j.elements).stop(),a(c).removeData("cycle.opts"),"destroy"==f&&h(c,j),!1):!1;case"toggle":return c.cyclePause=1===c.cyclePause?0:1,i(c.cyclePause,g,c),e(c),!1;case"pause":return c.cyclePause=1,e(c),!1;case"resume":return c.cyclePause=0,i(!1,g,c),e(c),!1;case"prev":case"next":return(j=a(c).data("cycle.opts"))?(a.fn.cycle[f](j),!1):(d('options not found, "prev/next" ignored'),!1);default:f={fx:f}}return f}if(f.constructor==Number){var k=f;return(f=a(c).data("cycle.opts"))?0>k||k>=f.elements.length?(d("invalid slide index: "+k),!1):(f.nextSlide=k,c.cycleTimeout&&(clearTimeout(c.cycleTimeout),c.cycleTimeout=0),"string"==typeof g&&(f.oneTimeFx=g),m(f.elements,f,1,k>=f.currSlide),!1):(d("options not found, can not advance slide"),!1)}return f}function g(b,c){if(!a.support.opacity&&c.cleartype&&b.style.filter)try{b.style.removeAttribute("filter")}catch(d){}}function h(b,c){c.next&&a(c.next).unbind(c.prevNextEvent),c.prev&&a(c.prev).unbind(c.prevNextEvent),(c.pager||c.pagerAnchorBuilder)&&a.each(c.pagerAnchors||[],function(){this.unbind().remove()}),c.pagerAnchors=null,a(b).unbind("mouseenter.cycle mouseleave.cycle"),c.destroy&&c.destroy(c)}function i(c,f,h,i,n){var r,s=a.extend({},a.fn.cycle.defaults,i||{},a.metadata?c.metadata():a.meta?c.data():{}),t=a.isFunction(c.data)?c.data(s.metaAttr):null;t&&(s=a.extend(s,t)),s.autostop&&(s.countdown=s.autostopCount||h.length);var u=c[0];if(c.data("cycle.opts",s),s.$cont=c,s.stopCount=u.cycleStop,s.elements=h,s.before=s.before?[s.before]:[],s.after=s.after?[s.after]:[],!a.support.opacity&&s.cleartype&&s.after.push(function(){g(this,s)}),s.continuous&&s.after.push(function(){m(h,s,0,!s.backwards)}),j(s),a.support.opacity||!s.cleartype||s.cleartypeNoBg||q(f),"static"==c.css("position")&&c.css("position","relative"),s.width&&c.width(s.width),s.height&&"auto"!=s.height&&c.height(s.height),s.startingSlide!==b?(s.startingSlide=parseInt(s.startingSlide,10),s.startingSlide>=h.length||s.startSlide<0?s.startingSlide=0:r=!0):s.startingSlide=s.backwards?h.length-1:0,s.random){s.randomMap=[];for(var v=0;v<h.length;v++)s.randomMap.push(v);if(s.randomMap.sort(function(){return Math.random()-.5}),r)for(var w=0;w<h.length;w++)s.startingSlide==s.randomMap[w]&&(s.randomIndex=w);else s.randomIndex=1,s.startingSlide=s.randomMap[1]}else s.startingSlide>=h.length&&(s.startingSlide=0);s.currSlide=s.startingSlide||0;var x=s.startingSlide;f.css({position:"absolute",top:0,left:0}).hide().each(function(b){var c;c=s.backwards?x?x>=b?h.length+(b-x):x-b:h.length-b:x?b>=x?h.length-(b-x):x-b:h.length-b,a(this).css("z-index",c)}),a(h[x]).css("opacity",1).show(),g(h[x],s),s.fit&&(s.aspect?f.each(function(){var b=a(this),c=s.aspect===!0?b.width()/b.height():s.aspect;s.width&&b.width()!=s.width&&(b.width(s.width),b.height(s.width/c)),s.height&&b.height()<s.height&&(b.height(s.height),b.width(s.height*c))}):(s.width&&f.width(s.width),s.height&&"auto"!=s.height&&f.height(s.height))),!s.center||s.fit&&!s.aspect||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})}),!s.center||s.fit||s.slideResize||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})});var y=s.containerResize&&!c.innerHeight();if(y){for(var z=0,A=0,B=0;B<h.length;B++){var C=a(h[B]),D=C[0],E=C.outerWidth(),F=C.outerHeight();E||(E=D.offsetWidth||D.width||C.attr("width")),F||(F=D.offsetHeight||D.height||C.attr("height")),z=E>z?E:z,A=F>A?F:A}z>0&&A>0&&c.css({width:z+"px",height:A+"px"})}var G=!1;if(s.pause&&c.bind("mouseenter.cycle",function(){G=!0,this.cyclePause++,e(u,!0)}).bind("mouseleave.cycle",function(){G&&this.cyclePause--,e(u,!0)}),k(s)===!1)return!1;var H=!1;if(i.requeueAttempts=i.requeueAttempts||0,f.each(function(){var b=a(this);if(this.cycleH=s.fit&&s.height?s.height:b.height()||this.offsetHeight||this.height||b.attr("height")||0,this.cycleW=s.fit&&s.width?s.width:b.width()||this.offsetWidth||this.width||b.attr("width")||0,b.is("img")){var c=a.browser.msie&&28==this.cycleW&&30==this.cycleH&&!this.complete,e=a.browser.mozilla&&34==this.cycleW&&19==this.cycleH&&!this.complete,f=a.browser.opera&&(42==this.cycleW&&19==this.cycleH||37==this.cycleW&&17==this.cycleH)&&!this.complete,g=0===this.cycleH&&0===this.cycleW&&!this.complete;if(c||e||f||g){if(n.s&&s.requeueOnImageNotLoaded&&++i.requeueAttempts<100)return d(i.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){a(n.s,n.c).cycle(i)},s.requeueTimeout),H=!0,!1;d("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),H)return!1;if(s.cssBefore=s.cssBefore||{},s.cssAfter=s.cssAfter||{},s.cssFirst=s.cssFirst||{},s.animIn=s.animIn||{},s.animOut=s.animOut||{},f.not(":eq("+x+")").css(s.cssBefore),a(f[x]).css(s.cssFirst),s.timeout){s.timeout=parseInt(s.timeout,10),s.speed.constructor==String&&(s.speed=a.fx.speeds[s.speed]||parseInt(s.speed,10)),s.sync||(s.speed=s.speed/2);for(var I="none"==s.fx?0:"shuffle"==s.fx?500:250;s.timeout-s.speed<I;)s.timeout+=s.speed}if(s.easing&&(s.easeIn=s.easeOut=s.easing),s.speedIn||(s.speedIn=s.speed),s.speedOut||(s.speedOut=s.speed),s.slideCount=h.length,s.currSlide=s.lastSlide=x,s.random?(++s.randomIndex==h.length&&(s.randomIndex=0),s.nextSlide=s.randomMap[s.randomIndex]):s.nextSlide=s.backwards?0===s.startingSlide?h.length-1:s.startingSlide-1:s.startingSlide>=h.length-1?0:s.startingSlide+1,!s.multiFx){var J=a.fn.cycle.transitions[s.fx];if(a.isFunction(J))J(c,f,s);else if("custom"!=s.fx&&!s.multiFx)return d("unknown transition: "+s.fx,"; slideshow terminating"),!1}var K=f[x];return s.skipInitializationCallbacks||(s.before.length&&s.before[0].apply(K,[K,K,s,!0]),s.after.length&&s.after[0].apply(K,[K,K,s,!0])),s.next&&a(s.next).bind(s.prevNextEvent,function(){return o(s,1)}),s.prev&&a(s.prev).bind(s.prevNextEvent,function(){return o(s,0)}),(s.pager||s.pagerAnchorBuilder)&&p(h,s),l(s,h),s}function j(b){b.original={before:[],after:[]},b.original.cssBefore=a.extend({},b.cssBefore),b.original.cssAfter=a.extend({},b.cssAfter),b.original.animIn=a.extend({},b.animIn),b.original.animOut=a.extend({},b.animOut),a.each(b.before,function(){b.original.before.push(this)}),a.each(b.after,function(){b.original.after.push(this)})}function k(b){var e,f,g=a.fn.cycle.transitions;if(b.fx.indexOf(",")>0){for(b.multiFx=!0,b.fxs=b.fx.replace(/\s*/g,"").split(","),e=0;e<b.fxs.length;e++){var h=b.fxs[e];f=g[h],f&&g.hasOwnProperty(h)&&a.isFunction(f)||(d("discarding unknown transition: ",h),b.fxs.splice(e,1),e--)}if(!b.fxs.length)return d("No valid transitions named; slideshow terminating."),!1}else if("all"==b.fx){b.multiFx=!0,b.fxs=[];for(var i in g)g.hasOwnProperty(i)&&(f=g[i],g.hasOwnProperty(i)&&a.isFunction(f)&&b.fxs.push(i))}if(b.multiFx&&b.randomizeEffects){var j=Math.floor(20*Math.random())+30;for(e=0;j>e;e++){var k=Math.floor(Math.random()*b.fxs.length);b.fxs.push(b.fxs.splice(k,1)[0])}c("randomized fx sequence: ",b.fxs)}return!0}function l(b,c){b.addSlide=function(d,e){var f=a(d),g=f[0];b.autostopCount||b.countdown++,c[e?"unshift":"push"](g),b.els&&b.els[e?"unshift":"push"](g),b.slideCount=c.length,b.random&&(b.randomMap.push(b.slideCount-1),b.randomMap.sort(function(){return Math.random()-.5})),f.css("position","absolute"),f[e?"prependTo":"appendTo"](b.$cont),e&&(b.currSlide++,b.nextSlide++),a.support.opacity||!b.cleartype||b.cleartypeNoBg||q(f),b.fit&&b.width&&f.width(b.width),b.fit&&b.height&&"auto"!=b.height&&f.height(b.height),g.cycleH=b.fit&&b.height?b.height:f.height(),g.cycleW=b.fit&&b.width?b.width:f.width(),f.css(b.cssBefore),(b.pager||b.pagerAnchorBuilder)&&a.fn.cycle.createPagerAnchor(c.length-1,g,a(b.pager),c,b),a.isFunction(b.onAddSlide)?b.onAddSlide(f):f.hide()}}function m(d,e,f,g){function h(){var a=0;e.timeout,e.timeout&&!e.continuous?(a=n(d[e.currSlide],d[e.nextSlide],e,g),"shuffle"==e.fx&&(a-=e.speedOut)):e.continuous&&i.cyclePause&&(a=10),a>0&&(i.cycleTimeout=setTimeout(function(){m(d,e,0,!e.backwards)},a))}var i=e.$cont[0],j=d[e.currSlide],k=d[e.nextSlide];if(f&&e.busy&&e.manualTrump&&(c("manualTrump in go(), stopping active transition"),a(d).stop(!0,!0),e.busy=0,clearTimeout(i.cycleTimeout)),e.busy)return c("transition active, ignoring new tx request"),void 0;if(i.cycleStop==e.stopCount&&(0!==i.cycleTimeout||f)){if(!f&&!i.cyclePause&&!e.bounce&&(e.autostop&&--e.countdown<=0||e.nowrap&&!e.random&&e.nextSlide<e.currSlide))return e.end&&e.end(e),void 0;var l=!1;if(!f&&i.cyclePause||e.nextSlide==e.currSlide)h();else{l=!0;var o=e.fx;j.cycleH=j.cycleH||a(j).height(),j.cycleW=j.cycleW||a(j).width(),k.cycleH=k.cycleH||a(k).height(),k.cycleW=k.cycleW||a(k).width(),e.multiFx&&(g&&(e.lastFx===b||++e.lastFx>=e.fxs.length)?e.lastFx=0:!g&&(e.lastFx===b||--e.lastFx<0)&&(e.lastFx=e.fxs.length-1),o=e.fxs[e.lastFx]),e.oneTimeFx&&(o=e.oneTimeFx,e.oneTimeFx=null),a.fn.cycle.resetState(e,o),e.before.length&&a.each(e.before,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])});var p=function(){e.busy=0,a.each(e.after,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])}),i.cycleStop||h()};c("tx firing("+o+"); currSlide: "+e.currSlide+"; nextSlide: "+e.nextSlide),e.busy=1,e.fxFn?e.fxFn(j,k,e,p,g,f&&e.fastOnEvent):a.isFunction(a.fn.cycle[e.fx])?a.fn.cycle[e.fx](j,k,e,p,g,f&&e.fastOnEvent):a.fn.cycle.custom(j,k,e,p,g,f&&e.fastOnEvent)}if(l||e.nextSlide==e.currSlide){var q;e.lastSlide=e.currSlide,e.random?(e.currSlide=e.nextSlide,++e.randomIndex==d.length&&(e.randomIndex=0,e.randomMap.sort(function(){return Math.random()-.5})),e.nextSlide=e.randomMap[e.randomIndex],e.nextSlide==e.currSlide&&(e.nextSlide=e.currSlide==e.slideCount-1?0:e.currSlide+1)):e.backwards?(q=e.nextSlide-1<0,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=1,e.currSlide=0):(e.nextSlide=q?d.length-1:e.nextSlide-1,e.currSlide=q?0:e.nextSlide+1)):(q=e.nextSlide+1==d.length,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=d.length-2,e.currSlide=d.length-1):(e.nextSlide=q?0:e.nextSlide+1,e.currSlide=q?d.length-1:e.nextSlide-1))}l&&e.pager&&e.updateActivePagerLink(e.pager,e.currSlide,e.activePagerClass)}}function n(a,b,d,e){if(d.timeoutFn){for(var f=d.timeoutFn.call(a,a,b,d,e);"none"!=d.fx&&f-d.speed<250;)f+=d.speed;if(c("calculated timeout: "+f+"; speed: "+d.speed),f!==!1)return f}return d.timeout}function o(b,c){var d=c?1:-1,e=b.elements,f=b.$cont[0],g=f.cycleTimeout;if(g&&(clearTimeout(g),f.cycleTimeout=0),b.random&&0>d)b.randomIndex--,-2==--b.randomIndex?b.randomIndex=e.length-2:-1==b.randomIndex&&(b.randomIndex=e.length-1),b.nextSlide=b.randomMap[b.randomIndex];else if(b.random)b.nextSlide=b.randomMap[b.randomIndex];else if(b.nextSlide=b.currSlide+d,b.nextSlide<0){if(b.nowrap)return!1;b.nextSlide=e.length-1}else if(b.nextSlide>=e.length){if(b.nowrap)return!1;b.nextSlide=0}var h=b.onPrevNextEvent||b.prevNextClick;return a.isFunction(h)&&h(d>0,b.nextSlide,e[b.nextSlide]),m(e,b,1,c),!1}function p(b,c){var d=a(c.pager);a.each(b,function(e,f){a.fn.cycle.createPagerAnchor(e,f,d,b,c)}),c.updateActivePagerLink(c.pager,c.startingSlide,c.activePagerClass)}function q(b){function d(a){return a=parseInt(a,10).toString(16),a.length<2?"0"+a:a}function e(b){for(;b&&"html"!=b.nodeName.toLowerCase();b=b.parentNode){var c=a.css(b,"background-color");if(c&&c.indexOf("rgb")>=0){var e=c.match(/\d+/g);return"#"+d(e[0])+d(e[1])+d(e[2])}if(c&&"transparent"!=c)return c}return"#ffffff"}c("applying clearType background-color hack"),b.each(function(){a(this).css("background-color",e(this))})}var r="2.9999.5";a.support===b&&(a.support={opacity:!a.browser.msie}),a.expr[":"].paused=function(a){return a.cyclePause},a.fn.cycle=function(b,e){var g={s:this.selector,c:this.context};return 0===this.length&&"stop"!=b?!a.isReady&&g.s?(d("DOM not ready, queuing slideshow"),a(function(){a(g.s,g.c).cycle(b,e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this):this.each(function(){var h=f(this,b,e);if(h!==!1){h.updateActivePagerLink=h.updateActivePagerLink||a.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var j=a(this),k=h.slideExpr?a(h.slideExpr,this):j.children(),l=k.get();if(l.length<2)return d("terminating; too few slides: "+l.length),void 0;var o=i(j,k,l,h,g);if(o!==!1){var p=o.continuous?10:n(l[o.currSlide],l[o.nextSlide],o,!o.backwards);p&&(p+=o.delay||0,10>p&&(p=10),c("first timeout: "+p),this.cycleTimeout=setTimeout(function(){m(l,o,0,!h.backwards)},p))}}})},a.fn.cycle.resetState=function(b,c){c=c||b.fx,b.before=[],b.after=[],b.cssBefore=a.extend({},b.original.cssBefore),b.cssAfter=a.extend({},b.original.cssAfter),b.animIn=a.extend({},b.original.animIn),b.animOut=a.extend({},b.original.animOut),b.fxFn=null,a.each(b.original.before,function(){b.before.push(this)}),a.each(b.original.after,function(){b.after.push(this)});var d=a.fn.cycle.transitions[c];a.isFunction(d)&&d(b.$cont,a(b.elements),b)},a.fn.cycle.updateActivePagerLink=function(b,c,d){a(b).each(function(){a(this).children().removeClass(d).eq(c).addClass(d)})},a.fn.cycle.next=function(a){o(a,1)},a.fn.cycle.prev=function(a){o(a,0)},a.fn.cycle.createPagerAnchor=function(b,d,f,g,h){var i;if(a.isFunction(h.pagerAnchorBuilder)?(i=h.pagerAnchorBuilder(b,d),c("pagerAnchorBuilder("+b+", el) returned: "+i)):i='<a href="#">'+(b+1)+"</a>",i){var j=a(i);if(0===j.parents("body").length){var k=[];f.length>1?(f.each(function(){var b=j.clone(!0);a(this).append(b),k.push(b[0])}),j=a(k)):j.appendTo(f)}h.pagerAnchors=h.pagerAnchors||[],h.pagerAnchors.push(j);var l=function(c){c.preventDefault(),h.nextSlide=b;var d=h.$cont[0],e=d.cycleTimeout;e&&(clearTimeout(e),d.cycleTimeout=0);var f=h.onPagerEvent||h.pagerClick;a.isFunction(f)&&f(h.nextSlide,g[h.nextSlide]),m(g,h,1,h.currSlide<b)};/mouseenter|mouseover/i.test(h.pagerEvent)?j.hover(l,function(){}):j.bind(h.pagerEvent,l),/^click/.test(h.pagerEvent)||h.allowPagerClickBubble||j.bind("click.cycle",function(){return!1});var n=h.$cont[0],o=!1;h.pauseOnPagerHover&&j.hover(function(){o=!0,n.cyclePause++,e(n,!0,!0)},function(){o&&n.cyclePause--,e(n,!0,!0)})}},a.fn.cycle.hopsFromLast=function(a,b){var c,d=a.lastSlide,e=a.currSlide;return c=b?e>d?e-d:a.slideCount-d:d>e?d-e:d+a.slideCount-e},a.fn.cycle.commonReset=function(b,c,d,e,f,g){a(d.elements).not(b).hide(),"undefined"==typeof d.cssBefore.opacity&&(d.cssBefore.opacity=1),d.cssBefore.display="block",d.slideResize&&e!==!1&&c.cycleW>0&&(d.cssBefore.width=c.cycleW),d.slideResize&&f!==!1&&c.cycleH>0&&(d.cssBefore.height=c.cycleH),d.cssAfter=d.cssAfter||{},d.cssAfter.display="none",a(b).css("zIndex",d.slideCount+(g===!0?1:0)),a(c).css("zIndex",d.slideCount+(g===!0?0:1))},a.fn.cycle.custom=function(b,c,d,e,f,g){var h=a(b),i=a(c),j=d.speedIn,k=d.speedOut,l=d.easeIn,m=d.easeOut;i.css(d.cssBefore),g&&(j=k="number"==typeof g?g:1,l=m=null);var n=function(){i.animate(d.animIn,j,l,function(){e()})};h.animate(d.animOut,k,m,function(){h.css(d.cssAfter),d.sync||n()}),d.sync&&n()},a.fn.cycle.transitions={fade:function(b,c,d){c.not(":eq("+d.currSlide+")").css("opacity",0),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.cssBefore.opacity=0}),d.animIn={opacity:1},d.animOut={opacity:0},d.cssBefore={top:0,left:0}}},a.fn.cycle.ver=function(){return r},a.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!a.support.opacity,cleartypeNoBg:!1,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:b,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),function(a){"use strict";a.fn.cycle.transitions.none=function(b,c,d){d.fxFn=function(b,c,d,e){a(c).show(),a(b).hide(),e()}},a.fn.cycle.transitions.fadeout=function(b,c,d){c.not(":eq("+d.currSlide+")").css({display:"block",opacity:1}),d.before.push(function(b,c,d,e,f,g){a(b).css("zIndex",d.slideCount+(g!==!0?1:0)),a(c).css("zIndex",d.slideCount+(g!==!0?0:1))}),d.animIn.opacity=1,d.animOut.opacity=0,d.cssBefore.opacity=1,d.cssBefore.display="block",d.cssAfter.zIndex=0},a.fn.cycle.transitions.scrollUp=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssBefore.top=e,d.cssBefore.left=0,d.cssFirst.top=0,d.animIn.top=0,d.animOut.top=-e},a.fn.cycle.transitions.scrollDown=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssFirst.top=0,d.cssBefore.top=-e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.scrollLeft=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=0-e},a.fn.cycle.transitions.scrollRight=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=-e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.scrollHorz=function(b,c,d){b.css("overflow","hidden").width(),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.left=e?c.cycleW-1:1-c.cycleW,d.animOut.left=e?-b.cycleW:b.cycleW}),d.cssFirst.left=0,d.cssBefore.top=0,d.animIn.left=0,d.animOut.top=0},a.fn.cycle.transitions.scrollVert=function(b,c,d){b.css("overflow","hidden"),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.top=e?1-c.cycleH:c.cycleH-1,d.animOut.top=e?b.cycleH:-b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.animIn.top=0,d.animOut.left=0},a.fn.cycle.transitions.slideX=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.width="show",d.animOut.width=0},a.fn.cycle.transitions.slideY=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animIn.height="show",d.animOut.height=0},a.fn.cycle.transitions.shuffle=function(b,c,d){var e,f=b.css("overflow","visible").width();for(c.css({left:0,top:0}),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0)}),d.speedAdjusted||(d.speed=d.speed/2,d.speedAdjusted=!0),d.random=0,d.shuffle=d.shuffle||{left:-f,top:15},d.els=[],e=0;e<c.length;e++)d.els.push(c[e]);for(e=0;e<d.currSlide;e++)d.els.push(d.els.shift());d.fxFn=function(b,c,d,e,f){d.rev&&(f=!f);var g=f?a(b):a(c);a(c).css(d.cssBefore);var h=d.slideCount;g.animate(d.shuffle,d.speedIn,d.easeIn,function(){for(var c=a.fn.cycle.hopsFromLast(d,f),i=0;c>i;i++)f?d.els.push(d.els.shift()):d.els.unshift(d.els.pop());if(f)for(var j=0,k=d.els.length;k>j;j++)a(d.els[j]).css("z-index",k-j+h);else{var l=a(b).css("z-index");g.css("z-index",parseInt(l,10)+1+h)}g.animate({left:0,top:0},d.speedOut,d.easeOut,function(){a(f?this:b).hide(),e&&e()})})},a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})},a.fn.cycle.transitions.turnUp=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=c.cycleH,d.animIn.height=c.cycleH,d.animOut.width=c.cycleW}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.height=0,d.animIn.top=0,d.animOut.height=0},a.fn.cycle.transitions.turnDown=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animOut.height=0},a.fn.cycle.transitions.turnLeft=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=c.cycleW,d.animIn.width=c.cycleW}),d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.turnRight=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),a.extend(d.cssBefore,{top:0,left:0,width:0}),d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.zoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1,!0),d.cssBefore.top=c.cycleH/2,d.cssBefore.left=c.cycleW/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH}),a.extend(d.animOut,{width:0,height:0,top:b.cycleH/2,left:b.cycleW/2})}),d.cssFirst.top=0,d.cssFirst.left=0,d.cssBefore.width=0,d.cssBefore.height=0},a.fn.cycle.transitions.fadeZoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1),d.cssBefore.left=c.cycleW/2,d.cssBefore.top=c.cycleH/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH})}),d.cssBefore.width=0,d.cssBefore.height=0,d.animOut.opacity=0},a.fn.cycle.transitions.blindX=function(b,c,d){var e=b.css("overflow","hidden").width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.blindY=function(b,c,d){var e=b.css("overflow","hidden").height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.blindZ=function(b,c,d){var e=b.css("overflow","hidden").height(),f=b.width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=f,d.animIn.top=0,d.animIn.left=0,d.animOut.top=e,d.animOut.left=f},a.fn.cycle.transitions.growX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=this.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.growY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=this.cycleH/2,d.animIn.top=0,d.animIn.height=this.cycleH,d.animOut.top=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.curtainX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0,!0),d.cssBefore.left=c.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=b.cycleW/2,d.animOut.width=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.curtainY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1,!0),d.cssBefore.top=c.cycleH/2,d.animIn.top=0,d.animIn.height=c.cycleH,d.animOut.top=b.cycleH/2,d.animOut.height=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.cover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),"right"==e?d.cssBefore.left=-f:"up"==e?d.cssBefore.top=g:"down"==e?d.cssBefore.top=-g:d.cssBefore.left=f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.uncover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),"right"==e?d.animOut.left=f:"up"==e?d.animOut.top=-g:"down"==e?d.animOut.top=g:d.animOut.left=-f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.toss=function(b,c,d){var e=b.css("overflow","visible").width(),f=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),d.animOut.left||d.animOut.top?d.animOut.opacity=0:a.extend(d.animOut,{left:2*e,top:-f/2,opacity:0})}),d.cssBefore.left=0,d.cssBefore.top=0,d.animIn.left=0},a.fn.cycle.transitions.wipe=function(b,c,d){var e=b.css("overflow","hidden").width(),f=b.height();d.cssBefore=d.cssBefore||{};var g;if(d.clip)if(/l2r/.test(d.clip))g="rect(0px 0px "+f+"px 0px)";else if(/r2l/.test(d.clip))g="rect(0px "+e+"px "+f+"px "+e+"px)";else if(/t2b/.test(d.clip))g="rect(0px "+e+"px 0px 0px)";else if(/b2t/.test(d.clip))g="rect("+f+"px "+e+"px "+f+"px 0px)";else if(/zoom/.test(d.clip)){var h=parseInt(f/2,10),i=parseInt(e/2,10);g="rect("+h+"px "+i+"px "+h+"px "+i+"px)"}d.cssBefore.clip=d.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var j=d.cssBefore.clip.match(/(\d+)/g),k=parseInt(j[0],10),l=parseInt(j[1],10),m=parseInt(j[2],10),n=parseInt(j[3],10);d.before.push(function(b,c,d){if(b!=c){var g=a(b),h=a(c);a.fn.cycle.commonReset(b,c,d,!0,!0,!1),d.cssAfter.display="block";var i=1,j=parseInt(d.speedIn/13,10)-1;!function o(){var a=k?k-parseInt(i*(k/j),10):0,b=n?n-parseInt(i*(n/j),10):0,c=f>m?m+parseInt(i*((f-m)/j||1),10):f,d=e>l?l+parseInt(i*((e-l)/j||1),10):e;h.css({clip:"rect("+a+"px "+d+"px "+c+"px "+b+"px)"}),i++<=j?setTimeout(o,13):g.css("display","none")}()}}),a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0}),d.animIn={left:0},d.animOut={left:0}}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*.3*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c
},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){if(f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id")),a===!0)return f[0].value=d;f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}var g,h,i="placeholder"in b.createElement("input"),j="placeholder"in b.createElement("textarea"),k=c.fn,l=c.valHooks;i&&j?(h=k.placeholder=function(){return this},h.input=h.textarea=!0):(h=k.placeholder=function(){var a=this;return a.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},h.input=i,h.textarea=j,g={get:function(a){var b=c(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var g=c(a);return g.data("placeholder-enabled")?(""==d?(a.value=d,a!=b.activeElement&&f.call(a)):g.hasClass("placeholder")?e.call(a,!0,d)||(a.value=d):a.value=d,g):a.value=d}},i||(l.input=g),j||(l.textarea=g),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(a){function b(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();"center"==g&&(e+=h/2),"bottom"==g&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();return"center"==g&&(f-=i/2),"left"==g&&(f-=i),{top:e,left:f}}function c(c,e){var f,g,h=this,i=c.add(h),j=0,k=0,l=c.attr("title"),m=c.attr("data-tooltip"),n=d[e.effect],o=c.is(":input"),p=o&&c.is(":checkbox, :radio, select, :button, :submit"),q=c.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!n)throw'Nonexistent effect "'+e.effect+'"';if(r=r.split(/,\s*/),2!=r.length)throw"Tooltip: bad events configuration for "+q;c.on(r[0],function(a){clearTimeout(j),e.predelay?k=setTimeout(function(){h.show(a)},e.predelay):h.show(a)}).on(r[1],function(a){clearTimeout(k),e.delay?j=setTimeout(function(){h.hide(a)},e.delay):h.hide(a)}),l&&e.cancelDefault&&(c.removeAttr("title"),c.data("title",l)),a.extend(h,{show:function(d){if(!f&&(m?f=a(m):e.tip?f=a(e.tip).eq(0):l?f=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(l):(f=c.next(),f.length||(f=c.parent().next())),!f.length))throw"Cannot find tooltip for "+c;if(h.isShown())return h;f.stop(!0,!0);var o=b(c,f,e);if(e.tip&&f.html(c.data("title")),d=a.Event(),d.type="onBeforeShow",i.trigger(d,[o]),d.isDefaultPrevented())return h;o=b(c,f,e),f.css({position:"absolute",top:o.top,left:o.left}),g=!0,n[0].call(h,function(){d.type="onShow",g="full",i.trigger(d)});var p=e.events.tooltip.split(/,\s*/);return f.data("__set")||(f.off(p[0]).on(p[0],function(){clearTimeout(j),clearTimeout(k)}),p[1]&&!c.is("input:not(:checkbox, :radio), textarea")&&f.off(p[1]).on(p[1],function(a){a.relatedTarget!=c[0]&&c.trigger(r[1].split(" ")[0])}),e.tip||f.data("__set",!0)),h},hide:function(b){return f&&h.isShown()?(b=a.Event(),b.type="onBeforeHide",i.trigger(b),b.isDefaultPrevented()?void 0:(g=!1,d[e.effect][1].call(h,function(){b.type="onHide",i.trigger(b)}),h)):h},isShown:function(a){return a?"full"==g:g},getConf:function(){return e},getTip:function(){return f},getTrigger:function(){return c}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(h).on(c,e[c]),h[c]=function(b){return b&&a(h).on(c,b),h}})}a.tools=a.tools||{version:"v1.2.7"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){d[a]=[b,c]}};var d={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;1>d&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};a.fn.tooltip=function(b){var d=this.data("tooltip");return d?d:(b=a.extend(!0,{},a.tools.tooltip.conf,b),"string"==typeof b.position&&(b.position=b.position.split(/,?\s/)),this.each(function(){d=new c(a(this),b),a(this).data("tooltip",d)}),b.api?d:this)}}(jQuery),function(a){function b(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function c(a){for(var b=a.length;b--;)if(a[b])return!1;return!0}var d=a.tools.tooltip;d.dynamic={conf:{classNames:"top right bottom left"}},a.fn.dynamic=function(e){"number"==typeof e&&(e={speed:e}),e=a.extend({},d.dynamic.conf,e);var f,g=a.extend(!0,{},e),h=e.classNames.split(/\s/);return this.each(function(){var d=a(this).tooltip().onBeforeShow(function(d,e){var i=this.getTip(),j=this.getConf();f||(f=[j.position[0],j.position[1],j.offset[0],j.offset[1],a.extend({},j)]),a.extend(j,f[4]),j.position=[f[0],f[1]],j.offset=[f[2],f[3]],i.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var k=a.extend(!0,{},g),l=b(i);c(l)||(l[2]&&(a.extend(j,k.top),j.position[0]="top",i.addClass(h[0])),l[3]&&(a.extend(j,k.right),j.position[1]="right",i.addClass(h[1])),l[0]&&(a.extend(j,k.bottom),j.position[0]="bottom",i.addClass(h[2])),l[1]&&(a.extend(j,k.left),j.position[1]="left",i.addClass(h[3])),(l[0]||l[2])&&(j.offset[0]*=-1),(l[1]||l[3])&&(j.offset[1]*=-1)),i.css({visibility:"visible"}).hide()});d.onBeforeShow(function(){var a=this.getConf();this.getTip(),setTimeout(function(){a.position=[f[0],f[1]],a.offset=[f[2],f[3]]},0)}),d.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=d}),e.api?ret:this}}(jQuery),function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),e=b.slideFade?{opacity:b.opacity}:{},f=c[b.direction]||c.up;e[f[1]]=f[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(e,b.slideInSpeed,a)},function(b){var d=this.getConf(),e=d.slideOffset,f=d.slideFade?{opacity:0}:{},g=c[d.direction]||c.up,h=""+g[0];d.bounce&&(h="+"==h?"-":"+"),f[g[1]]=h+"="+e,this.getTip().animate(f,d.slideOutSpeed,function(){a(this).hide(),b.call()})})}(jQuery),function(a){function b(b){m.parent||(m.parent=a('<div id="'+b.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),a.fn.bgiframe&&m.parent.bgiframe(),m.title=a("h3",m.parent),m.body=a("div.body",m.parent),m.url=a("div.url",m.parent))}function c(b){return a.data(b,"tooltip")}function d(b){c(this).delay?l=setTimeout(f,c(this).delay):f(),o=!!c(this).track,a(document.body).bind("mousemove",g),g(b)}function e(){if(!a.tooltip.blocked&&this!=j&&(this.tooltipText||c(this).bodyHandler)){if(j=this,k=this.tooltipText,c(this).bodyHandler){m.title.hide();var b=c(this).bodyHandler.call(this);b.nodeType||b.jquery?m.body.empty().append(b):m.body.html(b),m.body.show()}else if(c(this).showBody){var e=k.split(c(this).showBody);m.title.html(e.shift()).show(),m.body.empty();for(var f,g=0;f=e[g];g++)g>0&&m.body.append("<br/>"),m.body.append(f);m.body.hideWhenEmpty()}else m.title.html(k).show(),m.body.hide();c(this).showURL&&a(this).url()?m.url.html(a(this).url().replace("http://","")).show():m.url.hide(),m.parent.addClass(c(this).extraClass),c(this).fixPNG&&m.parent.fixPNG(),d.apply(this,arguments)}}function f(){l=null,n&&a.fn.bgiframe||!c(j).fade?m.parent.show():m.parent.is(":animated")?m.parent.stop().show().fadeTo(c(j).fade,j.tOpacity):m.parent.is(":visible")?m.parent.fadeTo(c(j).fade,j.tOpacity):m.parent.fadeIn(c(j).fade),g()}function g(b){if(!(a.tooltip.blocked||b&&"OPTION"==b.target.tagName)){if(!o&&m.parent.is(":visible")&&a(document.body).unbind("mousemove",g),null==j)return a(document.body).unbind("mousemove",g),void 0;m.parent.removeClass("viewport-right").removeClass("viewport-bottom");var d=m.parent[0].offsetLeft,e=m.parent[0].offsetTop;if(b){d=b.pageX+c(j).left,e=b.pageY+c(j).top;var f="auto";c(j).positionLeft&&(f=a(window).width()-d,d="auto"),m.parent.css({left:d,right:f,top:e})}var i=h(),k=m.parent[0];i.x+i.cx<k.offsetLeft+k.offsetWidth&&(d-=k.offsetWidth+20+c(j).left,m.parent.css({left:d+"px"}).addClass("viewport-right")),i.y+i.cy<k.offsetTop+k.offsetHeight&&(e-=k.offsetHeight+20+c(j).top,m.parent.css({top:e+"px"}).addClass("viewport-bottom"))}}function h(){return{x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()}}function i(){function b(){m.parent.removeClass(d.extraClass).hide().css("opacity","")}if(!a.tooltip.blocked){l&&clearTimeout(l),j=null;var d=c(this);n&&a.fn.bgiframe||!d.fade?b():m.parent.is(":animated")?m.parent.stop().fadeTo(d.fade,0,b):m.parent.stop().fadeOut(d.fade,b),c(this).fixPNG&&m.parent.unfixPNG()}}var j,k,l,m={},n=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),o=!1;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}},a.fn.extend({tooltipText:function(c){return c=a.extend({},a.tooltip.defaults,c),b(c),this.each(function(){a.data(this,"tooltip",c),this.tOpacity=m.parent.css("opacity"),this.tooltipText=this.title,a(this).removeAttr("title"),this.alt=""}).mouseover(e).mouseout(i).click(i)},fixPNG:n?function(){return this.each(function(){var b=a(this).css("backgroundImage");b.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(b=RegExp.$1,a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=a(this).css("position");"absolute"!=b&&"relative"!=b&&a(this).css("position","relative")}))})}:function(){return this},unfixPNG:n?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})}(jQuery),function(a){a.extend(a.fn,{validate:function(b){if(this.length){var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(b=this.find("input, button"),b.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&b.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(b){function d(){if(c.settings.submitHandler){if(c.submitButton)var b=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);return c.settings.submitHandler.call(c,c.currentForm),c.submitButton&&b.remove(),!1}return!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)}b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}return d=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d),d.required&&(e=d.required,delete d.required,d=a.extend({required:e},d)),d}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1==arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!=Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!=Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){a.each(d.split(/\s/),function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){this.lastElement=b=this.validationTargetFor(this.clean(b)),this.prepareElement(b),this.currentElements=a(b);var c=this.check(b);return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1==a.grep(this.errorList,function(a){return a.element.name==b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:c[this.name]=!0})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1;for(c in d){var f={method:c,parameters:d[c]};try{var g=a.validator.methods[c].call(this,b.value.replace(/\r/g,""),b,f.parameters);if("dependency-mismatch"==g)e=!0;else{if(e=!1,"pending"==g)return this.toHide=this.toHide.not(this.errorsFor(b)),void 0;if(!g)return this.formatAndAdd(b,f),!1}}catch(h){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",h),h}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customMetaMessage:function(b,c){if(a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor==String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method),d=/\$?\{(\d+)\}/g;"function"==typeof c?c=c.call(this,b.parameters,a):d.test(c)&&(c=jQuery.format(c.replace(d,"{$1}"),b.parameters)),this.errorList.push({message:c,element:a}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass),this.showLabel(b.element,b.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(a,d){return d.form==c&&d.name==b&&d||null})},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0==this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={};return(b=a(b).attr("class"))&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={};b=a(b);for(var d in a.validator.methods){var e;(e="required"===d&&"function"==typeof a.fn.prop?b.prop(d):b.attr(d))?c[d]=e:b[0].getAttribute("type")===d&&(c[d]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)delete b[d];else if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!=d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case"select":return(b=a(c).val())&&b.length>0;case"input":if(this.checkable(c))return this.getLength(b,c)>0;default:return a.trim(b).length>0}},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),f.showErrors()}else h={},d=d||f.defaultMessage(c,"remote"),h[c.name]=e.message=a.isFunction(d)?d(b):d,f.showErrors(h);e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)>=d},maxlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)<=d},rangelength:function(b,c,d){return b=this.getLength(a.trim(b),c),this.optional(c)||b>=d[0]&&b<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--)d=a.charAt(f),d=parseInt(d,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e;return 0==c%10},accept:function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(RegExp(".("+c+")$","i"))},equalTo:function(b,c,d){return d=a(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b==d.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){c=a.port,"abort"==a.mode&&(b[c]&&b[c].abort(),b[c]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("port"in d?d:a.ajaxSettings).port;
return"abort"==("mode"in d?d:a.ajaxSettings).mode?(b[e]&&b[e].abort(),b[e]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){return arguments[0]=a.event.fix(b),arguments[0].type=c,a.event.handle.apply(this,arguments)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),function(){jQuery.fn.compare=function(a){try{a=a.jquery?a[0]:a}catch(b){return null}if(window.HTMLElement){var c=HTMLElement.prototype.toString.call(a);if("[xpconnect wrapped native prototype]"==c||"[object XULElement]"==c||"[object Window]"===c)return null}if(this[0].compareDocumentPosition)return this[0].compareDocumentPosition(a);if(this[0]==document&&a!=document)return 8;var d=(this[0]!==a&&this[0].contains(a)&&16)+(this[0]!=a&&a.contains(this[0])&&8),e=document.documentElement;return this[0].sourceIndex&&(d+=this[0].sourceIndex<a.sourceIndex&&4,d+=this[0].sourceIndex>a.sourceIndex&&2,d+=(this[0].ownerDocument!==a.ownerDocument||this[0]!=e&&this[0].sourceIndex<=0||a!=e&&a.sourceIndex<=0)&&1),d}}(jQuery),function(a){a.fn.range=function(){return a.Range(this[0])};var b=function(a){return a.replace(/([a-z])([a-z]+)/gi,function(a,b,c){return b+c.toLowerCase()}).replace(/_/g,"")},c=function(a){return a.replace(/^([a-z]+)_TO_([a-z]+)/i,function(a,b,c){return c+"_TO_"+b})},d=function(a){return a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:window},e={};a.Range=function(b){return this.constructor!==a.Range?new a.Range(b):(b&&b.jquery&&(b=b[0]),!b||b.nodeType?(this.win=d(b),this.range=this.win.document.createRange?this.win.document.createRange():this.win.document.body.createTextRange(),b&&this.select(b)):null!=b.clientX||null!=b.pageX||null!=b.left?this.moveToPoint(b):b.originalEvent&&b.originalEvent.touches&&b.originalEvent.touches.length?this.moveToPoint(b.originalEvent.touches[0]):b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length?this.moveToPoint(b.originalEvent.changedTouches[0]):this.range=b,void 0)},a.Range.current=function(b){var c,e=d(b);return e.getSelection?(c=e.getSelection(),new a.Range(c.rangeCount?c.getRangeAt(0):e.document.createRange())):new a.Range(e.document.selection.createRange())},a.extend(a.Range.prototype,{moveToPoint:function(b){var c=b.clientX,d=b.clientY;if(!c){var g=o();c=(b.pageX||b.left||0)-g.left,d=(b.pageY||b.top||0)-g.top}if(e.moveToPoint)return this.range=a.Range().range,this.range.moveToPoint(c,d),this;for(var h=document.elementFromPoint(c,d),i=0;i<h.childNodes.length;i++){var j=h.childNodes[i];if(3===j.nodeType||4===j.nodeType)for(var k=a.Range(j),l=k.toString().length,m=1;l+1>m;m++){var n=k.end(m).rect();if(n.left<=c&&n.left+n.width>=c&&n.top<=d&&n.top+n.height>=d)return k.start(m-1),this.range=k.range,this}}var p;f(h.childNodes,function(c){var d=a.Range(c);return d.rect().top>b.clientY?!1:(p=d,void 0)}),p?(p.start(p.toString().length),this.range=p.range):this.range=a.Range(h).range},window:function(){return this.win||window},overlaps:function(b){b.nodeType&&(b=a.Range(b).select(b));var c=this.compare("START_TO_START",b),d=this.compare("END_TO_END",b);return 0>=c&&d>=0?!0:c>=0&&this.compare("START_TO_END",b)<=0?!0:this.compare("END_TO_START",b)>=0&&0>=d?!0:!1},collapse:function(a){return this.range.collapse(void 0===a?!0:a),this},toString:function(){return"string"==typeof this.range.text?this.range.text:this.range.toString()},start:function(b){if(void 0===b){if(this.range.startContainer)return{container:this.range.startContainer,offset:this.range.startOffset};var c=this.clone().collapse().parent(),d=a.Range(c).select(c).collapse();return d.move("END_TO_START",this),{container:c,offset:d.toString().length}}if(this.range.setStart)if("number"==typeof b)this.range.setStart(this.range.startContainer,b);else if("string"==typeof b){var e=k(this.range.startContainer,this.range.startOffset,parseInt(b,10));this.range.setStart(e.node,e.offset)}else this.range.setStart(b.container,b.offset);else if("string"==typeof b)this.range.moveStart("character",parseInt(b,10));else{var f,g=this.start().container;"number"==typeof b?f=b:(g=b.container,f=b.offset);var h=a.Range(g).collapse();h.range.move(f),this.move("START_TO_START",h)}return this},end:function(b){if(void 0===b){if(this.range.startContainer)return{container:this.range.endContainer,offset:this.range.endOffset};var c=this.clone().collapse(!1).parent(),d=a.Range(c).select(c).collapse();return d.move("END_TO_END",this),{container:c,offset:d.toString().length}}if(this.range.setEnd)if("number"==typeof b)this.range.setEnd(this.range.endContainer,b);else if("string"==typeof b){var e=k(this.range.endContainer,this.range.endOffset,parseInt(b,10));this.range.setEnd(e.node,e.offset)}else this.range.setEnd(b.container,b.offset);else if("string"==typeof b)this.range.moveEnd("character",parseInt(b,10));else{var f,g=this.end().container;"number"==typeof b?f=b:(g=b.container,f=b.offset);var h=a.Range(g).collapse();h.range.move(f),this.move("END_TO_START",h)}return this},parent:function(){if(this.range.commonAncestorContainer)return this.range.commonAncestorContainer;var b=this.range.parentElement(),c=this.range;return f(b.childNodes,function(d){return a.Range(d).range.inRange(c)?(b=d,!1):void 0}),b},rect:function(b){var c=this.range.getBoundingClientRect();if(c.height||c.width||(c=this.range.getClientRects()[0]),"page"===b){var d=o();c=a.extend({},c),c.top+=d.top,c.left+=d.left}return c},rects:function(b){var c,d=a.map(a.makeArray(this.range.getClientRects()).sort(function(a,b){return b.width*b.height-a.width*a.height}),function(b){return a.extend({},b)}),e=0;for(d.length;e<d.length;){var f=d[e],g=!1;for(c=e+1;c<d.length;)if(n(f,d[c])){if(d[c].width){g=d[c];break}d.splice(c,1)}else c++;g?d.splice(e,1):e++}if("page"==b){var h=o();return a.each(d,function(a,b){b.top+=h.top,b.left+=h.left})}return d}}),function(){var d=a.Range.prototype,e=a.Range().range;d.compare=e.compareBoundaryPoints?function(a,b){return this.range.compareBoundaryPoints(this.window().Range[c(a)],b.range)}:function(a,c){return this.range.compareEndPoints(b(a),c.range)},d.move=e.setStart?function(a,b){var c=b.range;switch(a){case"START_TO_END":this.range.setStart(c.endContainer,c.endOffset);break;case"START_TO_START":this.range.setStart(c.startContainer,c.startOffset);break;case"END_TO_END":this.range.setEnd(c.endContainer,c.endOffset);break;case"END_TO_START":this.range.setEnd(c.startContainer,c.startOffset)}return this}:function(a,c){return this.range.setEndPoint(b(a),c.range),this};var g=e.cloneRange?"cloneRange":"duplicate";e.selectNodeContents?"selectNodeContents":"moveToElementText",d.clone=function(){return a.Range(this.range[g]())},d.select=e.selectNodeContents?function(a){if(a)this.range.selectNodeContents(a);else{var b=this.window().getSelection();b.removeAllRanges(),b.addRange(this.range)}return this}:function(a){if(a)if(3===a.nodeType){var b,c=a.parentNode,d=0;f(c.childNodes,function(c){return c===a?(b=d+c.nodeValue.length,!1):(d+=c.nodeValue.length,void 0)}),this.range.moveToElementText(c),this.range.moveEnd("character",b-this.range.text.length),this.range.moveStart("character",d)}else this.range.moveToElementText(a);else this.range.select();return this}}();var f=function(a,b){for(var c,d=0;a[d];d++)if(c=a[d],3===c.nodeType||4===c.nodeType){if(b(c)===!1)return!1}else if(8!==c.nodeType&&f(c.childNodes,b)===!1)return!1},g=function(a){return 3===a.nodeType||4===a.nodeType},h=function(a,b){return function(c,d){return c[a]&&!d?g(c[a])?c[a]:arguments.callee(c[a]):c[b]?g(c[b])?c[b]:arguments.callee(c[b]):c.parentNode?arguments.callee(c.parentNode,!0):void 0}},i=h("firstChild","nextSibling"),j=h("lastChild","previousSibling"),k=function(a,b,c){return g(a)?l(a,b+c):a.childNodes[b]?l(a.childNodes[b],c):l(a.lastChild,c,!0)},l=function(a,b){var c=0>b?j:i;for(b=Math.abs(b),g(a)||(a=c(a));a&&b>=a.nodeValue.length;)hasMany=b-a.nodeValue.length,a=c(a);return{node:a,offset:c===i?b:a.nodeValue.length-b}},m=function(a,b){return a.left<=b.clientX&&a.left+a.width>=b.clientX&&a.top<=b.clientY&&a.top+a.height>=b.clientY},n=function(a,b){return m(a,{clientX:b.left,clientY:b.top})&&m(a,{clientX:b.left+b.width,clientY:b.top})&&m(a,{clientX:b.left,clientY:b.top+b.height})&&m(a,{clientX:b.left+b.width,clientY:b.top+b.height})},o=function(a){var a=a||window;return doc=a.document.documentElement,body=a.document.body,{left:(doc&&doc.scrollLeft||body&&body.scrollLeft||0)+(doc.clientLeft||0),top:(doc&&doc.scrollTop||body&&body.scrollTop||0)+(doc.clientTop||0)}};e.moveToPoint=!!a.Range().range.moveToPoint}(jQuery),function(a){var b=function(a){return a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:window},c=function(b){var c=a.Range.current(b).clone(),d=a.Range(b).select(b);return c.overlaps(d)?(c.compare("START_TO_START",d)<1?(startPos=0,c.move("START_TO_START",d)):(fromElementToCurrent=d.clone(),fromElementToCurrent.move("END_TO_START",c),startPos=fromElementToCurrent.toString().length),endPos=c.compare("END_TO_END",d)>=0?d.toString().length:startPos+c.toString().length,{start:startPos,end:endPos,width:endPos-startPos}):null},d=function(d){var e=b(d);if(void 0!==d.selectionStart)return document.activeElement&&document.activeElement!=d&&d.selectionStart==d.selectionEnd&&0==d.selectionStart?{start:d.value.length,end:d.value.length,width:0}:{start:d.selectionStart,end:d.selectionEnd,width:d.selectionEnd-d.selectionStart};if(e.getSelection)return c(d,e);try{if("input"==d.nodeName.toLowerCase()){var f=b(d).document.selection.createRange(),g=d.createTextRange();g.setEndPoint("EndToStart",f);var h=g.text.length;return{start:h,end:h+f.text.length,width:f.text.length}}var i=c(d,e);if(!i)return i;var j=a.Range.current().clone(),k=j.clone().collapse().range,l=j.clone().collapse(!1).range;return k.moveStart("character",-1),l.moveStart("character",-1),0!=i.startPos&&""==k.text&&(i.startPos+=2),0!=i.endPos&&""==l.text&&(i.endPos+=2),i}catch(m){return{start:d.value.length,end:d.value.length,width:0}}},e=function(a,c,d){var e=b(a);if(a.setSelectionRange)void 0===d?(a.focus(),a.setSelectionRange(c,c)):(a.select(),a.selectionStart=c,a.selectionEnd=d);else if(a.createTextRange){var f=a.createTextRange();f.moveStart("character",c),d=d||c,f.moveEnd("character",d-a.value.length),f.select()}else if(e.getSelection){var h=e.document,i=e.getSelection(),j=h.createRange(),k=[c,void 0!==d?d:c];g([a],k),j.setStart(k[0].el,k[0].count),j.setEnd(k[1].el,k[1].count),i.removeAllRanges(),i.addRange(j)}else if(e.document.body.createTextRange){var j=document.body.createTextRange();j.moveToElementText(a),j.collapse(),j.moveStart("character",c),j.moveEnd("character",void 0!==d?d:c),j.select()}},f=function(a,b,c,d){"number"==typeof c[0]&&c[0]<b&&(c[0]={el:d,count:c[0]-a}),"number"==typeof c[1]&&c[1]<=b&&(c[1]={el:d,count:c[1]-a})},g=function(a,b,c){var d,e;c=c||0;for(var h=0;a[h];h++)d=a[h],3===d.nodeType||4===d.nodeType?(e=c,c+=d.nodeValue.length,f(e,c,b,d)):8!==d.nodeType&&(c=g(d.childNodes,b,c));return c};a.fn.selection=function(a,b){return void 0!==a?this.each(function(){e(this,a,b)}):d(this[0])},a.fn.selection.getCharElement=g}(jQuery),function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return a}function c(a){return decodeURIComponent(a.replace(e," "))}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return f.json?JSON.parse(a):a}catch(b){}}var e=/\+/g,f=a.cookie=function(e,g,h){if(void 0!==g){if(h=a.extend({},f.defaults,h),"number"==typeof h.expires){var i=h.expires,j=h.expires=new Date;j.setDate(j.getDate()+i)}return g=f.json?JSON.stringify(g):String(g),document.cookie=[encodeURIComponent(e),"=",f.raw?g:encodeURIComponent(g),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var k=f.raw?b:c,l=document.cookie.split("; "),m=e?void 0:{},n=0,o=l.length;o>n;n++){var p=l[n].split("="),q=k(p.shift()),r=k(p.join("="));if(e&&e===q){m=d(r);break}e||(m[q]=d(r))}return m};f.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend(c,{expires:-1})),!0):!1}});var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,g){var h=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(f=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var i=g?"getUTC":"get",j=e[i+"Date"](),k=e[i+"Day"](),l=e[i+"Month"](),m=e[i+"FullYear"](),n=e[i+"Hours"](),o=e[i+"Minutes"](),p=e[i+"Seconds"](),q=e[i+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),s={d:j,dd:d(j),ddd:h.i18n.dayNames[k],dddd:h.i18n.dayNames[k+7],m:l+1,mm:d(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:o,MM:d(o),s:p,ss:d(p),l:d(q,3),L:d(q>99?Math.round(q/10):q),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:g?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(r>0?"-":"+")+d(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][j%10>3?0:(10!=j%100-j%10)*j%10]};return f.replace(a,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},Date.prototype.format=function(a,b){return dateFormat(this,a,b)},function(a){"undefined"==typeof a.fn.each2&&a.fn.extend({each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function c(a,b){var c,d=0,e=b.length;if("undefined"==typeof a)return-1;if(a.constructor===String){for(;e>d;d+=1)if(0===a.localeCompare(b[d]))return d}else for(;e>d;d+=1)if(c=b[d],c.constructor===String){if(0===c.localeCompare(a))return d}else if(c===a)return d;return-1}function d(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?0===a.localeCompare(c):c.constructor===String?0===c.localeCompare(a):!1}function e(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function f(a){return a.outerWidth()-a.width()}function g(c){var d="keyup-change-value";c.bind("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.bind("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function h(c){c.bind("mousemove",function(c){var d=a.data(document,"select2-lastpos");(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function i(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function j(a){var b,c=!1;return function(){return c===!1&&(b=a(),c=!0),b}}function k(a,b){var d=i(a,function(a){b.trigger("scroll-debounced",a)});b.bind("scroll",function(a){c(a.target,b.get())>=0&&d(a)})}function l(a){a.preventDefault(),a.stopPropagation()}function m(b){if(!B){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);B=a("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),a("body").append(B)}return B.text(b.val()),B.width()}function n(a,b,c){var d=a.toUpperCase().indexOf(b.toUpperCase()),e=b.length;return 0>d?(c.push(a),void 0):(c.push(a.substring(0,d)),c.push("<span class='select2-match'>"),c.push(a.substring(d,d+e)),c.push("</span>"),c.push(a.substring(d+e,a.length)),void 0)}function o(b){var c,d=0,e=null,f=b.quietMillis||100;return function(g){window.clearTimeout(c),c=window.setTimeout(function(){d+=1;var c=d,f=b.data,h=b.transport||a.ajax,i=b.traditional||!1,j=b.type||"GET";f=f.call(this,g.term,g.page,g.context),null!==e&&e.abort(),e=h.call(null,{url:b.url,dataType:b.dataType,data:f,type:j,traditional:i,success:function(a){if(!(d>c)){var e=b.results(a,g.page);g.callback(e)}}})},f)}}function p(b){var c,d=b,e=function(a){return""+a.text};return a.isArray(d)||(e=d.text,a.isFunction(e)||(c=d.text,e=function(a){return a[c]}),d=d.results),function(b){var c,f=b.term,g={results:[]};return""===f?(b.callback({results:d}),void 0):(c=function(d,g){var h,i;if(d=d[0],d.children){h={};for(i in d)d.hasOwnProperty(i)&&(h[i]=d[i]);h.children=[],a(d.children).each2(function(a,b){c(b,h.children)}),h.children.length&&g.push(h)}else b.matcher(f,e(d))&&g.push(d)},a(d).each2(function(a,b){c(b,g.results)}),b.callback(g),void 0)}}function q(c){return a.isFunction(c)?c:function(d){var e=d.term,f={results:[]};a(c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===e||d.matcher(e,c))&&f.results.push(a?this:{id:this,text:this})}),d.callback(f)}}function r(b){if(a.isFunction(b))return!0;if(!b)return!1;throw new Error("formatterName must be a function or a falsy value")}function s(b){return a.isFunction(b)?b():b}function t(b){var c=0;return a.each(b,function(a,b){b.children?c+=t(b.children):c++}),c}function u(a,c,e,f){var g,h,i,j,k,l=a,m=!1;if(!f.createSearchChoice||!f.tokenSeparators||f.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=f.tokenSeparators.length;j>i&&(k=f.tokenSeparators[i],h=a.indexOf(k),!(h>=0));i++);if(0>h)break;if(g=a.substring(0,h),a=a.substring(h+k.length),g.length>0&&(g=f.createSearchChoice(g,c),g!==b&&null!==g&&f.id(g)!==b&&null!==f.id(g))){for(m=!1,i=0,j=c.length;j>i;i++)if(d(f.id(g),f.id(c[i]))){m=!0;break}m||e(g)}}return 0!=l.localeCompare(a)?a:void 0}function v(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var w,x,y,z,A,B;w={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case w.LEFT:case w.RIGHT:case w.UP:case w.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case w.SHIFT:case w.CTRL:case w.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},A=function(){var a=1;return function(){return a++}}(),a(document).delegate("body","mousemove",function(b){a.data(document,"select2-lastpos",{x:b.pageX,y:b.pageY})}),a(document).ready(function(){a(document).delegate("body","mousedown touchend",function(c){var d,e=a(c.target).closest("div.select2-container").get(0);e?a(document).find("div.select2-container-active").each(function(){this!==e&&a(this).data("select2").blur()}):(e=a(c.target).closest("div.select2-drop").get(0),a(document).find("div.select2-drop-active").each(function(){this!==e&&a(this).data("select2").blur()})),e=a(c.target),d=e.attr("for"),"LABEL"===c.target.tagName&&d&&d.length>0&&(e=a("#"+d),e=e.data("select2"),e!==b&&(e.focus(),c.preventDefault()))})}),x=v(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+A()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=j(function(){return c.element.closest("body")}),c.element.attr("class")!==b&&this.container.addClass(c.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(s(c.containerCss)),this.container.addClass(s(c.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(s(c.dropdownCssClass)),this.dropdown.data("select2",this),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),e.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),h(this.results),this.dropdown.delegate(f,"mousemove-filtered",this.bind(this.highlightUnderEvent)),k(80,this.results),this.dropdown.delegate(f,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),l(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),l(a))}),g(e),e.bind("keyup-change",this.bind(this.updateResults)),e.bind("focus",function(){e.addClass("select2-focused")," "===e.val()&&e.val("")}),e.bind("blur",function(){e.removeClass("select2-focused")}),this.dropdown.delegate(f,"mouseup",this.bind(function(b){a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(b),this.selectHighlighted(b)):this.focusSearch(),l(b)})),this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(c.element.is(":disabled")||c.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");a!==b&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(c){var f,g,h,i;if(f=c.element,"select"===f.get(0).tagName.toLowerCase()&&(this.select=g=c.element),g&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id,i=this;g=function(d,e,j){var k,l,m,n,o,p,q,r,s;for(k=0,l=d.length;l>k;k+=1)m=d[k],n=h(m)!==b,o=m.children&&m.children.length>0,p=a("<li></li>"),p.addClass("select2-results-dept-"+j),p.addClass("select2-result"),p.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&p.addClass("select2-result-with-children"),p.addClass(i.opts.formatResultCssClass(m)),q=a("<div></div>"),q.addClass("select2-result-label"),s=c.formatResult(m,q,f),s!==b&&q.html(i.opts.escapeMarkup(s)),p.append(q),o&&(r=a("<ul></ul>"),r.addClass("select2-result-sub"),g(m.children,r,j+1),p.append(r)),p.data("select2-data",m),e.append(p)},g(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(h=c.id,c.id=function(a){return a[h]}),g?(c.query=this.bind(function(c){var d,e,g,h={results:[],more:!1},i=c.term;g=function(a,b){var d;a.is("option")?c.matcher(i,a.text(),a)&&b.push({id:a.attr("value"),text:a.text(),element:a.get(),css:a.attr("class")}):a.is("optgroup")&&(d={text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")},a.children().each2(function(a,b){g(b,d.children)}),d.children.length>0&&b.push(d))},d=f.children(),this.getPlaceholder()!==b&&d.length>0&&(e=d[0],""===a(e).text()&&(d=d.not(e))),d.each2(function(a,b){g(b,h.results)}),c.callback(h)}),c.id=function(a){return a.id},c.formatResultCssClass=function(a){return a.css}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=o(c.ajax)):"data"in c?c.query=p(c.data):"tags"in c&&(c.query=q(c.tags),c.createSearchChoice=function(a){return{id:a,text:a}},c.initSelection=function(b,f){var g=[];a(e(b.val(),c.separator)).each(function(){var b=this,e=this,f=c.tags;a.isFunction(f)&&(f=f()),a(f).each(function(){return d(this.id,b)?(e=this.text,!1):void 0}),g.push({id:b,text:e})}),f(g)})),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b,c,d,e=this.container.offset(),f=this.container.outerHeight(),g=this.container.outerWidth(),h=this.dropdown.outerHeight(),i=a(window).scrollTop()+document.documentElement.clientHeight,j=e.top+f,k=e.left,l=i>=j+h,m=e.top-h>=this.body().scrollTop(),n=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(b=this.body().offset(),j-=b.top,k-=b.left),n?(c=!0,!m&&l&&(c=!1)):(c=!1,!l&&m&&(c=!0)),c?(j=e.top-h,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),d=a.extend({top:j,left:k,width:g},s(this.opts.dropdownCss)),this.dropdown.css(d)},shouldOpen:function(){var b;return this.opened()?!1:(b=a.Event("open"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var b=this.containerId,c=this.containerSelector,d="scroll."+b,e="resize."+b;this.container.parents().each(function(){a(this).bind(d,function(){var b=a(c);0==b.length&&a(this).unbind(d),b.select2("close")})}),a(window).bind(e,function(){var b=a(c);0==b.length&&a(window).unbind(e),b.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var b=this;this.container.parents().each(function(){a(this).unbind("scroll."+b.containerId)}),a(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(a.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return i.scrollTop(0),void 0;b=i.find(".select2-result-selectable"),d=a(b[c]),e=d.offset().top+d.outerHeight(),c===b.length-1&&(h=i.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight())),f=i.offset().top+i.outerHeight(),e>f&&i.scrollTop(i.scrollTop()+(e-f)),g=d.offset().top-i.offset().top,0>g&&i.scrollTop(i.scrollTop()+g)}},moveHighlight:function(b){for(var c=this.results.find(".select2-result-selectable"),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(b){var d=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?c(d.filter(".select2-highlighted")[0],d.get()):(b>=d.length&&(b=d.length-1),0>b&&(b=0),d.removeClass("select2-highlighted"),a(d[b]).addClass("select2-highlighted"),this.ensureHighlightVisible(),void 0)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.results.find(".select2-result-selectable");this.highlight(d.index(c))}else 0==c.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),0>=a&&(c.addClass("select2-active"),this.opts.query({term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),a.more===!0?(c.detach().appendTo(b).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d)})})))},tokenize:function(){},updateResults:function(c){function e(){j.scrollTop(0),i.removeClass("select2-active"),l.positionDropdown()}function f(a){j.html(l.opts.escapeMarkup(a)),e()}var g,h,i=this.search,j=this.results,k=this.opts,l=this;if(c===!0||this.showSearchInput!==!1&&this.opened()){if(i.addClass("select2-active"),k.maximumSelectionSize>=1&&(g=this.data(),a.isArray(g)&&g.length>=k.maximumSelectionSize&&r(k.formatSelectionTooBig,"formatSelectionTooBig")))return f("<li class='select2-selection-limit'>"+k.formatSelectionTooBig(k.maximumSelectionSize)+"</li>"),void 0;if(i.val().length<k.minimumInputLength&&r(k.formatInputTooShort,"formatInputTooShort"))return f("<li class='select2-no-results'>"+k.formatInputTooShort(i.val(),k.minimumInputLength)+"</li>"),void 0;f("<li class='select2-searching'>"+k.formatSearching()+"</li>"),h=this.tokenize(),h!=b&&null!=h&&i.val(h),this.resultsPage=1,k.query({term:i.val(),page:this.resultsPage,context:null,matcher:k.matcher,callback:this.bind(function(g){var h;if(this.opened()){if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==i.val()&&(h=this.opts.createSearchChoice.call(null,i.val(),g.results),h!==b&&null!==h&&l.id(h)!==b&&null!==l.id(h)&&0===a(g.results).filter(function(){return d(l.id(this),l.id(h))}).length&&g.results.unshift(h)),0===g.results.length&&r(k.formatNoMatches,"formatNoMatches"))return f("<li class='select2-no-results'>"+k.formatNoMatches(i.val())+"</li>"),void 0;j.empty(),l.opts.populateResults.call(this,j,g.results,{term:i.val(),page:this.resultsPage,context:null}),g.more===!0&&r(k.formatLoadMore,"formatLoadMore")&&(j.append("<li class='select2-more-results'>"+l.opts.escapeMarkup(k.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){l.loadMoreIfNeeded()
},10)),this.postprocessResults(g,c),e()}})})}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function c(){var c,d,e,f,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(e=d[f].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.attr("style","width: "+d)}}),y=v(x,{createContainer:function(){var b=a("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var a,b=this.container,c=this.dropdown,d=!1;this.selection=a=b.find(".select2-choice"),this.search.bind("keydown",this.bind(function(a){if(this.enabled){if(a.which===w.PAGE_UP||a.which===w.PAGE_DOWN)return l(a),void 0;if(this.opened())switch(a.which){case w.UP:case w.DOWN:return this.moveHighlight(a.which===w.UP?-1:1),l(a),void 0;case w.TAB:case w.ENTER:return this.selectHighlighted(),l(a),void 0;case w.ESC:return this.cancel(a),l(a),void 0}else{if(a.which===w.TAB||w.isControl(a)||w.isFunctionKey(a)||a.which===w.ESC)return;if(this.opts.openOnEnter===!1&&a.which===w.ENTER)return;if(this.open(),a.which===w.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),a.bind("mousedown",this.bind(function(){d=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),d=!1})),c.bind("mousedown",this.bind(function(){this.search.focus()})),a.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),a.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),a.bind("keydown",this.bind(function(a){if(this.enabled){if(a.which===w.PAGE_UP||a.which===w.PAGE_DOWN)return l(a),void 0;if(!(a.which===w.TAB||w.isControl(a)||w.isFunctionKey(a)||a.which===w.ESC||this.opts.openOnEnter===!1&&a.which===w.ENTER)){if(a.which==w.DELETE)return this.opts.allowClear&&this.clear(),void 0;if(this.open(),a.which===w.ENTER)return l(a),void 0;if(a.which<48)return l(a),void 0;var b=String.fromCharCode(a.which).toLowerCase();a.shiftKey&&(b=b.toUpperCase()),this.search.focus(),this.search.val(b),l(a)}}})),a.delegate("abbr","mousedown",this.bind(function(a){this.enabled&&(this.clear(),l(a),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder())})}},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=b.find(":selected");a.isFunction(c)&&c({id:d.attr("value"),text:d.text()})}),b},setPlaceholder:function(){var a=this.getPlaceholder();if(""===this.opts.element.val()&&a!==b){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(b,c){var e=0,f=this,g=!0;this.results.find(".select2-result-selectable").each2(function(a,b){return d(f.id(b.data("select2-data")),f.opts.element.val())?(e=a,!1):void 0}),this.highlight(e),c===!0&&(g=this.showSearchInput=t(b.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[g?"removeClass":"addClass"]("select2-search-hidden"),a(this.dropdown,this.container)[g?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(a){var b=this.opts.element.val();this.opts.element.val(this.id(a)),this.updateSelection(a),this.close(),this.selection.focus(),d(b,this.id(a))||this.triggerChange()},updateSelection:function(a){var c,d=this.selection.find("span");this.selection.data("select2-data",a),d.empty(),c=this.opts.formatSelection(a,d),c!==b&&d.append(this.opts.escapeMarkup(c)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.selection.find("abbr").show()},val:function(){var a,c=null,d=this;if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],this.select)this.select.val(a).find(":selected").each2(function(a,b){return c={id:b.attr("value"),text:b.text()},!1}),this.updateSelection(c),this.setPlaceholder();else{if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");if(!a)return this.clear(),void 0;this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):""),d.updateSelection(a),d.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(a){var c;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(a&&""!==a?(this.opts.element.val(a?this.id(a):""),this.updateSelection(a)):this.clear(),void 0)}}),z=v(x,{createContainer:function(){var b=a("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=[];b.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text()})}),a.isFunction(c)&&c(d)}),b},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c),this.search.bind("keydown",this.bind(function(a){if(this.enabled){if(a.which===w.BACKSPACE&&""===this.search.val()){this.close();var c,d=b.find(".select2-search-choice-focus");if(d.length>0)return this.unselect(d.first()),this.search.width(10),l(a),void 0;c=b.find(".select2-search-choice"),c.length>0&&c.last().addClass("select2-search-choice-focus")}else b.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(a.which){case w.UP:case w.DOWN:return this.moveHighlight(a.which===w.UP?-1:1),l(a),void 0;case w.ENTER:case w.TAB:return this.selectHighlighted(),l(a),void 0;case w.ESC:return this.cancel(a),l(a),void 0}a.which===w.TAB||w.isControl(a)||w.isFunctionKey(a)||a.which===w.BACKSPACE||a.which===w.ESC||(this.opts.openOnEnter!==!1||a.which!==w.ENTER)&&(this.open(),(a.which===w.PAGE_UP||a.which===w.PAGE_DOWN)&&l(a))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(a){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),a.stopImmediatePropagation()})),this.container.delegate(c,"mousedown",this.bind(function(b){this.enabled&&(a(b.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.delegate(c,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var d=[],e=[],f=this;a(b).each(function(){c(f.id(this),d)<0&&(d.push(f.id(this)),e.push(this))}),b=e,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer(a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a){this.addSelectedChoice(a),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:a}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(b){var c,d=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),e=this.id(b),f=this.getVal();c=this.opts.formatSelection(b,d),d.find("div").replaceWith("<div>"+this.opts.escapeMarkup(c)+"</div>"),d.find(".select2-search-choice-close").bind("mousedown",l).bind("click dblclick",this.bind(function(b){this.enabled&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),l(b))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),d.data("select2-data",b),d.insertBefore(this.searchContainer),f.push(e),this.setVal(f)},unselect:function(a){var b,d,e=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";b=a.data("select2-data"),d=c(this.id(b),e),d>=0&&(e.splice(d,1),this.setVal(e),this.select&&this.postprocessResults()),a.remove(),this.triggerChange({removed:b})},postprocessResults:function(){var a=this.getVal(),b=this.results.find(".select2-result-selectable"),d=this.results.find(".select2-result-with-children"),e=this;b.each2(function(b,d){var f=e.id(d.data("select2-data"));c(f,a)>=0?d.addClass("select2-disabled").removeClass("select2-result-selectable"):d.removeClass("select2-disabled").addClass("select2-result-selectable")}),d.each2(function(a,b){0==b.find(".select2-result-selectable").length?b.addClass("select2-disabled"):b.removeClass("select2-disabled")}),b.each2(function(a,b){return!b.hasClass("select2-disabled")&&b.hasClass("select2-result-selectable")?(e.highlight(0),!1):void 0})},resizeSearch:function(){var a,b,c,d,e,g=f(this.search);a=m(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-g,a>e&&(e=c-g),40>e&&(e=c-g),this.search.width(e)},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),e(a,this.opts.separator))},setVal:function(b){var d;this.select?this.select.val(b):(d=[],a(b).each(function(){c(this,d)<0&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},val:function(){var c,d=[],e=this;if(0===arguments.length)return this.getVal();if(c=arguments[0],!c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void 0;if(this.setVal(c),this.select)this.select.find(":selected").each(function(){d.push({id:a(this).attr("value"),text:a(this).text()})}),this.updateSelection(d);else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a(b).map(e.id);e.setVal(c),e.updateSelection(b),e.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b){var c,d=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(b||(b=[]),c=a.map(b,function(a){return d.opts.id(a)}),this.setVal(c),this.updateSelection(b),this.clearSearch(),void 0)}}),a.fn.select2=function(){var d,e,f,g,h=Array.prototype.slice.call(arguments,0),i=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===h.length||"object"==typeof h[0])d=0===h.length?{}:a.extend({},h[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?g=d.element.attr("multiple"):(g=d.multiple||!1,"tags"in d&&(d.multiple=g=!0)),e=g?new z:new y,e.init(d);else{if("string"!=typeof h[0])throw"Invalid arguments to select2 plugin: "+h;if(c(h[0],i)<0)throw"Unknown method: "+h[0];if(f=b,e=a(this).data("select2"),e===b)return;if(f="container"===h[0]?e.container:e[h[0]].apply(e,h.slice(1)),f!==b)return!1}}),f===b?this:f},a.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c){var d=[];return n(a.text,c.term,d),d.join("")},formatSelection:function(a){return a?a.text:b},formatResultCssClass:function(){return b},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return b.toUpperCase().indexOf(a.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:u,escapeMarkup:function(a){return a&&"string"==typeof a?a.replace(/&/g,"&amp;"):a},blurOnChange:!1},window.Select2={query:{ajax:o,local:p,tags:q},util:{debounce:i,markMatch:n},"class":{"abstract":x,single:y,multi:z}}}}(jQuery),window.console||(window.console={log:function(){},error:function(){}}),dust.filters.time=function(a){var b=$.datepicker.formatDate("dd.mm.yy",new Date(Date.parse(a)));$.datepicker.formatDate("d.m",new Date(Date.parse(a)));var c=new Date(Date.parse(a)).getHours(),d=new Date(Date.parse(a)).getMinutes();10>d&&(d="0"+d);var e=c+":"+d;return b+" "+e},dust.filters.time_only=function(a){var b=new Date(Date.parse(a)).getHours(),c=new Date(Date.parse(a)).getMinutes();return 10>c&&(c="0"+c),b+":"+c},dust.filters.round=function(a){return Math.round(a)},dust.filters.date=function(a){return $.datepicker.formatDate("dd.mm.yy",new Date(Date.parse(a)))},dust.filters.date_short=function(a){return $.datepicker.formatDate("d.m",new Date(Date.parse(a)))},dust.filters.length=function(a){return a.length},dust.filters.grade=function(a){return Math.round(100*a)/100};var tags_replace={b:"b",i:"i",u:"u",s:"s"};dust.filters.tags=function(a){return $.each(tags_replace,function(b,c){a=a.replace(RegExp("\\["+b+"\\]","g"),"<"+c+">").replace(RegExp("\\[\\/"+b+"\\]","g"),"</"+c+">")}),a=a.replace(/\[list\]/g,"<ul><li>").replace(/\[\/list\]/g,"</li></ul>"),a=a.replace(/\[\*\]/g,"</li><li>").replace(/<ul><li>(.|\n)*?<\/li>/g,"<ul>"),a=a.replace(/\[url(?:=([^\]]*))\]((?:.|\n)*)?\[\/url\]/,'<a href="$1" target="_blank">$2</a>'),a=a.replace(/([^"]\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),a=a},dust.filters.check=function(a){return a=a.replace(/<iframe(.*?)<\/iframe>/g,"")},dust.filters.post=function(a){var b=0==a.indexOf("<p");return a=dust.filters.tags(a),a=a.replace(/\[(?:quote|ציטוט)=(?:"|&quot;)(.*?)(?:"|&quot;)\s*\]\n?((?:.|\n)*?)\n?\[\/(?:quote|ציטוט)\]\n?/g,'<div class="post_quote" ><p style="font-style:italic" ><a class="ref_link" href="javascript:void(0);" style="display: block; margin-bottom: 8px; text-decoration: underline;"> $1 כתב:</a>$2</p></div><br><span class="actual_text">'),b||(a=a.replace(/\n/g,"<br>")),a+="</span></p>"},dust.filters.new_post=function(a){var b=0==a.indexOf("<p");return a=dust.filters.tags(a),a=a.replace(/\[(?:quote|ציטוט)=(?:"|&quot;)(.*?)(?:"|&quot;)\s*\]\n?((?:.|\n)*?)\n?\[\/(?:quote|ציטוט)\]\n?/g,'<div class="quote" ><a class="ref_link" href="javascript:void(0);" style="display: block; margin-bottom: 8px; text-decoration: underline;"> $1:</a>$2</div>'),b||(a=a.replace(/\n/g,"<br>")),a+="</span></p>"},dust.filters.qa=function(a){return a=dust.filters.tags(a),a=a.replace(/\[img\s*(?:,\s*width=(\d+))?\s*(?:,\s*height=(\d+))?\](.*?)\[\/img\]/g,'<div class="auto-scale" style="width:$1px; height:$2px;"><img src="$3"></div>'),a=a.replace("undefined",230)},dust.filters.comment=function(a){return a=dust.filters.tags(a),a=a.replace(/\[(?:quote|ציטוט)=(?:"|&quot;)([^"&]*)(?:"|&quot;)\s*\]\n?((?:.|\n)*)?\n?\[\/(?:quote|ציטוט)\]\n?/g,"")},dust.filters.link=function(a){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return a.replace(b,"<a href='$1'>$1</a>")},dust.renderArray=function(a,b,c,d){for(var e=[],f=null,g=0;g<b.length;g++)dust.render(a,b[g],function(a,b){c&&c(a,b),a&&(f=a),e.push(b)});d&&d(f,e.join(""))};var scrollTo=function(a,b){b=b||{};var c=$(a).offset();return c?($("html, body").animate({scrollTop:c.top},b.duration||800),!0):!1},connectPopup=function(a){popupProvider.showLoginPopup({},a)},tokensInformationPopup=function(a,b,c){var d="עבור פעולה זו נדרשים אסימונים";c&&(d+='<p><a href="#">למדריך לחץ כאן</a></p>'),popupProvider.showOkPopup({message:d})},notActivatedPopup=function(a){popupProvider.showOkPopup({message:a})},getURLParameter=function(a){return decodeURI((RegExp(a+"="+"(.+?)(&|$)").exec(location.search)||[,null])[1])};$(function(){var a=/is_new=([^&#]+)/.exec(window.location.href);if(a){var b='<!-- Postclick Tracking Tag Start --><img src="https://secserv.adtech.de/pcsale/3.0/1158/0/0/0/BeaconId=13757;rettype=img;subnid=1;SalesValue=100;;custom1='+encodeURIComponent(mail)+'" width="1" height="1"><!-- Postclick Tracking Tag End -->';"register"==a[1]&&popupProvider.showOkPopup({message:"הרשמתך התקבלה בהצלחה. כדי להפעיל את חשבון המשתמש שלך, אנא פתח את מייל המערכת שנשלח לכתובת שנרשמת איתה."+b}),"facebook"==a[1]&&popupProvider.showOkPopup({message:"הרשמתך התקבלה בהצלחה. ברוך הבא לעורו!"+b}),"activated"==a[1]&&popupProvider.showOkPopup({message:"הרשמתך התקבלה בהצלחה. ברוך הבא לעורו!"+b}),"reset"==a[1]&&popupProvider.showOkPopup({message:"הסיסמא שונתה בהצלחה."})}$("#election_menu").live("click",function(){window.location.replace("www.uru.org.il/elections")}),$(".link_to_resource").live("click",function(){var a=$(this).data("link");window.location.replace(a)}),$("#register_form").submit(function(){var a=$("#register_form :input"),b={};return a.each(function(){b[this.name]=$(this).val()}),db_functions.login(b.email,b.password,function(a){a?$("#login_head").text(a.responseText||"נסה שוב"):window.location.href=window.location.href}),!1}),$("#fb_connect").live("click",function(){facebookLogin(function(a,b){a?(console.error(a),$("#login_head").text("קרתה תקלה")):window.location.href=b.is_new?window.location.href.indexOf("?")>-1?window.location.href+"&is_new=facebook":window.location.href+"?is_new=facebook":window.location.href})}),window.location.protocol+"//"+window.location.host,$("input, textarea").placeholder(),$("#failureForm").live("submit",function(a){a.preventDefault();var b=this.feedbackTb;""!=b.value.replace(/\s/g,"")&&db_functions.addKilkul(this.feedbackTb.value,function(a){a?console.log(a):b.value=""})}),db_functions.getAndRenderFooterTags();var c=!1,d=function(a){if(!c){c=!0;var b=a.srcElement||a.target;if(b){if($(b).is(".auto-scale"))image_autoscale($("img",b));else{var d=$(".auto-scale",b);d.length&&image_autoscale($("img",d))}if($(b).is(".gray_and_soon"))initTooltip($(b));else{var e=$(".gray_and_soon",b);e.length&&initTooltip(e)}if($(b).is(".share"))fbs_click($(b));else{var f=$(".share",b);f.length&&fbs_click(f)}if($(b).is(".action_comming_soon"))initTooltipWithMessage($(b),"יעלה בקרוב");else{var e=$(".action_comming_soon",b);e.length&&initTooltipWithMessage(e,"יעלה בקרוב")}}c=!1}};if($.browser.msie&&8==Number($.browser.version)){var e=Element.prototype.appendChild;Element.prototype.appendChild=function(){e.call(this,arguments[0],arguments[1]),d({srcElement:this})}}else $("body").bind("DOMNodeInserted",d);image_autoscale($(".auto-scale img")),initTooltip($(".gray_and_soon")),fbs_click($(".share")),initTooltipWithMessage($(".cycle_comming_soon"),"כאן יתקיים התהליך למימוש המציאות הנדרשת שהסכמנו לגביה במערכת הדיונים, באמצעות פעולות, אירועים ועדכונים שוטפים. יעלה בקרוב."),initTooltipWithMessage($(".action_comming_soon"),"יעלה בקרוב")}),$.fn.autoscale=$.fn.imgscale;var logFunctionCalls=function(a,b){var c=function(a){if("function"==typeof a)return"(function "+a.name+")";try{return JSON.stringify(a)}catch(b){return a.toString()}};return function(){var d="";this&&this!=window&&(d+=c(this)),d+=b||a.name||"anonymous";var e=!0;d+="(";for(var f=0;f<arguments.length;f++)e?e=!1:d+=", ",d+=c(arguments[f]);d+=")",console.log("Calling "+d);var g=a.apply(this,arguments);return console.log(d+" = "+c(g)),g}},googleMap=function(){var a;return{init_map:function(b,c){var d={zoom:11,center:c,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControl:!1,scaleControl:!1,mapTypeControl:!1,streetViewControl:!1};return a=new google.maps.Map(document.getElementById(b),d)},addPlaceMark:function(b,c){var d=new google.maps.Marker({position:new google.maps.LatLng(b.lat,b.lng),title:c});return d.setMap(a),d;var d}}}(),getUserPosition=function(a,b){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){console.log(b),a.lat=b.coords.latitude,a.lng=b.coords.longitude}),b(a)};!function(){function a(a,b){return a.write('<div class="img-box"><div style="width:292px; height:164px;" class=\'auto-scale\'><img src="').reference(b.getPath(!1,["img_field","url"]),b,"h").write('" alt="').reference(b.get("img_text"),b,"h").write('" /></div><p>').reference(b.get("img_text"),b,"h").write('</p></div><div class="text"><h3>').reference(b.get("text_field"),b,"h").write("</h3></div>")}return dust.register("about_item",a),a}(),function(){function a(a,b){return a.write('<div class="about-one"><h4>').reference(b.get("title"),b,"h").write("</h4><p>").reference(b.get("text_field"),b,"h",["s"]).write("</p></div>")}return dust.register("about_text",a),a}(),function(){function a(a,d){return a.write('<div class="one-box maag-one-box cf" data-id="').reference(d.get("_id"),d,"h").write('"><div class="right"><a href="/actions/').reference(d.get("_id"),d,"h").write('"><div style="width:141px; height:79px;" class="auto-scale floatRight"><img src="').reference(d.getPath(!1,["image_field","url"]),d,"h").write('" alt="').reference(d.get("tooltip_or_title"),d,"h").write('" title="').reference(d.get("tooltip_or_title"),d,"h").write('" /></div></a><div class="text"><a class="no_underline_cursor_when_hover" href="/actions/').reference(d.get("_id"),d,"h").write('"><h4>').reference(d.get("title"),d,"h").write("</h4></a><p>").reference(d.get("text_field_preview"),d,"h",["s"]).write('</p></div><div class="bottom cf"><div class="ratio"></div></div></div><div class="left">').exists(d.get("is_going"),d,{"else":b,block:c},null).write('<a class="share green-share" data-img_src="').reference(d.getPath(!1,["image_field_preview","url"]),d,"h").write('" data-title="').reference(d.get("title"),d,"h").write('" rel="/actions/').reference(d.get("_id"),d,"h").write('" href="/facebookShare?link=/actions/').reference(d.get("_id"),d,"h").write('"><span>שתף</span></a></div><div class="bottom-plus cf"><div class="right"><div class="bottom cf"><div class="info"><div><strong>משתתפים:</strong>').reference(d.get("participants_count"),d,"h").write("</div></div></div></div></div></div>")}function b(a,b){return a.write('<a class="join_button social-on-click" data-social-title="').reference(b.get("social_popup_title"),b,"h").write('" data-social-text="').reference(b.get("social_popup_text"),b,"h").write('" data-action="follower" data-img_src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" data-text_preview="').reference(b.get("text_field_preview"),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" data-rel="/actions/').reference(b.get("_id"),b,"h").write('" data-main_title="').reference(b.get("cycle_title"),b,"h").write('" data-main_id="').reference(b.getPath(!1,["cycle_id","0","cycle"]),b,"h").write('" href="#">הצטרף</a>')}function c(a,b){return a.write('<a class="join_button social-on-click" data-social-title="').reference(b.get("social_popup_title"),b,"h").write('" data-social-text="').reference(b.get("social_popup_text"),b,"h").write('" data-action="leave" data-action="follower" data-img_src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" data-text_preview="').reference(b.get("text_field_preview"),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" data-rel="/actions/').reference(b.get("_id"),b,"h").write('" data-main_title="').reference(b.get("cycle_title"),b,"h").write('" data-main_id="').reference(b.getPath(!1,["cycle_id","0","cycle"]),b,"h").write('" href="#">עזוב</a>')}return dust.register("action_list_item",a),a}(),function(){function a(a,c){return a.write('<div class="action_map_item" data-id="').reference(c.get("_id"),c,"h").write('"><h4>').reference(c.get("title"),c,"h").write("</h4><p>").reference(c.get("text_field_preview"),c,"h").write("</p>").exists(c.get("location"),c,{block:b},null).write('<div><h3 class="right">').reference(c.get("date"),c,"h",["date_short"]).write('</h3><h3 class="left">').reference(c.get("num_of_going"),c,"h").write(" משתתפים</h3></div></div>")}function b(a,b){return a.write("<p>").reference(b.getPath(!1,["location","address"]),b,"h").write("</p>")}return dust.register("action_map_list_item",a),a}(),function(){function a(a,b){return a.write('<div class="one-members" data-user_id="').reference(b.getPath(!1,["map_join_to_user","_id"]),b,"h").write('"><a href="/myuru/').reference(b.getPath(!1,["map_join_to_user","_id"]),b,"h").write('"><div class="img-box"><a href="/myuru/').reference(b.getPath(!1,["map_join_to_user","_id"]),b,"h").write('"><div  style="width:60px; height:60px;" class=\'auto-scale\'><img width="60" src="').reference(b.getPath(!1,["map_join_to_user","avatar"]),b,"h").write('" alt="" /></div><span></span></div></a><div class="members-popup"><h4 data-bablic-exclude>').reference(b.getPath(!1,["map_join_to_user","first_name"]),b,"h").write(" ").reference(b.getPath(!1,["map_join_to_user","last_name"]),b,"h").write('</h4><div class="proxy"><span>').reference(b.getPath(!1,["map_join_to_user","num_of_proxies_i_represent"]),b,"h").write('</span></div><div class="respect"><span>').reference(b.getPath(!1,["map_join_to_user","score"]),b,"h").write("</span></div></div></div>")}return dust.register("action_participant_user",a),a}(),function(){function a(a,f){return a.write('<div class="one').section(f.getPath(!0,["is_last"]),f,{block:b},null).write('"><a href="/blogs/article/').reference(f.get("_id"),f,"h").write('"><div class="img-box"><div style="width:112px; height:120px;" class=\'auto-scale\'><img src="').exists(f.get("image_field_preview"),f,{"else":c,block:d},null).write('" alt="').reference(f.get("title"),f,"h").write('"/></div><span class="fillter"></span></div></a><h4><a href="" data-bablic-exclude>').reference(f.getPath(!0,["first_name"]),f,"h").write(" ").reference(f.getPath(!0,["last_name"]),f,"h").write('</a></h4><a class="no_underline_cursor_when_hover" href="/blogs/article/').reference(f.get("_id"),f,"h").write('">').reference(f.getPath(!0,["title"]),f,"h").write('</a><div class="tags">').section(f.get("tags"),f,{block:e},null).write('<div class="more hide"><span></span><ul>').helper("if",f,{block:i},{cond:j}).write('<li><a href="javascript:void(0)">הוסף תגית</a></li></ul></div></div></div>')}function b(a){return a.write(" last")}function c(a,b){return a.reference(b.getPath(!1,["image_field","url"]),b,"h")
}function d(a,b){return a.reference(b.getPath(!1,["image_field_preview","url"]),b,"h")}function e(a,b){return a.write('<a href="/information_items?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:f},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function f(a,b){return a.helper("if",b,{block:g},{cond:h})}function g(a){return a.write('style="display:none;"')}function h(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 1 )")}function i(a){return a.write('<li><a href="javascript:void(0)">הצג עוד תגיות</a></li>')}function j(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 2 )")}return dust.register("article",a),a}(),function(){function a(a,h){return a.write('<div id="post_').reference(h.get("_id"),h,"h").write('" class="one cf ').section(h.get("isFirst"),h,{"else":b,block:c},null).write(" ").section(h.get("isEven"),h,{"else":d,block:e},null).write('"data-id="').reference(h.get("_id"),h,"h").write('" data-ref-id="').reference(h.get("ref_to_post_id"),h,"h").write('" data-num-given-mandates="').reference(h.get("mandates_curr_user_gave_creator"),h,"h").write('"data-creator_name="').reference(h.getPath(!1,["creator_id","first_name"]),h,"h").write(" ").reference(h.getPath(!1,["creator_id","last_name"]),h,"h").write('"data-creator_id="').reference(h.getPath(!1,["creator_id","id"]),h,"h").write('"><div class="user-right"><span class="arrow"></span><div class="left"><a id="add_or_remove_proxy" href="javascript:void(0);" disabled="disabled">תן מנדט</a><a href="javascript:void(0);" class="follow_user gray_and_soon">עקוב</a><a href="javascript:void(0);"  class="gray_and_soon">שלח הודעה</a></div><div class="right"><a href="/myuru/').reference(h.getPath(!1,["creator_id","id"]),h,"h").write('"><div class="img-box transparent-img"><div style="width:60px; height:64px;" class="auto-scale"><img data-bablic-exclude alt="').reference(h.get("title"),h,"h").write('" title="').reference(h.getPath(!1,["creator_id","first_name"]),h,"h").write(" ").reference(h.getPath(!1,["creator_id","last_name"]),h,"h").write('"src="').reference(h.getPath(!1,["creator_id","avatar_url"]),h,"h").write('"></div><span></span></div></a><h4 data-bablic-exclude>  ').reference(h.getPath(!1,["creator_id","first_name"]),h,"h").write(" ").reference(h.getPath(!1,["creator_id","last_name"]),h,"h").write('</h4><div class="date">13.3.12</div><div class="proxy"><span>').reference(h.getPath(!1,["creator_id","num_of_proxies_i_represent"]),h,"h").write('</span></div><div class="respect"><span>').reference(h.getPath(!1,["creator_id","score"]),h,"h").write('</span></div></div></div><div class="text"><p>').reference(h.get("text"),h,"h").write('</p></div><div class="ratio"><a href="javascript:void(0);" class="up vote_for ').exists(h.get("isBalancePositive"),h,{block:f},null).write('"></a><div class="count">').reference(h.get("voting"),h,"h",["round"]).write('</div><a href="javascript:void(0);" class="down vote_against ').exists(h.get("isBalanceNegative"),h,{block:g},null).write('" ></a></div></div>')}function b(a){return a}function c(a){return a.write(" noBorder")}function d(a){return a}function e(a){return a.write(" comment-one-even")}function f(a){return a.write("balance-positive")}function g(a){return a.write("balance-negative")}return dust.register("article_comment",a),a}(),function(){function a(a,c){return a.write('<div class="one-post" item_id="').reference(c.get("_id"),c,"h").write('" id="').reference(c.get("_id"),c,"h").write('"><a href="/blogs/article/').reference(c.get("_id"),c,"h").write('"><h3>').reference(c.get("title"),c,"h").write('</h3></a><div class="date-post">').reference(c.get("time"),c,"h",["date"]).write('</div><img class="floatRight" src="images/post-1.jpg" alt="" />').reference(c.get("text"),c,"h",["s"]).write('<div class="bottom cf"><div class="right"><div class="tags"><a class="like-btn" href=""><img src="images/like-btn.png" alt="" /></a>').section(c.get("tags"),c,{block:b},null).write('</div></div></div><div class="post-comment"><h3>תגובות</h3></div></div>')}function b(a,b){return a.write('<a class="tag-search" href="javascript:void(0);">').reference(b.getPath(!0,[]),b,"h").write("</a>\n")}return dust.register("blog_article",a),a}(),function(){function a(a,e){return a.write('<div id="').reference(e.get("_id"),e,"h").write('" class="comment ').exists(e.get("is_even"),e,{"else":b,block:c},null).write('">').exists(e.get("is_my_comment"),e,{block:d},null).write('<a href="/myuru/').reference(e.getPath(!1,["creator_id","id"]),e,"h").write('"><div class="author img-box suggsestion-comment" style="overflow: hidden;"><div class="auto-scale" style="height: 64px; width: 60px" ><img src="').reference(e.get("avatar"),e,"h").write('"></div><span></span><div>').reference(e.get("username"),e,"h").write('</div></div></a><!--<span class="photo-pattern"></span>--><div class="date_time">').reference(e.get("creation_date"),e,"h",["time"]).write('</div><div class="content">').reference(e.get("text"),e,"h",["link","s"]).write("</div></div>")}function b(a){return a.write("odd")}function c(a){return a.write("even")}function d(a){return a.write('<div class="close"></div>')}return dust.register("comment_on_suggestion",a),a}(),function(){function a(a,b){return a.write('<div class="one"><a href="/myuru/').reference(b.get("_id"),b,"h").write('"><div class="img-box" style="overflow: hidden;"><div style="width:60px; height:64px; overflow:hidden; " class=\'auto-scale\' ><img  src="').reference(b.get("avatar_url"),b,"h").write('" alt=""/></div><span></span></div></a><div class="name" data-bablic-exclude>').reference(b.get("first_name"),b,"h").write(" ").reference(b.get("last_name"),b,"h").write('</div><div class="date">').reference(b.get("join_date"),b,"h",["date"]).write("</div></div>")}return dust.register("cycle_follower",a),a}(),function(){function a(a,c){return a.write('<li item-id="').reference(c.get("_id"),c,"h").write('">').exists(c.getPath(!1,["image_field_preview","url"]),c,{block:b},null).write("<h2>").reference(c.get("title"),c,"h").write("</h2><p> ").reference(c.get("text_field_preview"),c,"h",["s"]).write("</p></li>")}function b(a,b){return a.write('<img src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="').reference(b.get("title"),b,"h").write('" title="').reference(b.get("title"),b,"h").write('">')}return dust.register("cycle_information_item",a),a}(),function(){function a(a,e){return a.write('<div class="one-box maag-one-box cf" data-id="').reference(e.get("_id"),e,"h").write('"><div class="right"><a href="/cycles/').reference(e.get("_id"),e,"h").write('"><div style="width:141px; height:79px; float:right;" class="auto-scale floatRight"><img src="').reference(e.getPath(!1,["image_field_preview","url"]),e,"h").write('" alt="').reference(e.get("tooltip_or_title"),e,"h").write('" title="').reference(e.get("tooltip_or_title"),e,"h").write('" /></div></a><div class="text"><a class="no_underline_cursor_when_hover" href="/cycles/').reference(e.get("_id"),e,"h").write('"><h4>').reference(e.get("title"),e,"h").write("</h4></a><p>").reference(e.get("text_field_preview"),e,"h",["s"]).write('</p></div><div class="bottom cf"><div class="ratio"></div><div class="info"><div class="first"><strong>תאריך פתיחה:</strong> ').reference(e.getPath(!1,["creation_date","date"]),e,"h",["date"]).write("</div><div><strong>מספר תומכים:</strong> ").reference(e.get("total_count"),e,"h").write('</div></div></div></div><div class="left">').exists(e.get("is_follower"),e,{"else":b,block:c},null).write('<a class="share" data-img_src="').reference(e.getPath(!1,["image_field_preview","url"]),e,"h").write('" data-text_preview="').reference(e.get("text_field_preview"),e,"h").write('" data-title="').reference(e.get("title"),e,"h").write('" rel="/cycles/').reference(e.get("_id"),e,"h").write('" href="/facebookShare?link=/cycles/').reference(e.get("_id"),e,"h").write('"><span>שתף</span></a></div>').exists(e.get("mok_upcoming_action"),e,{block:d},null).write("</div>")}function b(a,b){return a.write('<a class="join_button social-on-click" data-social-title="').reference(b.get("social_popup_title"),b,"h").write('" data-social-text="').reference(b.get("social_popup_text"),b,"h").write('" data-action="follower" data-img_src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" data-rel="/cycles/').reference(b.get("_id"),b,"h").write('" href="#">הצטרף</a>')}function c(a,b){return a.write('<a class="join_button social-on-click" data-social-title="').reference(b.get("social_popup_title"),b,"h").write('" data-social-text="').reference(b.get("social_popup_text"),b,"h").write('" data-action="leave" data-img_src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" data-rel="/cycles/').reference(b.get("_id"),b,"h").write('" href="#">עזוב</a>')}function d(a,b){return a.write('<div class="bottom-plus cf"><div class="right"><div class="bottom cf"><div class="info-more">הפעולה הקרובה</div><div class="info"><div class="first"><span class="status status-green"></span><strong> <a class="no_underline_cursor_when_hover" href="/actions/').exists(b.get("mok_upcoming_action"),b,{block:e},null).write('">').exists(b.get("mok_upcoming_action"),b,{block:f},null).write("</a></strong> | <strong>תאריך ושעה:</strong> ").exists(b.get("mok_upcoming_action"),b,{block:g},null).write("</div><div><strong>מספר משתתפים:</strong> ").exists(b.get("mok_upcoming_action"),b,{block:h},null).write('</div></div></div></div><div class="left"><a class="share" data-img_src="').exists(b.get("mok_upcoming_action"),b,{block:i},null).write('" data-text_preview="').exists(b.get("mok_upcoming_action"),b,{block:j},null).write('" data-title="').exists(b.get("mok_upcoming_action"),b,{block:k},null).write('" rel="/actions/').exists(b.get("mok_upcoming_action"),b,{block:l},null).write('" href="/facebookShare?link=/actions/').exists(b.get("mok_upcoming_action"),b,{block:m},null).write('"><span>שתף</span></a></div></div>')}function e(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","_id"]),b,"h")}function f(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","title"]),b,"h")}function g(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","execution_date","date"]),b,"h",["time"])}function h(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","num_of_going"]),b,"h")}function i(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","image_field_preview","url"]),b,"h")}function j(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","text_field_preview"]),b,"h")}function k(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","title"]),b,"h")}function l(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","_id"]),b,"h")}function m(a,b){return a.reference(b.getPath(!1,["mok_upcoming_action","_id"]),b,"h")}return dust.register("cycle_list_item",a),a}(),function(){function a(a,e){return a.write('<div class="popup-event type-one" item-id="').reference(e.get("_id"),e,"h").write('"><div class="popup-text"><h4 title="').reference(e.get("title"),e,"h").write('">').reference(e.get("title"),e,"h").write("</h4>").exists(e.get("location"),e,{block:b},null).write("<p>").reference(e.get("date"),e,"h",["time_only"]).write('</p><p class="going_num">').reference(e.get("num_of_going"),e,"h").write(' משתתפים</p><a item-id="').reference(e.get("_id"),e,"h").write('" class="join-btn" href="javascript:void(0); " >').exists(e.get("is_going"),e,{"else":c,block:d},null).write("</a></div></div>")}function b(a,b){return a.write("<p>").reference(b.getPath(!1,["location","address"]),b,"h").write("</p>")}function c(a){return a.write("הצטרף")}function d(a){return a.write("עזוב")}return dust.register("cycle_map_popup",a),a}(),function(){function a(a,b){return a.write('<div class="one"><a class="no_underline_cursor_when_hover" href="../../actions/').reference(b.get("_id"),b,"h").write('"><h4>').reference(b.get("title"),b,"h").write("</h4></a><p>").reference(b.get("description"),b,"h").write('</p><div class="date">').reference(b.getPath(!1,["execution_date","date"]),b,"h",["date"]).write("  |    ").reference(b.get("num_of_going"),b,"h").write('          &nbsp;משתתפים</div><div class="tags cf"><!--<div class="info"><span class="talks">33</span><span class="watched">151</span></div>--></div></div>')}return dust.register("cycle_pending_action",a),a}(),function(){function a(a,l){return a.write('<div id="post_').reference(l.get("_id"),l,"h").write('" class="one cf ').section(l.get("isFirst"),l,{"else":b,block:c},null).write(" ").section(l.get("isEven"),l,{"else":d,block:e},null).write('"data-id="').reference(l.get("_id"),l,"h").write('" data-ref-id="').reference(l.get("ref_to_post_id"),l,"h").write('" data-num-given-mandates="').reference(l.get("mandates_curr_user_gave_creator"),l,"h").write('"data-creator_name="').reference(l.getPath(!1,["creator_id","first_name"]),l,"h").write(" ").reference(l.getPath(!1,["creator_id","last_name"]),l,"h").write('"data-creator_id="').reference(l.getPath(!1,["creator_id","id"]),l,"h").write('"><div class="user-right user-right-small side_menu"><span class="arrow"></span><div class="left"><a id="add_or_remove_proxy" href="javascript:void(0);">תן מנדט</a><a href="javascript:void(0);" class="follow_user gray_and_soon">עקוב</a><a href="javascript:void(0);"  class="gray_and_soon">שלח הודעה</a></div><div class="right"><a href="/myuru/').reference(l.getPath(!1,["creator_id","id"]),l,"h").write('"><div class="img-box transparent-img"><div style="width:60px; height:64px;" class="auto-scale"><img data-bablic-exclude alt="').reference(l.get("title"),l,"h").write('" title="').reference(l.getPath(!1,["creator_id","first_name"]),l,"h").write(" ").reference(l.getPath(!1,["creator_id","last_name"]),l,"h").write('"src="').exists(l.get("creator_id"),l,{"else":f,block:g},null).write('"></div><span></span></div></a><h4 data-bablic-exclude>  ').reference(l.getPath(!1,["creator_id","first_name"]),l,"h").write(" ").reference(l.getPath(!1,["creator_id","last_name"]),l,"h").write('</h4><div class="proxy"><span>').reference(l.getPath(!1,["creator_id","num_of_proxies_i_represent"]),l,"h").write('</span></div><div class="respect"><span>').reference(l.getPath(!1,["creator_id","score"]),l,"h").write('</span></div></div></div><div class="text">').exists(l.get("discussion_title"),l,{block:h},null).write("<p>").reference(l.get("text"),l,"h",["s","post"]).write('</p><div class="bottom">').exists(l.get("discussion_button"),l,{block:i},null).write('</div></div><div class="ratio"><div class="ratio-spacer"></div><div class="ratio-content"><a href="javascript:void(0);" class="up vote_for ').exists(l.get("voter_balance"),l,{block:j},null).write('"></a><div class="count">').reference(l.get("voting"),l,"h",["round"]).write('</div><a href="javascript:void(0);" class="down vote_against ').exists(l.get("voter_balance"),l,{block:k},null).write('"></a></div></div></div>')}function b(a){return a}function c(a){return a.write(" noBorder")}function d(a){return a}function e(a){return a.write(" comment-one-even")}function f(a){return a.write("/images/default_user_img.gif")}function g(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function h(a,b){return a.write("<h3>").reference(b.get("discussion_title"),b,"h").write("</h3>  ")}function i(a,b){return a.write('<a href="/discussions/').reference(b.get("discussion_id"),b,"h").write('">מעבר לדיון </a>      ')}function j(a,b){return a.write("balance").reference(b.get("voter_balance"),b,"h")}function k(a,b){return a.write("balance").reference(b.get("voter_balance"),b,"h")}return dust.register("cycle_post",a),a}(),function(){function a(a,h){return a.write('<div style="left: ').reference(h.get("offset"),h,"h").write('px" class="event event-next" id="timeline_item_').reference(h.get("timeline_index"),h,"h").write('"><div class="icon blue-icon"><span class="i"></span>').exists(h.get("is_displayed"),h,{"else":b,block:c},null).write('<div class="popup-text"><h4 title="').reference(h.get("title"),h,"h").write('">').reference(h.get("title"),h,"h").write("</h4>").exists(h.get("location"),h,{block:d},null).write("<p>").reference(h.get("date"),h,"h",["time_only"]).write('</p><p class="going_num">').reference(h.get("num_of_going"),h,"h").write(' משתתפים</p><a item-id="').reference(h.get("_id"),h,"h").write('" class="join-btn" href="javascript:void(0); " >').exists(h.get("is_going"),h,{"else":e,block:f},null).write("</a></div></div></div>").notexists(h.get("cluster"),h,{block:g},null).write("</div>")}function b(a,b){return a.write('<div class="popup-event type-one" item-id="').reference(b.get("_id"),b,"h").write('">')}function c(a,b){return a.write('<div class="popup-event type-one showdiv" item-id="').reference(b.get("_id"),b,"h").write('">')}function d(a,b){return a.write("<p>").reference(b.getPath(!1,["location","address"]),b,"h").write("</p>")}function e(a){return a.write("הצטרף")}function f(a){return a.write("עזוב")}function g(a,b){return a.write('<span class="number">').reference(b.get("date"),b,"h",["date_short"]).write('</span><span class="text">').exists(b.get("category"),b,{block:h},null).write("</span>")}function h(a,b){return a.reference(b.get("category"),b,"h")}return dust.register("cycle_timeline_action",a),a}(),function(){function a(a,g){return a.write('<div style="left: ').reference(g.get("offset"),g,"h").write('px" class="event event-prev creation" id="timeline_item_').reference(g.get("timeline_index"),g,"h").write('"><div class="icon grey-icon"><span class="i"></span>').exists(g.get("is_displayed"),g,{"else":b,block:c},null).write('<div class="popup-text">').exists(g.get("manuver_link"),g,{"else":d,block:e},null).write("</div></div></div>").notexists(g.get("cluster"),g,{block:f},null).write("</div>")}function b(a){return a.write('<div class="popup-event type-three">')}function c(a){return a.write('<div class="popup-event type-three showdiv">')}function d(a,b){return a.write("<h3>").reference(b.get("text"),b,"h").write("</h3>")}function e(a,b){return a.write("<h3>").reference(b.get("text"),b,"h",["s"]).write("</h3>")}function f(a,b){return a.write('<span class="number">').reference(b.get("date"),b,"h",["date_short"]).write('</span><span class="text">עדכון מערכת</span>')}return dust.register("cycle_timeline_admin_update",a),a}(),function(){function a(a,d){return a.write('<div style="left:').reference(d.get("offset"),d,"h").write('px" class="event event-prev creation">').exists(d.get("is_displayed"),d,{"else":b,block:c},null).write('<span class="i"></span></div><span class="number">').reference(d.get("date"),d,"h",["date_short"]).write('</span><span class="text">צירת מ. תנופה</span></div>')}function b(a){return a.write('<div class="icon plus-icon">')}function c(a){return a.write('<div class="icon plus-icon showdiv">')}return dust.register("cycle_timeline_creation",a),a}(),function(){function a(a,d){return a.write('<div style="left: 0px" class="event event-prev creation"><div class="icon prev-icon"><span class="i"></span>').exists(d.get("is_displayed"),d,{"else":b,block:c},null).write('<div class="popup-text"><h3>תחילת הדיון בחזון שהוביל לקמפיין</h3><a href="/discussions/').reference(d.get("_id"),d,"h").write('">').reference(d.get("title"),d,"h").write('</a></div></div></div><span class="number">').reference(d.get("date"),d,"h",["date_short"]).write('</span><span class="text">יצירת דיון</span></div>')}function b(a,b){return a.write('<div class="popup-event type-three" item-id="').reference(b.get("_id"),b,"h").write('">')}function c(a,b){return a.write('<div class="popup-event type-three showdiv" item-id="').reference(b.get("_id"),b,"h").write('">')}return dust.register("cycle_timeline_discussion",a),a}(),function(){function a(a,b){return a.write('<div style="left: ').reference(b.get("offset"),b,"h").write('px" class="event event-next"><div class="icon next-icon"><span class="i"></span></div><span class="number">').reference(b.get("date"),b,"h",["date_short"]).write('</span><span class="text">תאריך יעד</span></div>')}return dust.register("cycle_timeline_due_date",a),a}(),function(){function a(a,b){return a.write('<div style="left: ').reference(b.get("offset"),b,"h").write('px" class="event event-dummy"><span class="number">').reference(b.get("date"),b,"h").write("</span></div>")}return dust.register("cycle_timeline_dummy",a),a}(),function(){function a(a){return a.write('<div class="cycle_tabs_box"><ul class="tabs-nav"><li><h5 class="timeline_tab right selected"> <span class="timeline-first-part">ציר הזמן</span><span id="timeline-second-part">תצוגה על פי תאריך</span></h5></li><li><h5 class="map_tab left"><span class="timeline-first-part">מפה</span><span >תצוגה על פי מיקום</span></h5></li></ul><div id="tabs_cycle_timeline"><div class="followers-diagram"></div></div><div id="tabs_cycle_map"><div id="cycle_map_box"><div id="cycle_map" class="cycle_map" style="width: 742px; height: 354px "></div><div id="action_list_box"><div id="action_list" class="action_list"><h1 class="title">רשימת כל הפעולות</h1></div></div></div></div></div></div>')}return dust.register("cycle_timeline_map_tabs",a),a}(),function(){function a(a,e){return a.write('<div style="left: ').reference(e.get("offset"),e,"h").write('px" class="event past-cluster"><div class="icon white-icon multi"><span class="i right"></span><span class="i left"></span><span class="i center"></span>').exists(e.get("is_displayed"),e,{"else":b,block:c},null).write('<div class="popup-text"><h3>').reference(e.get("month"),e,"h").write('</h3><ul class="">').section(e.get("items"),e,{block:d},null).write('</ul></div></div></div><span class="text">').reference(e.get("month"),e,"h").write("</span></div>")}function b(a){return a.write('<div class="popup-event type-three">')}function c(a){return a.write('<div class="popup-event type-three showdiv">')}function d(a,b){return a.exists(b.get("manuver_link"),b,{"else":e,block:i},null)}function e(a,b){return a.write("<li><strong>").reference(b.get("date"),b,"h",["date_short"]).write(" </strong> ").exists(b.get("link"),b,{block:f},null).write("<strong>").reference(b.get("type_print"),b,"h").write("</strong>").exists(b.get("short"),b,{block:g},null).exists(b.get("link"),b,{block:h},null).write("</li>")}function f(a,b){return a.write('<a href="').reference(b.get("link"),b,"h").write('" >')}function g(a,b){return a.write(" - ").reference(b.get("short"),b,"h")}function h(a){return a.write("</a>")}function i(a,b){return a.write("<li><strong>").reference(b.get("type_print"),b,"h").write("</strong> - ").reference(b.get("short"),b,"h",["s"]).write("</li>")}return dust.register("cycle_timeline_past_cluster",a),a}(),function(){function a(a,b){return a.write('<div style="left:').reference(b.get("offset"),b,"h").write('px" class="event today" id="timeline_item_').reference(b.get("timeline_index"),b,"h").write('" ><div class="icon triangle-icon"><span class="i"></span></div><span class="number">').reference(b.get("date"),b,"h",["date_short"]).write('</span><span class="text">היום</span></div>')}return dust.register("cycle_timeline_today",a),a}(),function(){function a(a,e){return a.write('<div style="left:').reference(e.get("offset"),e,"h").write('px" class="event event-prev creation"  id="timeline_item_').reference(e.get("timeline_index"),e,"h").write('"><div class="icon green-icon"><span class="i"></span>').exists(e.get("is_displayed"),e,{"else":b,block:c},null).write('<div class="popup-text"><img  width="90" src="').reference(e.getPath(!1,["image_field","url"]),e,"h").write('" class="floatRight" /><div class="title">').reference(e.get("title"),e,"h").write("</div>").reference(e.get("text_field_preview"),e,"h",["s","check"]).write("</div></div></div>").notexists(e.get("cluster"),e,{block:d},null).write("</div>")}function b(a,b){return a.write('<div class="popup-event type-two" item-id="').reference(b.get("_id"),b,"h").write('">')}function c(a,b){return a.write('<div class="popup-event type-two showdiv" item-id="').reference(b.get("_id"),b,"h").write('">')}function d(a,b){return a.write('<span class="number">').reference(b.get("date"),b,"h",["date_short"]).write('</span><span class="text">עדכון</span>')}return dust.register("cycle_timeline_update",a),a}(),function(){function a(a,b){return a.write('<div class="one"><div class="right-image" style="overflow: hidden;"><a href="/updates/').reference(b.get("_id"),b,"h").write('"><div style="width:141px;height: 79px; overflow:hidden; " class=\'auto-scale\' ><img  src="').reference(b.getPath(!1,["image_field","url"]),b,"h").write('" alt=""/></div></a><span></span></div><a class="no_underline_cursor_when_hover" href="/updates/').reference(b.get("_id"),b,"h").write('"><h4>').reference(b.get("title"),b,"h").write("</h4></a><p>").reference(b.get("text_field_preview"),b,"h",["s"]).write('<a href="/updates/').reference(b.get("_id"),b,"h").write('">קרא עוד</a></p><a href="/facebookShare?link=/updates/').reference(b.get("_id"),b,"h").write('" target="_blank" class="btn share" data-title="').reference(b.get("title"),b,"h").write('" data-text_preview="').reference(b.get("text_field_preview"),b,"h").write('" data-img_src="').reference(b.getPath(!1,["image_field","url"]),b,"h").write('" rel="/updates/').reference(b.get("_id"),b,"h").write('" >שתף</a></div>')}return dust.register("cycle_update",a),a}(),function(){function a(a,b){return a.write('<div class="popup popup-small" id="explanation_popup"><div class="middle-popup"><label>').reference(b.get("popup_text"),b,"h").write('</label></div><div class="popup-bottom"><a class="dark-grey-btn ok-button" href="">').reference(b.get("okButtonText"),b,"h").write('</a><a class="dark-grey-btn cancel-button" href="">').reference(b.get("cancelButtonText"),b,"h").write("</a></div></div>")}return dust.register("delete_post_popup",a),a}(),function(){function a(a,c){return a.write('<div class="elected_item"><a href="/discussions/').reference(c.get("_id"),c,"h").write('"><div style="width:178px; height:92px;" class="auto-scale"><img class="floatRight" src="').reference(c.getPath(!1,["image_field_preview","url"]),c,"h").write('" alt="').reference(c.get("tooltip_or_title"),c,"h").write('" title="').reference(c.get("tooltip_or_title"),c,"h").write('" /></div></a><a  href="/discussions/').reference(c.get("_id"),c,"h").write('">').reference(c.get("title"),c,"h").write('</a><div class="tags">').section(c.get("tags"),c,{block:b},null).write('<div class="info"><!-- TODO grade_sum == post_count cause mongoode dont allow me to add a field!!--><span class="talks">').reference(c.get("grade_sum"),c,"h").write('</span><span class="watched">').reference(c.get("view_counter"),c,"h").write("</span></div></div></div>")}function b(a,b){return a.write('<a href="/information_items?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:c},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function c(a,b){return a.helper("if",b,{block:d},{cond:e})}function d(a){return a.write('style="display:none;"')}function e(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 1 )")}return dust.register("dicussion_elected",a),a}(),function(){function a(a,i){return a.write('<div class="suggestion_wrapper ').exists(i.get("is_editable"),i,{"else":b,block:c},null).write('" data-id="').reference(i.get("id"),i,"h").write('"data-creator_name="').reference(i.getPath(!1,["creator_id","first_name"]),i,"h").write(" ").reference(i.getPath(!1,["creator_id","last_name"]),i,"h").write('"data-creator_id="').reference(i.getPath(!1,["creator_id","id"]),i,"h").write('" id="post_').reference(i.get("id"),i,"h").write('"data-my_grade="').reference(i.get("my_grade_val"),i,"h").write('" data-my_grade_id="').reference(i.get("my_grade_id"),i,"h").write('"><div class="suggestion_holder window"><div class="suggestion_details person" data-id="').reference(i.getPath(!1,["creator_id","id"]),i,"h").write('" data-name="').reference(i.getPath(!1,["creator_id","first_name"]),i,"h").write(" ").reference(i.getPath(!1,["creator_id","last_name"]),i,"h").write('"><a href="/myuru/').reference(i.getPath(!1,["creator_id","id"]),i,"h").write('"><div class="img-box" style="overflow: hidden;"><div class="photo auto-scale" style="height:64px"><img src="').exists(i.get("creator_id"),i,{"else":d,block:e},null).write('" /></div><span></span></div></a><div class="name">').reference(i.getPath(!1,["creator_id","first_name"]),i,"h").write(" ").reference(i.getPath(!1,["creator_id","last_name"]),i,"h").write('</div><div class="actions_box_container"><div class="actions_box"><div id="add_or_remove_proxy" class="action">תן מנדט</div><div class="action gray_and_soon">שלח הודעה</div><div class="action gray_and_soon">עקוב</div></div> </div><div class="date_time"><a class="underline_and_cursor_when_hover" href="/discussions/').reference(i.get("discussion_id"),i,"h").write("#post_").reference(i.get("id"),i,"h").write('" title="לינק ישיר להצעה"><span class="time">').exists(i.get("creation_date"),i,{block:f},null).write('</span></a></div><div class="ratings"><span class="awards">').reference(i.getPath(!1,["creator_id","score"]),i,"h").write('</span>&nbsp;<span class="friends">').reference(i.getPath(!1,["creator_id","num_of_proxies_i_represent"]),i,"h").write('</span></div></div><div class="button_edit_comment"><input type="button" /></div><div class="suggestion_content">').exists(i.get("original_part"),i,{block:g},null).write('<div class="text change_proposal"><h3 class="title">הצעה לשינוי:</h3><span class="alternative_part">').reference(i.get("alternative_part"),i,"h").write('</span><h3 class="title">נימוק:</h3><span class="explanation">').reference(i.get("explanation"),i,"h").write('</span></div></div><div class="suggestion_bottom"><div class="suggestion_bottom_segment wide"><div class="date_time"><span>התקבלה בתאריך:</span><a class="underline_and_cursor_when_hover" href="/discussions/').reference(i.get("discussion_id"),i,"h").write("#post_").reference(i.get("id"),i,"h").write('" title="לינק ישיר להצעה"><span class="time">').exists(i.get("approve_date"),i,{block:h},null).write("</span></a></div></div></div></div></div>")}function b(a){return a.write("show_context")}function c(a){return a.write("edit_suggestion")}function d(a){return a.write("/images/default_user_img.gif")}function e(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function f(a,b){return a.reference(b.get("creation_date"),b,"h",["time"])}function g(a,b){return a.write('<div class="edit_window"><p class="title">מסמך החזון המקורי בשילוב הטקסט שהשתנה. לחצו כדי לחזור לחזון                </p><p>').reference(b.get("context_before"),b,"h").write('<span class="focus">').reference(b.get("replaced_text"),b,"h").write("</span>").reference(b.get("context_after"),b,"h").write('</p></div><div class="text_orig"><h3 class="title">טקסט מקורי:</h3><span class="original_part">').reference(b.get("original_part"),b,"h").write("</span></div>")}function h(a,b){return a.reference(b.get("approve_date"),b,"h",["time"])}return dust.register("discussion_approved_suggestion",a),a}(),function(){function a(a,k){return a.write('<div class="comment_wrapper regular_comment ').exists(k.get("is_even"),k,{"else":b,block:c},null).write(" ").exists(k.get("is_editable"),k,{block:d},null).write('" id="post_').reference(k.get("_id"),k,"h").write('" data-id="').reference(k.get("_id"),k,"h").write('" data-ref-id="').reference(k.get("ref_to_post_id"),k,"h").write('" data-num-given-mandates="').reference(k.get("mandates_curr_user_gave_creator"),k,"h").write('"data-creator_name="').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('" data-creator_id="').reference(k.getPath(!1,["creator_id","id"]),k,"h").write('"data-num_of_proxies="').reference(k.getPath(!1,["creator_id","num_of_proxies_i_represent"]),k,"h").write('">').exists(k.get("is_my_comment"),k,{block:e},null).write('<div class="comment_details person" data-id="').reference(k.getPath(!1,["creator_id","id"]),k,"h").write('" data-name="').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('"><a href="/myuru/').reference(k.getPath(!1,["creator_id","id"]),k,"h").write('"><div class="img-box" style="overflow: hidden;"><div class="photo auto-scale" style="height:64px"><img data-bablic-exclude alt="').reference(k.get("title"),k,"h").write('" title="').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('"src="').exists(k.get("creator_id"),k,{"else":f,block:g},null).write('" /></div><span></span></div></a><div class="name" data-bablic-exclude>').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('</div><div class="actions_box_container"><div class="actions_box"><div id="add_or_remove_proxy" class="action">תן מנדט</div><div class="action gray_and_soon">שלח הודעה</div><div class="action gray_and_soon">עקוב</div></div> </div><div class="date_time"><a class="underline_and_cursor_when_hover" href="/discussions/').reference(k.get("discussion_id"),k,"h").write("#post_").reference(k.get("_id"),k,"h").write('" title="לינק ישיר לתגובה"><span class="date">').exists(k.get("creation_date"),k,{block:h},null).write('</span><span class="time">').reference(k.getPath(!1,["creator_id","username"]),k,"h").write(" ").exists(k.get("creation_date"),k,{block:i},null).write('</span></a></div><div class="ratings"><span class="friends">').reference(k.getPath(!1,["creator_id","num_of_proxies_i_represent"]),k,"h").write('</span><span class="awards">').reference(k.getPath(!1,["creator_id","score"]),k,"h").write('</span></div></div><div class="content">').reference(k.get("text"),k,"h",["s","new_post"]).write('<div class="button_edit_comment"><input type="button"></div>').exists(k.get("quoted_by"),k,{block:j},null).write('</div><div class="comment_buttons"><input class="button_quote" type="button" /><input class="button_comment" type="button" /><div style= "width: 80px; height: 20px; left: 0; bottom: -22px; overflow: hidden;position: absolute; direction: ltr;"><div class="fb-like" data-href="http://www.uru.org.il/discussions/').reference(k.get("discussion_id"),k,"h").write("/posts/").reference(k.get("_id"),k,"h").write('"data-send="false" data-layout="button_count" data-width="450" data-show-faces="false"></div></div></div><div class="rating_small"><a href="javascript:void(0)"><span class="good"></span></a><span class="counter">').reference(k.get("voting"),k,"h",["round"]).write('</span><a href="javascript:void(0)"><span class="bad"></span></a></div></div>')
}function b(a){return a.write("odd")}function c(a){return a.write("even")}function d(a){return a.write("edit_comment")}function e(a){return a.write('<div class="close"></div>')}function f(a){return a.write("/images/default_user_img.gif")}function g(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function h(a,b){return a.reference(b.get("creation_date"),b,"h",["date"])}function i(a,b){return a.reference(b.get("creation_date"),b,"h",["time_only"])}function j(a,b){return a.write('<div class="quoted_by"> צוטט ע"י:').section(b.get("quoted_by"),b,{block:k},null).write("</div>")}function k(a,b){return a.write('<span class="quote-ref" data-ref-id="').reference(b.get("post_id"),b,"h").write('"><a href="javascript:void(0)"> ').reference(b.get("user_name"),b,"h").write("</a></span>")}return dust.register("discussion_comment",a),a}(),function(){function a(a,k){return a.write('<div id="post_').reference(k.get("_id"),k,"h").write('" class="comment-one ').section(k.get("isFirst"),k,{"else":b,block:c},null).write(" ").section(k.get("isEven"),k,{"else":d,block:e},null).write('"data-id="').reference(k.get("_id"),k,"h").write('" data-ref-id="').reference(k.get("ref_to_post_id"),k,"h").write('" data-num-given-mandates="').reference(k.get("mandates_curr_user_gave_creator"),k,"h").write('"data-creator_name="').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('"data-creator_id="').reference(k.getPath(!1,["creator_id","id"]),k,"h").write('"data-num_of_proxies="').reference(k.getPath(!1,["creator_id","num_of_proxies_i_represent"]),k,"h").write('"><div class="user-right user-right-small side_menu"><span class="arrow"></span><div class="left"><a id="add_or_remove_proxy" href="javascript:void(0);" disabled="disabled">תן מנדט</a><a href="javascript:void(0);" class="follow_user gray_and_soon">עקוב</a><a href="javascript:void(0);"  class="gray_and_soon">שלח הודעה</a></div><div class="right"><a href="/myuru/').reference(k.getPath(!1,["creator_id","id"]),k,"h").write('"><div class="img-box transparent-img"><div style="width:60px; height:64px;" class="auto-scale"><img data-bablic-exclude alt="').reference(k.get("title"),k,"h").write('" title="').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('"src="').exists(k.get("creator_id"),k,{"else":f,block:g},null).write('"></div><span></span></div></a><h4 data-bablic-exclude>  ').reference(k.getPath(!1,["creator_id","first_name"]),k,"h").write(" ").reference(k.getPath(!1,["creator_id","last_name"]),k,"h").write('</h4><div class="proxy"><span>').reference(k.getPath(!1,["creator_id","num_of_proxies_i_represent"]),k,"h").write('</span></div><div class="respect"><span>').reference(k.getPath(!1,["creator_id","score"]),k,"h").write('</span></div></div></div><div class="text"><a style="text-decoration: none" href="/discussions/').reference(k.get("discussion_id"),k,"h").write("#post_").reference(k.get("_id"),k,"h").write('" class="date">').reference(k.getPath(!1,["creator_id","username"]),k,"h").write(" ").exists(k.get("creation_date"),k,{block:h},null).write('</a><div class="post_text">                 ').reference(k.get("text"),k,"h",["s","post"]).write('           </div></div><div class="btn-box"><a class="quote_button" href="javascript:void(0);">צטט</a><a class="share" data-img_src="').reference(k.get("image_field_preview"),k,"h").write('" data-text_preview="').reference(k.get("text"),k,"h",["comment"]).write('" data-title="תגובה מתוך דיון על החזון ').reference(k.get("title"),k,"h").write('" rel="/discussions/').reference(k.get("discussion_id"),k,"h").write("#post_").reference(k.get("_id"),k,"h").write('"data-text_preview="').reference(k.get("text"),k,"h",["comment"]).write('"  href="/facebookShare?link=/discussions/').reference(k.get("discussion_id"),k,"h").write("#post_").reference(k.get("_id"),k,"h").write('" target="_blank">שתף</a><div class="like-btn fb-like"data-href="http://www.uru.org.il/discussions/').reference(k.get("discussion_id"),k,"h").write("/posts/").reference(k.get("_id"),k,"h").write('"data-send="false" data-layout="button_count" data-width="450" data-show-faces="false"></div></div><div class="ratio"><div class="ratio-spacer"></div><div class="ratio-content"><a href="javascript:void(0);" class="up vote_for ').exists(k.get("voter_balance"),k,{block:i},null).write('"></a><div class="count">').reference(k.get("voting"),k,"h",["round"]).write('</div><a href="javascript:void(0);" class="down vote_against ').exists(k.get("voter_balance"),k,{block:j},null).write('"></a></div></div></div>')}function b(a){return a}function c(a){return a.write(" noBorder")}function d(a){return a}function e(a){return a.write(" comment-one-even")}function f(a){return a.write("/images/default_user_img.gif")}function g(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function h(a,b){return a.reference(b.get("creation_date"),b,"h",["time"])}function i(a,b){return a.write("balance").reference(b.get("voter_balance"),b,"h")}function j(a,b){return a.write("balance").reference(b.get("voter_balance"),b,"h")}return dust.register("discussion_comment_old",a),a}(),function(){function a(a,c){return a.write('<li item-id="').reference(c.get("_id"),c,"h").write('"><a href="/information_items/').reference(c.get("_id"),c,"h").write('" target="_blank">').exists(c.getPath(!1,["image_field_preview","url"]),c,{block:b},null).write("<h2>").reference(c.get("title"),c,"h").write("</h2><p> ").reference(c.get("text_field_preview"),c,"h",["s"]).write("</p></a></li>")}function b(a,b){return a.write('<div ><img src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="').reference(b.get("title"),b,"h").write('" title="').reference(b.get("title"),b,"h").write('"></div>')}return dust.register("discussion_information_item",a),a}(),function(){function a(a,e){return a.write('<div class="one"><a href="/information_items/').reference(e.get("_id"),e,"h").write('">').exists(e.getPath(!1,["image_field_preview","url"]),e,{block:b},null).write("</a>").exists(e.get("title"),e,{block:c},null).write('<div item_id="').reference(e.get("_id"),e,"h").write('" class="item_text_preview">').exists(e.get("text_field_preview"),e,{block:d},null).write("</div></div>")}function b(a,b){return a.write('<div style="width:238px; height:155px;" class="auto-scale"><img src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="').reference(b.get("title"),b,"h").write('" title="').reference(b.get("title"),b,"h").write('"/></div>')}function c(a,b){return a.write("<h4>").reference(b.get("title"),b,"h").write("</h4>")}function d(a,b){return a.reference(b.get("text_field_preview"),b,"h",["s"])}return dust.register("discussion_information_item_old",a),a}(),function(){function a(a,d){return a.write('<div class="one-box cf" data-id="').reference(d.get("_id"),d,"h").write('"><div class="right"><a href="/discussions/').reference(d.get("_id"),d,"h").write('"><div style="width:141px; height:79px; float:right;" class="auto-scale floatRight"><img src="').reference(d.getPath(!1,["image_field_preview","url"]),d,"h").write('" alt="').reference(d.get("tooltip_or_title"),d,"h").write('" title="').reference(d.get("tooltip_or_title"),d,"h").write('" /></div></a><div class="text"><h4><a href="/discussions/').reference(d.get("_id"),d,"h").write('"> ').reference(d.get("title"),d,"h").write(" </a></h4><p>").reference(d.get("text_field_preview"),d,"h",["s"]).write('</p></div><div class="bottom cf"><div class="ratio">דירוג נוכחי:  <span> ').reference(d.get("grade"),d,"h",["grade"]).write('</span></div><div class="info"><div class="first"><strong>תאריך פתיחה:</strong> ').reference(d.get("creation_date"),d,"h",["time"]).write("</div><div><strong>מספר משתתפים:</strong> ").reference(d.get("participants_count"),d,"h").write('</div></div></div></div><div class="left">').exists(d.get("is_follower"),d,{"else":b,block:c},null).write('<a class="share" data-img_src="').reference(d.getPath(!1,["image_field_preview","url"]),d,"h").write('" data-text_preview="').reference(d.get("text_field_preview"),d,"h").write('" data-title="דיון בחזון ').reference(d.get("title"),d,"h").write('" rel="/discussions/').reference(d.get("_id"),d,"h").write('" href="/facebookShare?link=/discussions/').reference(d.get("_id"),d,"h").write('"><span>שתף</span></a></div></div>')}function b(a){return a.write('<a class="join_button" data-action="follower" href="#">הצטרף</a>')}function c(a){return a.write('<a class="join_button"  data-action="leave"  href="#">עזוב</a>')}return dust.register("discussion_list_item",a),a}(),function(){function a(a,d){return a.write('<div class="item" data-source="').reference(d.get("link"),d,"h").write('"><div class="title">').exists(d.get("source_image"),d,{block:b},null).write('<span class="date">	').reference(d.get("date"),d,"h",["date"]).write('</span><span class="text">').reference(d.get("title"),d,"h").write("</span></div>").exists(d.get("image_field"),d,{block:c},null).write('<div class="text">').reference(d.get("abstract"),d,"h").write(" </div></div>")}function b(a,b){return a.write('<img class="logo" src="/images/media/').reference(b.get("source_image"),b,"h").write('" />')}function c(a,b){return a.write('<div id="discussion_image" style="width: 190px;height: 131px; overflow:hidden;" class=\' photo auto-scale  img_holder\'><img src="').reference(b.getPath(!1,["image_field","url"]),b,"h").write('" /></div>')}return dust.register("discussion_press_item",a),a}(),function(){function a(a,f){return a.write('<div class="').reference(f.get("type"),f,"h").write('  special_comment"><h2 class="title">').reference(f.get("title"),f,"h").write('</h2><div class="comment_wrapper" data-id="').reference(f.get("_id"),f,"h").write('"><div class="comment_details person" data-id="').reference(f.getPath(!1,["creator_id","id"]),f,"h").write('" data-name="').reference(f.getPath(!1,["creator_id","first_name"]),f,"h").write(" ").reference(f.getPath(!1,["creator_id","last_name"]),f,"h").write('"><a href="/myuru/').reference(f.getPath(!1,["creator_id","id"]),f,"h").write('"><div class="img-box" style="overflow: hidden;"><div class="photo auto-scale" style="height:64px"><img src="').exists(f.get("creator_id"),f,{"else":b,block:c},null).write('" /></div><span></span></div></a><div class="name">').reference(f.getPath(!1,["creator_id","first_name"]),f,"h").write(" ").reference(f.getPath(!1,["creator_id","last_name"]),f,"h").write('</div><div class="actions_box_container"><div class="actions_box"><div id="add_or_remove_proxy" class="action">תן מנדט</div><div class="action gray_and_soon">שלח הודעה</div><div class="action gray_and_soon">עקוב</div></div> </div><div class="date_time"><span class="time">').reference(f.getPath(!1,["creator_id","username"]),f,"h").write(" ").exists(f.get("creation_date"),f,{block:d},null).write('</span><span class="date">').exists(f.get("creation_date"),f,{block:e},null).write('</span></div><div class="ratings"><span class="friends">').reference(f.getPath(!1,["creator_id","num_of_proxies_i_represent"]),f,"h").write('</span><span class="awards">').reference(f.getPath(!1,["creator_id","score"]),f,"h").write('</span></div></div><div class="content"><div class="rating"><span>דירוג:</span><span class="good">').reference(f.get("votes_for"),f,"h",["round"]).write('</span><span class="bad">').reference(f.get("votes_against"),f,"h",["round"]).write("</span></div>").reference(f.get("text"),f,"h",["s","new_post"]).write("</div></div></div>")}function b(a){return a.write("/images/default_user_img.gif")}function c(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function d(a,b){return a.reference(b.get("creation_date"),b,"h",["time_only"])}function e(a,b){return a.reference(b.get("creation_date"),b,"h",["date"])}return dust.register("discussion_special_comment",a),a}(),function(){function a(a,j){return a.write('<div class="suggestion_wrapper ').exists(j.get("is_editable"),j,{"else":b,block:c},null).write('" data-id="').reference(j.get("id"),j,"h").write('"data-creator_name="').reference(j.getPath(!1,["creator_id","first_name"]),j,"h").write(" ").reference(j.getPath(!1,["creator_id","last_name"]),j,"h").write('"data-creator_id="').reference(j.getPath(!1,["creator_id","id"]),j,"h").write('" id="post_').reference(j.get("id"),j,"h").write('"data-my_grade="').reference(j.get("my_grade_val"),j,"h").write('" data-my_grade_id="').reference(j.get("my_grade_id"),j,"h").write('"><div class="suggestion_holder window">').exists(j.get("is_my_suggestion"),j,{block:d},null).write('<div class="suggestion_details person" data-id="').reference(j.getPath(!1,["creator_id","id"]),j,"h").write('" data-name="').reference(j.getPath(!1,["creator_id","first_name"]),j,"h").write(" ").reference(j.getPath(!1,["creator_id","last_name"]),j,"h").write('"><a href="/myuru/').reference(j.getPath(!1,["creator_id","id"]),j,"h").write('"><div class="img-box" style="overflow: hidden;"><div class="photo auto-scale" style="height:64px"><img src="').exists(j.get("creator_id"),j,{"else":e,block:f},null).write('" /></div><span></span></div></a><div class="name">').reference(j.getPath(!1,["creator_id","first_name"]),j,"h").write(" ").reference(j.getPath(!1,["creator_id","last_name"]),j,"h").write('</div><div class="actions_box_container"><div class="actions_box"><div id="add_or_remove_proxy" class="action">תן מנדט</div><div class="action gray_and_soon">שלח הודעה</div><div class="action gray_and_soon">עקוב</div></div> </div><div class="date_time"><a class="underline_and_cursor_when_hover" href="/discussions/').reference(j.get("discussion_id"),j,"h").write("#post_").reference(j.get("id"),j,"h").write('" title="לינק ישיר להצעה"><span class="time">').exists(j.get("creation_date"),j,{block:g},null).write('</span></a></div><div class="ratings"><span class="awards">').reference(j.getPath(!1,["creator_id","score"]),j,"h").write('</span>&nbsp;<span class="friends">').reference(j.getPath(!1,["creator_id","num_of_proxies_i_represent"]),j,"h").write('</span></div></div><div class="button_edit_comment"><input type="button" /></div><div class="suggestion_content">').exists(j.get("original_part"),j,{block:h},null).write('<div class="text change_proposal"><h3 class="title">הצעה לשינוי:</h3><span class="alternative_part">').reference(j.get("alternative_part"),j,"h").write('</span><h3 class="title">נימוק:</h3><span class="explanation">').reference(j.get("explanation"),j,"h").write('</span><div class="edit_window"><p class="title">טקסט החזון הנוכחי בשילוב ההצעה לשינוי מודגשת. לחץ כדי לחזור לחזון</p><!--  <div class="text_top"></div>--><p>').reference(j.get("context_before"),j,"h").write('<span class="focus">').reference(j.get("alternative_part"),j,"h").write("</span>").reference(j.get("context_after"),j,"h").write('</p><!--<div class="text_bottom"></div>--></div></div></div><div class="suggestion_bottom"><div class="suggestion_bottom_segment one">').notexists(j.get("is_my_suggestion"),j,{block:i},null).write('<div class="button" style= "width: 80px; height: 20px; left: 0; top: 19px; overflow: hidden;position: absolute; direction: ltr;"><div class="fb-like" data-href="http://www.uru.org.il/discussions').reference(j.get("discussion_id"),j,"h").write("/posts/").reference(j.get("id"),j,"h").write('"data-send="false" data-layout="button_count" data-width="450" data-show-faces="false"></div></div><a class="share" ata-img_src="').reference(j.get("image_field_preview"),j,"h").write('" data-text_preview="').reference(j.get("text"),j,"h",["comment"]).write('" data-title="הצעה לשינוי מתוך דיון על החזון ').reference(j.get("title"),j,"h").write('" rel="/discussions/').reference(j.get("discussion_id"),j,"h").write("#post_").reference(j.get("id"),j,"h").write('"data-text_preview="').reference(j.get("text"),j,"h",["comment"]).write('" href="/facebookShare?link=/discussions/').reference(j.get("discussion_id"),j,"h").write("#post").reference(j.get("id"),j,"h").write('"  target="_blank"></a></div><div class="suggestion_bottom_segment two"><div class="supporters_wanted">מספר תומכים דרוש <span>').reference(j.get("wanted_amount_of_tokens"),j,"h").write('</span></div><div class="supporters_current">מספר תומכים נוכחי <span>').reference(j.get("curr_amount_of_tokens"),j,"h",["round"]).write('</span></div></div><div class="suggestion_bottom_segment three"><div class="comments_counter"><a  href="javascript: void(0)" ><span>0</span> תגובות להצעה</a><div class="close">סגור</div></div></div></div></div><div class="suggestion_comments_holder"><div class="add_comment" data-can-add="true"><textarea type="text" placeholder="כתוב תגובה..." /></div></div><div class="arrow_box_container"><div class="arrow_box"><div  class="arrow_box_content"><div class="slider_title">אם ההצעה תתקבל,<br>מה הציון החדש שמגיע למסמך החזון בעיניך?</div><div class="slide-box"><div class="slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"><div class="ui-slider-range ui-widget-header ui-slider-range-min" style="width: 0%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="#" style="left: 0%;"></a></div><div class="slider-numbers"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span></div></div></div></div></div></div>')}function b(a){return a.write("show_context")}function c(a){return a.write("edit_suggestion")}function d(a){return a.write('<div class="close"></div>')}function e(a){return a.write("/images/default_user_img.gif")}function f(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function g(a,b){return a.reference(b.get("creation_date"),b,"h",["time"])}function h(a,b){return a.write('<div class="text_orig"><h3 class="title">טקסט מקורי:</h3><span class="original_part">').reference(b.get("original_part"),b,"h").write("</span></div>")}function i(a,b){return a.write('<div class="button button_pro"><input class="grading_button  ').exists(b.get("grade_obj"),b,{block:j},null).write('" type="button" /></div><div class="button button_against"><input class="grading_button  ').exists(b.get("grade_obj"),b,{block:l},null).write('" type="button" /></div>')}function j(a,b){return a.write(" ").exists(b.getPath(!1,["grade_obj","does_support_the_suggestion"]),b,{block:k},null).write(" ")}function k(a){return a.write(" active ")}function l(a,b){return a.write(" ").notexists(b.getPath(!1,["grade_obj","does_support_the_suggestion"]),b,{block:m},null).write(" ")}function m(a){return a.write(" active ")}return dust.register("discussion_suggestion",a),a}(),function(){function a(a,f){return a.write('<div id="post_').reference(f.get("id"),f,"h").write('" class="one discussion-item"data-id="').reference(f.get("id"),f,"h").write('"data-creator_name="').reference(f.getPath(!1,["creator_id","first_name"]),f,"h").write(" ").reference(f.getPath(!1,["creator_id","last_name"]),f,"h").write('"data-creator_id="').reference(f.getPath(!1,["creator_id","id"]),f,"h").write('"><div class="top-box"><div class="user-right side_menu"><span class="arrow"></span><div class="left"><!--id="add_or_remove_proxy"--><a id="add_or_remove_proxy" href="javascript:void(0);" disabled="disabled">תן מנדט</a><a href="javascript:void(0);" class="follow_user gray_and_soon">עקוב</a><a class="gray_and_soon" href="javascript:void(0);" >שלח הודעה</a></div><div class="right"><a href="/myuru/').reference(f.getPath(!1,["creator_id","id"]),f,"h").write('"><div class="img-box transparent-img" ><div  style="width:60px; height:64px;" class="auto-scale" ><img data-bablic-exclude alt="').reference(f.get("title"),f,"h").write('" title="').reference(f.getPath(!1,["creator_id","first_name"]),f,"h").write(" ").reference(f.getPath(!1,["creator_id","last_name"]),f,"h").write('"  src="').exists(f.get("creator_id"),f,{"else":b,block:c},null).write('"/></div><span></span></div></a><h4 data-bablic-exclude>  ').reference(f.getPath(!1,["creator_id","first_name"]),f,"h").write(" ").reference(f.getPath(!1,["creator_id","last_name"]),f,"h").write('</h4><div class="date">').reference(f.getPath(!1,["creator_id","username"]),f,"h").write(" ").exists(f.get("creation_date"),f,{block:d},null).write('</div><div class="proxy"><span class="num">').reference(f.getPath(!1,["creator_id","num_of_proxies_i_represent"]),f,"h").write('</span></div><div class="respect"><span class="score">').reference(f.getPath(!1,["creator_id","score"]),f,"h").write('</span></div></div></div><div class="text-left"><h4>טקסט מקורי:&nbsp;').reference(f.get("original_part"),f,"h").write('</h4><p class="change_text">הצעה לשינוי:&nbsp;').reference(f.get("alternative_part"),f,"h").write('</p><p class="explanation">נימוק:&nbsp;').reference(f.get("explanation"),f,"h").write('</p></div><a class="grey-btn" href="javascript:void(0);" >הגב</a></div><div class="bottom-box cf"><div class="agree_disagree status ').exists(f.get("grade_obj"),f,{block:e},null).write('"><div class="yes"><div class="green"  >מסכים</div><div class="number" id="agrees_').reference(f.get("id"),f,"h").write('"> ').reference(f.get("agrees"),f,"h",["round"]).write('</div></div><div class="no"><div class="red">לא מסכים</div><div class="number" id="not_agrees_').reference(f.get("id"),f,"h").write('">').reference(f.get("not_agrees"),f,"h",["round"]).write('</div></div></div><div class="status"><div class="yes"><div class="white">מספר תומכים נוכחי</div><div class="number" dir="ltr" id="curr_amount_of_tokens_').reference(f.get("id"),f,"h").write('">').reference(f.get("curr_amount_of_tokens"),f,"h",["round"]).write('</div></div><div class="no"><div class="white">מספר תומכים דרוש</div><div class="number" id="wanted_amount_of_tokens_').reference(f.get("id"),f,"h").write('">').reference(f.get("wanted_amount_of_tokens"),f,"h").write('</div></div></div><div class="slide-box"><div class="summary"><input type="text" value="').reference(f.get("grade"),f,"h",["grade"]).write('" id="suggest_grade_').reference(f.get("id"),f,"h").write('"><span><div class="inlinediv" id="suggest_graders_').reference(f.get("id"),f,"h").write('">').reference(f.get("manual_counter"),f,"h").write('</div> מדרגים</span></div><div class="suggest_slider suggest_slider_').reference(f.get("id"),f,"h").write('"></div><div class="slider-numbers"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span></div></div></div></div>')}function b(a){return a.write("/images/default_user_img.gif")}function c(a,b){return a.reference(b.getPath(!1,["creator_id","avatar_url"]),b,"h")}function d(a,b){return a.reference(b.get("creation_date"),b,"h",["time"])}function e(a,b){return a.exists(b.getPath(!1,["grade_obj","does_support_the_suggestion"]),b,{"else":f,block:g},null)}function f(a){return a.write("disagree")}function g(a){return a.write("agree")}return dust.register("discussion_suggestion_old",a),a}(),function(){function a(a){return a.write('<div class="popup login-popup" style="background-color:#FFF;padding:20px;width:390px;" ><form id="login_pop_form" action="javascript:void(0)" method="POST"><h2 id="login_title">עכשיו תוכלו לעבור לתוצאות</h2><div style="font-size: 18px;">ציטוטים והבטחות אינם מבטאים את מלוא העשייה של המועמדים. כדי שתוכלו להשלים את התמונה, מתחת לתיבת התוצאות תמצאו הפניות למידע ולמגוון כלי מחקר שיאפשרו לכם לדעת איזו מפלגה הכי קרובה לדעותיכם.<a href="/elections_game/results"  style="float:left;padding: 15px 0;">לעמוד התוצאות >></a></div><hr style="clear:both"><div style="clear:both;font-size: 13px; padding-top:15px">סגרו חלון זה כדי לדרג עוד ציטוטים ולקבל תוצאות טובות יותר. בכל רגע תוכלו לעבור לעמוד התוצאות על ידי לחיצה על כפתור "מעבר לתוצאות"</div></form></div>')}return dust.register("elections_game_25",a),a}(),function(){function a(a,b){return a.write('<div class="status ').reference(b.get("odd"),b,"h").write('"><span title="').reference(b.get("tooltip"),b,"h").write('" class="').reference(b.get("vote"),b,"h").write('"></span><a target="_blank" href="').reference(b.get("source_link"),b,"h").write('">').reference(b.get("quote"),b,"h").write("</a></div>")}return dust.register("elections_game_additiona_quote",a),a}(),function(){function a(a){return a.write('<div class="popup login-popup" style="" ><div class="alert">     <p>שם המשתמש שהוזן שגוי. אנא נסו שוב</p>   </div><div><form id="login_pop_form" action="javascript:void(0)" method="POST"><h2 id="login_title">פוליטיקלי קורקט</h2><div style="font-size: 18px;">אנחנו בעורו לא מסתפקים בהצהרות של פוליטיקאים, ובכוונתנו להמשיך לעקוב אחר פעילות הח"כים ולדרוש מהם שיעמדו מאחורי מילתם. כדי שיהיה לנו גיבוי ציבורי הנדרש לעשייה זו, אתם מוזמנים להצטרף אלינו. תמיכתכם חיונית!</div><a class="register_btn"/><a id="fb_ajax_conncect" style="margin: 10px" class="facebook" href="javascript:void(0)"></a><hr><h2 id="login_title">כבר נרשמתם?</h2><div class="box"><input name="email" type="text" placeholder=\'דוא"ל\'/><input name="password" type="password" placeholder="סיסמא" /></div><div class="box left"><input id="login_ajax" type="submit" value="" /><a class="forgot_password" href="/account/forgot_password">שכחת סיסמא?</a></div></form></div><div class="noalert" style="width: 490px;"></div>')}return dust.register("elections_game_disclaimer",a),a}(),function(){function a(a,b){return a.write('<div class="col_right" style="margin-left:').reference(b.get("margin"),b,"h").write('px;"><div class="name"><h2>').reference(b.get("name"),b,"h",["s"]).write('</h2><div class="bar_').reference(b.get("top_bar_color"),b,"h").write('"><div class="bar_title">הסכמה</div><div class="bar"><div class="bar_inner" style="width:').reference(b.get("agreePercent"),b,"h").write('%"></div></div><div class="bar_percentage">').reference(b.get("agreePercent"),b,"h").write('%</div></div><div class="bar_').reference(b.get("bottom_bar_color"),b,"h").write('"><div class="bar_title">אמון</div><div class="bar"><div class="bar_inner" style="width:').reference(b.get("beleavePercent"),b,"h").write('%"></div></div><div class="bar_percentage">').reference(b.get("beleavePercent"),b,"h").write("%</div></div></div></div>")}return dust.register("elections_game_sandtalk",a),a}(),function(){function a(a,b){return a.write('<div class="popup login-popup" style="" ><div class="alert">     <p>שם המשתמש שהוזן שגוי. אנא נסו שוב</p>   </div><div><h2 id="login_title">שיתוף תוצאות בפייסבוק</h2><div  style="width: 420px;height:220px;display: block">  <img    src="').reference(b.get("image"),b,"h").write('" style="width: 100%"></div><textarea id="fb_share_body" style="height:80px; width:415px" cols="">').reference(b.get("body"),b,"h").write('</textarea><a      id="share_bt"style="background: #2FD43B url(../images/green-btn-border.png) 0 0 repeat-x;border-color: #2EAB35;display: block;float: left;border-radius: 2px;-moz-border-radius: 2px;-webkit-border-radius: 2px;width: 110px;height: 29px;color: white;font: normal 18px/33px \'AdumaFOTRegular\';padding: 0;text-align: center;text-decoration: none;cursor: pointer;"  href="javascript:void(0);"><span style="padding-right: 25px;padding-right: 16px;margin-right: -16px;background: url(../images/prev-arrow.png) 90% 40% no-repeat;">שתף</span></a></div><div class="noalert" style="width: 490px;"></div>')}return dust.register("elections_game_share",a),a}(),function(){function a(a,b){return a.write('<div class="header"><div class="item logo"><img src="../images/logo_sample.png" /></div><div class="item title">המדד החברתי</div><div class="item match">התאמה: <span>').reference(b.get("score"),b,"h").write('%</span></div><div class="item link"><a target="_blank" href="').reference(b.get("link"),b,"h").write('">לאתר כנסת פתוחה</a></div></div>')}return dust.register("elections_game_social_index",a),a}(),function(){function a(a,b){return a.write('<div class="img-box"><div style="width:292px; height:164px;" class=\'auto-scale\'><img src="').reference(b.getPath(!1,["img_field","url"]),b,"h").write('" alt="').reference(b.get("img_text"),b,"h").write('" /></div><p>').reference(b.get("img_text"),b,"h").write('</p></div><div class="text"><h3>').reference(b.get("text_field"),b,"h").write("</h3></div>")}return dust.register("elections_item",a),a}(),function(){function a(a,b){return a.write('<div class="about-one"><h4>').reference(b.get("title"),b,"h").write("</h4><p>").reference(b.get("text_field"),b,"h",["s"]).write("</p></div>")}return dust.register("elections_text",a),a}(),function(){function a(a){return a.write('<div class="popup login-popup" style="" ><div><form id="login_pop_form" action="javascript:void(0)" method="POST"><h2 id="login_title">נא להקיש סיסמאת משתמש בעורו</h2><div class="box"><input name="password" type="password" placeholder="סיסמא" /></div><div class="box left"><input id="login_ajax" type="submit" value="" /></div></form></div></div>')}return dust.register("enter_password",a),a}(),function(){function a(a){return a.write('<!DOCTYPE html><html><head><% include partials/head.ejs %></head><body><% include partials/body_top.ejs %><div id="wrap"><div id="header"><% include partials/menu.ejs %><% include partials/user_box.ejs %><% include partials/failures.ejs %><% include partials/tag_search.ejs %></div><div><h2>אירעה תקלה. אנא נסו שוב מאוחר יותר.</h2><div><img src="/images/app_error.jpg"/></div></div></div><% include partials/footer.ejs %></body></html>')}return dust.register("error.ejs",a),a}(),function(){function a(a,b){return a.write('<div class="popup popup-small" id="explanation_popup"><div class="middle-popup"><label>כדי לבצע פעולה זו נדרשים ').reference(b.get("tokens_needed"),b,"h",["s"]).write(" אסימונים. ברשותך ").reference(b.get("tokens_owned"),b,"h",["s"]).write(' אסימונים.</label></div><div class="popup-bottom"><a class="dark-grey-btn ok-button" href="">').reference(b.get("okButtonText"),b,"h").write('</a><a class="dark-grey-btn cancel-button" href="">').reference(b.get("cancelButtonText"),b,"h").write('</a><div class="info-link"><a target="_blank" href="/page/tokens_guide">מה זה \'אסימונים\', למה זה טוב ואיך משיגים כאלה?</a></div></div></div>')}return dust.register("explanation_popup",a),a}(),function(){function a(a,b){return a.write('<div class="img">  <img src="').reference(b.get("url"),b,"h").write('" ></div>')}return dust.register("face_admin",a),a}(),function(){function a(a,e){return a.write('<h4>תגיות חמות</h4><div class="tags">').section(e.get("objects"),e,{block:b},null).write('<div class="more hide"><span></span><ul>').helper("if",e,{block:c},{cond:d}).write('<li><a href="">הוסף תגית</a></li></ul></div></div>')}function b(a,b){return a.write('<a href="/information_items?tag_name=').reference(b.getPath(!0,["tag"]),b,"h",["u"]).write('" >').reference(b.getPath(!0,["tag"]),b,"h").write("</a>\n")}function c(a){return a.write('<li><a href="">הצג עוד תגיות</a></li>')}function d(a,b){return a.write("(").reference(b.getPath(!1,["meta","total_count"]),b,"h").write(" > ").reference(b.getPath(!1,["meta","limit"]),b,"h").write(" )")}return dust.register("footer_tags",a),a}(),function(){function a(a,b){return a.write('<div class="popup  give-mandats-popup"><div class="middle-popup"><div><label>').reference(b.get("message"),b,"h").write('</label></div><div class="radio-div">0<input type="radio" name="group" value="0" ><br>1<input type="radio" name="group" value="1"><br>2<input type="radio" name="group"  value="2"><br>3<input type="radio" name="group"  value="3"><br></div></div><div class="popup-bottom"><a class="dark-grey-btn cancel-button" href="">בטל</a><a class="dark-grey-btn ok-button" href="">אשר</a></div></div>')}return dust.register("give_mandat_popup",a),a}(),function(){function a(a,e){return a.write('<h4 class="title">').reference(e.get("title"),e,"h").write("</h4>").exists(e.get("link"),e,{block:b},null).write('<div style="width:291px; height:167px;" class="auto-scale"><img src="').reference(e.getPath(!1,["image_field","url"]),e,"h").write('" alt="').reference(e.getPath(!0,["title"]),e,"h").write('"  title="').reference(e.get("tooltip_or_title"),e,"h").write('" /></div>').exists(e.get("link"),e,{block:c},null).write('<h4><a href="">').reference(e.get("text_field"),e,"h",["s"]).write('</a></h4><div class="tags">').section(e.get("tags"),e,{block:d},null).write('<div class="more hide"><span></span><ul>').helper("if",e,{block:h},{cond:i}).write('<li><a href="">הוסף תגית</a></li></ul></div></div>')
}function b(a,b){return a.write('<a href="').reference(b.get("link"),b,"h").write('">')}function c(a){return a.write("</a>")}function d(a,b){return a.write('<a href="/information_items?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:e},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function e(a,b){return a.helper("if",b,{block:f},{cond:g})}function f(a){return a.write('style="display:none;"')}function g(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 3 )")}function h(a){return a.write('<li><a href="">הצג עוד תגיות</a></li>')}function i(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 4 )")}return dust.register("headline",a),a}(),function(){function a(a,c){return a.write('<div class="one"><a href="/information_items/').reference(c.get("_id"),c,"h").write('"><div class="auto-scale" style="width:292px; height:164px;"><img src="').reference(c.getPath(!1,["image_field_preview","url"]),c,"h").write('" alt="').reference(c.get("title"),c,"h").write('"  title="').reference(c.get("tooltip_or_title"),c,"h").write('" /></div></a><h4><a href="/information_items/').reference(c.get("_id"),c,"h").write('">').reference(c.get("title"),c,"h").write('</a></h4><div class="item_text_preview">').reference(c.get("text_field_preview"),c,"h",["s"]).write('</div><div class="tags"><div class="info"><!--<span class="talks">33</span>--><span class="watched">').reference(c.get("view_counter"),c,"h").write("</span></div>").section(c.get("tags"),c,{block:b},null).write('<!-- <div class="more"><span></span><ul>').helper("if",c,{block:f},{cond:g}).write('<li><a href="javascript:void(0)">הוסף תגית</a></li></ul></div> --></div></div>')}function b(a,b){return a.write('<a href="/information_items/?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:c},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function c(a,b){return a.helper("if",b,{block:d},{cond:e})}function d(a){return a.write('style="display:none;"')}function e(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 2 )")}function f(a){return a.write('<li><a href="javascript:void(0)">הצג עוד תגיות</a></li>')}function g(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 3 )")}return dust.register("hot_information_item",a),a}(),function(){function a(a,e){return a.write('<div class="one"><a href="/').reference(e.get("type"),e,"h").write("s/").reference(e.get("_id"),e,"h").write('"><div style="width:292px; height:164px;" class="auto-scale"><img src="').reference(e.getPath(!1,["image_field_preview","url"]),e,"h").write('" alt="title"  title="').reference(e.get("tooltip_or_title"),e,"h").write('" /></div></a><h4><a href="/').reference(e.get("type"),e,"h").write("s/").reference(e.get("_id"),e,"h").write('">').reference(e.get("title"),e,"h").write('</a></h4><div class="item_text_preview">').reference(e.get("text_field_preview"),e,"h",["s"]).write('</div><div class="tags"><div class="info">').exists(e.get("is_info_item"),e,{"else":b,block:c},null).write('<span class="watched">').reference(e.get("view_counter"),e,"h").write("</span></div>").section(e.get("tags"),e,{block:d},null).write('<div class="more"><!--<span></span>--><!--<ul>--><!--').helper("if",e,{block:h},{cond:i}).write('--><!--<li><a href="">הוסף תגית</a></li>--><!--</ul>--></div></div></div>')}function b(a,b){return a.write('<span class="talks">').reference(b.get("post_count"),b,"h").write("</span>")}function c(a){return a}function d(a,b){return a.write('<a href="/').reference(b.get("type"),b,"h").write("s/?tag_name=").reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:e},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function e(a,b){return a.helper("if",b,{block:f},{cond:g})}function f(a){return a.write('style="display:none;"')}function g(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 2 )")}function h(a){return a.write('--><!--<li><a href="">הצג עוד תגיות</a></li>--><!--')}function i(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 3 )")}return dust.register("hot_object",a),a}(),function(){function a(a,c){return a.write(' <div class="one cf" item_id="').reference(c.get("_id"),c,"h").write('"><div class="main-text-top cf"><div class="right">').exists(c.get("image_field_preview"),c,{"else":b,block:e},null).write('</div><div class="left"><a href="javascript:void(0);" id="add_button_').reference(c.get("_id"),c,"h").write('" add_item_id="').reference(c.get("_id"),c,"h").write('" class="grey-btn-info add_button"><span>הוסף לסל המידע</span></a><a class="share grey-btn-info" data-title="').reference(c.get("title"),c,"h").write('" data-text_preview="').reference(c.get("text_field_preview"),c,"h").write('" data-img_src="').reference(c.getPath(!1,["image_field_preview","url"]),c,"h").write('" rel="/information_items/').reference(c.get("_id"),c,"h").write('" href="/facebookShare?link=/information_items/').reference(c.get("_id"),c,"h").write('" >שתף</a><a href="javascript:void(0);" class="like-icon"></a></div></div><div id="notices_').reference(c.get("_id"),c,"h").write('" > </div><div class="tags-wrap"><div class="down"><span class="arrow"></span><ul><li><a href="">קישור לפריט מידע זה</a></li><li><a href="">דווח על התנהגות לא הולמת</a></li><li><a href="">אל תציג פריט מידע זה</a></li></ul></div><div class="tags">').section(c.get("tags"),c,{block:i},null).write('<div class="more hide"><span></span><ul><span></span><ul>').helper("if",c,{block:m},{cond:n}).write('<li><a href="">הוסף תגית</a></li></ul></ul></div><div class="info"><!--<span class="talks">33</span>--><span class="watched">').reference(c.get("view_counter"),c,"h").write("</span></div></div></div></div>")}function b(a,b){return a.write('<h4><a href="/information_items/').reference(b.get("_id"),b,"h").write('">').reference(b.get("title"),b,"h").write("</a></h4>").exists(b.get("created_by"),b,{block:c},null).exists(b.get("text_field_preview"),b,{block:d},null)}function c(a,b){return a.write('<h5><div class="hide">הועלה ע”י</div>').reference(b.getPath(!1,["created_by","fist_name"]),b,"h").write(" ").reference(b.getPath(!1,["created_by","last_name"]),b,"h").write("</h5>")}function d(a,b){return a.write('<div class="text_field">').reference(b.get("text_field_preview"),b,"h",["s"]).write("</div>")}function e(a,b){return a.write('<div style="width:141px; height:79px; float: right; margin-left:15px;" class="auto-scale"><img style="margin-left:0px;" src="').exists(b.getPath(!1,["image_field_preview","url"]),b,{"else":f,block:g},null).write('" alt="').reference(b.get("title"),b,"h").write('" title="').reference(b.get("tooltip_or_title"),b,"h").write('" /></div><div class="oh"><h4><a href="/information_items/').reference(b.get("_id"),b,"h").write('">').reference(b.get("title"),b,"h").write("</a></h4>").exists(b.get("text_field_preview"),b,{block:h},null).write("</div>")}function f(a,b){return a.reference(b.get("image_field"),b,"h")}function g(a,b){return a.reference(b.getPath(!1,["image_field_preview","url"]),b,"h")}function h(a,b){return a.write('<div class="text_field">').reference(b.get("text_field_preview"),b,"h",["s"]).write('<a href="/information_items/').reference(b.get("_id"),b,"h").write('">קרא עוד..</a></div>')}function i(a,b){return a.write('<a href="/information_items/?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:j},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function j(a,b){return a.helper("if",b,{block:k},{cond:l})}function k(a){return a.write('style="display:none;"')}function l(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 2 )")}function m(a){return a.write('<li><a href="">הצג עוד תגיות</a></li>')}function n(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 3 )")}return dust.register("information_item",a),a}(),function(){function a(a,d){return a.write(' <div class="one" id="').reference(d.get("_id"),d,"h").write('"><a class="delete-app" href="" item_id="').reference(d.get("_id"),d,"h").write('" ></a>').exists(d.get("image_field_preview"),d,{block:b},null).write("<h4>").reference(d.get("title"),d,"h").write('</h4><div item_id="').reference(d.get("_id"),d,"h").write('" class="item_text_preview">').exists(d.get("text_field_preview"),d,{block:c},null).write('</div><div class="btn-box"><a  class="confirm share" data-title="').reference(d.get("title"),d,"h").write('" data-text_preview="').reference(d.get("text_field_preview"),d,"h").write('" data-img_src="').reference(d.getPath(!1,["image_field_preview","url"]),d,"h").write('" rel="/information_items/').reference(d.get("_id"),d,"h").write('" href="/facebookShare?link=/information_items/').reference(d.get("_id"),d,"h").write('">שתף</a><a item_id="').reference(d.get("_id"),d,"h").write('" class="delete" href=""><span>הסר</span></a></div></div>')}function b(a,b){return a.write('<a href="/information_items/').reference(b.get("_id"),b,"h").write('"><div style="width:292px; height:194px;" class="auto-scale"><img src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="').reference(b.get("title"),b,"h").write('"  title="').reference(b.get("tooltip_or_title"),b,"h").write('"/></div></a>')}function c(a,b){return a.write("<p>").reference(b.get("text_field_preview"),b,"h",["s"]).write("</p>")}return dust.register("information_item_box",a),a}(),function(){function a(a,b){return a.write('<div class="notice"><a class="close" href="javascript:void(0);"></a><a class="link" href="/').reference(b.get("section_url"),b,"h").write("/").reference(b.get("_id"),b,"h").write('">עבור ל').reference(b.get("section"),b,"h").write("</a>פריט מידע זה משויך ל").reference(b.get("section"),b,"h").write("&nbsp;בנושא:&nbsp;").reference(b.get("title"),b,"h").write("</div>")}return dust.register("information_item_notice",a),a}(),function(){function a(a,d){return a.write('<div class="comment ').exists(d.get("is_even"),d,{"else":b,block:c},null).write('"><div stye="width:60px; height:64px" class="author auto-scale"><img src="').reference(d.get("avatar"),d,"h").write('"><span>').reference(d.get("username"),d,"h").write('</span></div><span class="photo-pattern"></span><div class="date_time">').reference(d.get("creation_date"),d,"h",["time"]).write('</div><div class="content">').reference(d.get("text"),d,"h").write("</div></div>")}function b(a){return a.write("odd")}function c(a){return a.write("even")}return dust.register("lets_try_again",a),a}(),function(){function a(a){return a.write('<div class="one"><img class="floatRight" src="images/sample-6.jpg" alt="" /><h4>נושא קמפיין</h4><p>תחום <br /> תאריך הצטרפות</p><div class="btn-box"><a href="">הספק לעקוב</a></div></div>')}return dust.register("myuru_action_itemXXX",a),a}(),function(){function a(a,b){return a.write('<div class="user-one cf"><div class="user-right"><a href="/myuru/').reference(b.get("id"),b,"h").write('"><div class="img-box"><div class="auto-scale" style="width: 60px;height: 64px"><img  alt="" src="').reference(b.get("avatar_url"),b,"h").write('"></div><img alt="" src="/images/user-fillter-small-white.png" class="wraper"></div></a></div><div class="user-left"><p data-bablic-exclude>').reference(b.get("first_name"),b,"h").write(" ").reference(b.get("last_name"),b,"h").write('</p><div class="proxy"><span>').reference(b.get("num_of_proxies_i_represent"),b,"h").write('</span></div><div class="respect"><span>').reference(b.get("score"),b,"h").write("</span></div></div></div>")}return dust.register("myuru_follower_item",a),a}(),function(){function a(a,c){return a.write('<div class="slide-wrap"><a class="prev prev-1" href=""></a><a class="next next-1" href=""></a><div class="tab-slide tab-slide-1">').section(c.get("groups"),c,{block:b},null).write("</div></div>")}function b(a,b){return a.write('<div class="slides-one">').section(b.get("group"),b,{block:c},null).write("</div>")}function c(a,b){return a.partial("myuru_tab_item",b,null)}return dust.register("myuru_tab",a),a}(),function(){function a(a,e){return a.write('<div class="one" data-id="').reference(e.get("_id"),e,"h").write('" >').exists(e.getPath(!1,["image_field_preview","url"]),e,{block:b},null).write('<!-- <img class="floatRight" src="images/sample-6.jpg" alt="" />--><div style="height: 92px"><h4 style="overflow: hidden;height: 35px; font-size:15px;">').reference(e.get("title"),e,"h").write("</h4><!-- <p>").reference(e.get("subject_name"),e,"h").write("<br />").reference(e.get("creation_date"),e,"h",["date"]).write('</p>--><div><div style="overflow: hidden;height:20px">').reference(e.get("subject_name"),e,"h").write("</div>").reference(e.get("creation_date"),e,"h",["date"]).write('</div></div><div class="btn-box">').exists(e.get("is_follower"),e,{"else":c,block:d},null).write("</div></div>")}function b(a,b){return a.write('<a href="..//').reference(b.get("type"),b,"h").write("/").reference(b.get("_id"),b,"h").write('"><div style="width:138px; height:88px;" class="auto-scale floatRight"><img  class="floatRight"  src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="').reference(b.get("title"),b,"h").write('" title="').reference(b.get("title"),b,"h").write('"/></div></a>')}function c(a){return a.write('<a  class="join_button" data-action="follower" href="">עקוב</a>')}function d(a){return a.write('<a class="join_button" data-action="leave" href="">הפסק לעקוב</a>')}return dust.register("myuru_tab_item",a),a}(),function(){function a(a,e){return a.write('<div class="one cf"><div class="link_to_resource" data-link="').reference(e.get("main_link"),e,"h").write('"><div class="right-image"><div class="img-box"><img src="').exists(e.getPath(!1,["pic","url"]),e,{"else":b,block:c},null).write('" alt=""/><img class="shadow" src="" alt=""/></div></div><p>').exists(e.get("user"),e,{block:d},null).write('<span class="part_one">').reference(e.get("part_one"),e,"h").write(' </span><a class="inline_link" href="').reference(e.get("link_two"),e,"h").write('">').reference(e.get("part_two"),e,"h").write('</a><span class="part_three">').reference(e.get("part_three"),e,"h").write("</span>").exists(e.get("part_four"),e,{block:g},null).exists(e.get("part_five"),e,{block:h},null).write('</p><div class="date">').reference(e.get("update_date"),e,"h",["time"]).write("</div></div>").exists(e.get("extra_text"),e,{block:i},null).exists(e.get("check_going"),e,{"else":j,block:k},null).write("</a></div>")}function b(a,b){return a.reference(b.get("pic"),b,"h")}function c(a,b){return a.reference(b.getPath(!1,["pic","url"]),b,"h")}function d(a,b){return a.exists(b.get("user_link"),b,{"else":e,block:f},null)}function e(a,b){return a.write('<a class="user">').reference(b.get("user"),b,"h").write(" </a>")}function f(a,b){return a.write('<a class="inline_link" href="').reference(b.get("user_link"),b,"h").write('">').reference(b.get("user"),b,"h").write(" </a>")}function g(a,b){return a.write('<a class="inline_link" href="').reference(b.get("link_four"),b,"h").write('">').reference(b.get("part_four"),b,"h").write("</a>")}function h(a,b){return a.write('<span class="part_five">').reference(b.get("part_five"),b,"h").write(" </span>")}function i(a,b){return a.write('<p><span class="extra_text">').reference(b.get("extra_text"),b,"h").write("</span></p>")}function j(a,b){return a.write('<a class="btn share" data-img_src="').reference(b.getPath(!1,["img_src","url"]),b,"h").write('" data-text_preview="').reference(b.get("text_preview"),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" rel="').reference(b.get("main_link"),b,"h",["uc"]).write('" href="/facebookShare?link=').reference(b.get("main_link"),b,"h",["uc"]).write('">שתף</a>')}function k(a,b){return a.exists(b.get("is_going"),b,{"else":l,block:m},null)}function l(a,b){return a.write('<a class="btn join-btn" href="').reference(b.get("link"),b,"h").write('#join" item-id="').reference(b.get("_id"),b,"h").write('">הצטרף</a>')}function m(a,b){return a.write('<a class="btn share" data-img_src="').reference(b.getPath(!1,["img_src","url"]),b,"h").write('" data-text_preview="').reference(b.get("text_preview"),b,"h").write('" data-title="').reference(b.get("title"),b,"h").write('" rel="').reference(b.get("link"),b,"h",["uc"]).write('" href="/facebookShare?link=').reference(b.get("link"),b,"h",["uc"]).write('">שתף</a>')}return dust.register("notification",a),a}(),function(){function a(a,b){return a.write('<div class="popup popup-small" id="popup2"><div class="middle-popup"><label>').reference(b.get("message"),b,"h",["s"]).write('</label></div><div class="popup-bottom"><a class="dark-grey-btn ok-button" href="">').reference(b.get("okButtonText"),b,"h").write("</a></div></div>")}return dust.register("ok_popup",a),a}(),function(){function a(a,b){return a.write('<div class="popup popup-small" id="popup2"><div class="middle-popup"><label>').reference(b.get("part_one"),b,"h",["s"]).write(' <a class="popup-link" href="').reference(b.get("link"),b,"h").write('">').reference(b.get("part_two"),b,"h",["s"]).write("</a>").reference(b.get("part_three"),b,"h",["s"]).write('</label></div><div class="popup-bottom"><a class="dark-grey-btn ok-button" href="">').reference(b.get("okButtonText"),b,"h").write("</a></div></div>")}return dust.register("ok_popup_link",a),a}(),function(){function a(a){return a.write('<div class="popup login-popup"  ><div class="alert">     <p>שם המשתמש שהוזן שגוי. אנא נסו שוב</p>   </div><div><form id="login_pop_form" action="javascript:void(0)" method="POST"><h2 id="login_title">הזינו את הפרטים האישיים</h2><div class="box"><input name="email" type="text" placeholder=\'דוא"ל\'/><input name="password" type="password" placeholder="סיסמא" /></div><div class="box left"><input id="login_ajax" type="submit" value="" /><br>משתמש חדש?<br><a href="/account/register" class="register">לחץ כאן להרשמה</a></div><a class="forgot_password" href="/account/forgot_password">שכחת סיסמא?</a></form><div class="bottom"><hr><br><h2>או</h2>   <a id="fb_ajax_conncect" class="facebook" href="javascript:void(0)"></a></div></div><div class="noalert"></div>')}return dust.register("popup_login",a),a}(),function(){function a(a,b){return a.write('<div class="about-one"><h4>').reference(b.get("title"),b,"h").write("</h4><p>").reference(b.get("text_field"),b,"h",["s","qa"]).write("</p></div>")}return dust.register("qa",a),a}(),function(){function a(a,b){return a.write('<blockquote><span class="quote_start"></span>').reference(b.get("quote"),b,"h").write('<span class="quote_end"></span><span class="quote_credit"><a target="_blank" href="/elections_game/').reference(b.getPath(!1,["candidate","_id"]),b,"h").write('">').reference(b.getPath(!1,["candidate","name"]),b,"h").write('</a>,&nbsp;<span class="quote_party">').reference(b.getPath(!1,["candidate","party_name"]),b,"h").write('</span><a class="source" target="_blank" href="').reference(b.get("source_link"),b,"h").write('">(למקור הציטוט)</a></span><div id="current_quote_photo"><img src="http://cdn.uru.org.il/quote_photo.png" /></div></blockquote>')}return dust.register("quote",a),a}(),function(){function a(a,c){return a.section(c.get("items"),c,{block:b},null)}function b(a,b){return a.write('<div class="one"  item_id="').reference(b.get("_id"),b,"h").write('"><div class="top-section"><img class="floatRight" src="').reference(b.getPath(!1,["image_field_preview","url"]),b,"h").write('" alt="" /><h4>').reference(b.get("title"),b,"h").write("</h4><p>").reference(b.get("text_field_preview"),b,"h",["s"]).write('</p></div><div class="tags"><div class="info"><span class="talks">0</span><span class="watched">').reference(b.get("view_counter"),b,"h").write("</span></div>").section(b.get("tags"),b,{block:c},null).write("</div></div>")}function c(a,b){return a.write('<a href="/').reference(b.get("section"),b,"h").write("/?tag_name=").reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:d},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function d(a,b){return a.helper("if",b,{block:e},{cond:f})}function e(a){return a.write('style="display:none;"')}function f(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 1 )")}return dust.register("search_3_slides",a),a}(),function(){function a(a,b){return a.write('<a name="search"></a><div class="search-result-box"><a class="close" href="javascript:void(0);"></a><div class="tabs" id="tabs"><ul class="tabs-nav"><li><a href="#tabs-information_items">מאגר מידע(').reference(b.get("info_items_count"),b,"h").write(')</a></li><li><a href="#tabs-discussions">דיונים(').reference(b.get("discussions_count"),b,"h").write(')</a></li><li><a href="#tabs-cycles">קמפיינים(').reference(b.get("cycles_count"),b,"h").write(')</a></li><li><a href="#tabs-actions">פעולות(').reference(b.get("actions_count"),b,"h").write(')</a></li><li><a href="#tabs-articles">בלוגים(').reference(b.get("blogs_count"),b,"h").write(")</a></li></ul><!-- remove this - slides come here--></div></div>")}return dust.register("search_results",a),a}(),function(){function a(a,d){return a.write('<div id="tabs-').reference(d.get("name"),d,"h").write('"><div class="slide-wrap">').exists(d.get("scroll"),d,{block:b},null).write('<div class="tab-slide tab-slide-').reference(d.get("name"),d,"h").write('" data-bablic-index="false">').section(d.get("count"),d,{block:c},null).write("<!-- slide trios come here --></div></div></div>")}function b(a,b){return a.write('<a class="prev prev-').reference(b.get("name"),b,"h").write('" href=""></a><a class="next next-').reference(b.get("name"),b,"h").write('" href=""></a>')}function c(a){return a.write('<div class="slides-one"></div>')}return dust.register("search_section",a),a}(),function(){function a(a,b){return a.write('<div id="tabs-').reference(b.get("name"),b,"h").write('"><div class="slide-wrap">לא נמצאו תוצאות רלוונטיות בקטגוריה זאת</div></div>')}return dust.register("search_section_empty",a),a}(),function(){function a(a,b){return a.write('<li class="search_suggest_item" item_id="').reference(b.get("_id"),b,"h").write('">').reference(b.get("tag"),b,"h").write("</li>")}return dust.register("search_suggest_item",a),a}(),function(){function a(a,d){return a.write('<a class="service-').reference(d.get("word_count"),d,"h").write(' subjectItem" data-subject_id="').reference(d.get("_id"),d,"h").write('" href="/').exists(d.get("type"),d,{"else":b,block:c},null).write("/subject/").reference(d.get("_id"),d,"h").write('"><div class="text"><span>').reference(d.get("name"),d,"h").write('</span></div><span class="icon" style="background-image: url(\'').reference(d.getPath(!1,["image_field","url"]),d,"h").write("');\"></span></a>")}function b(a){return a.write("information_items")}function c(a,b){return a.reference(b.get("type"),b,"h")}return dust.register("subject",a),a}(),function(){function a(a,c){return a.write('<div class="one"><div class="img-box"><div style=\'width:125px; height:80px;\' class=\'auto-scale\'><img src="').reference(c.getPath(!1,["image_field","url"]),c,"h").write('" alt="" title="').reference(c.get("tooltip_or_title"),c,"h").write('"/></div><span class="flag"></span></div><h4><a href="">').reference(c.get("title"),c,"h").write('</a></h4><div class="item_text_preview">').reference(c.get("text_field"),c,"h",["s"]).write('</p></div><div class="tags">').section(c.get("tags"),c,{block:b},null).write('<div class="more hide"><span></span><ul>').helper("if",c,{block:f},{cond:g}).write('<li><a href="">הוסף תגית</a></li></ul></div></div></div>')}function b(a,b){return a.write('<a href="/information_items?tag_name=').reference(b.getPath(!0,[]),b,"h",["u"]).write('"').helper("idx",b,{block:c},null).write(">").reference(b.getPath(!0,[]),b,"h").write("</a>\n")}function c(a,b){return a.helper("if",b,{block:d},{cond:e})}function d(a){return a.write('style="display:none;"')}function e(a,b){return a.write("(").reference(b.getPath(!0,[]),b,"h").write(" > 3 )")}function f(a){return a.write('<li><a href="">הצג עוד תגיות</a></li>')}function g(a,b){return a.write("(0").reference(b.get("tags"),b,"h",["length"]).write(" > 4 )")}return dust.register("success_story",a),a}(),function(){function a(a,b){return a.write('<div class="one"><div style="width:286px; height:224px;" class=\'auto-scale\'><img src="').reference(b.getPath(!1,["img_field","url"]),b,"h").write('" alt="name" /></div><h4>').reference(b.get("name"),b,"h").write("</h4><h5>").reference(b.get("duty"),b,"h").write("</h5><p>").reference(b.get("text_field"),b,"h",["s"]).write("</p></div>")}return dust.register("team",a),a}(),function(){function a(a,e){return a.write('<div id="post_').reference(e.get("_id"),e,"h").write('" class="comment-one ').section(e.get("isFirst"),e,{"else":b,block:c},null).write('"data-id="').reference(e.get("_id"),e,"h").write('" data-ref-id="').reference(e.get("ref_to_post_id"),e,"h").write('" data-num-given-mandates="').reference(e.get("mandates_curr_user_gave_creator"),e,"h").write('"data-creator_name="').reference(e.getPath(!1,["creator_id","first_name"]),e,"h").write(" ").reference(e.getPath(!1,["creator_id","last_name"]),e,"h").write('"data-creator_id="').reference(e.getPath(!1,["creator_id","id"]),e,"h").write('"><div class="user-right side_menu"><span class="arrow"></span><div class="left"><!--id="add_or_remove_proxy"--><a id="add_or_remove_proxy" href="javascript:void(0);" disabled="disabled">תן מנדט</a><a href="javascript:void(0);" class="follow_user gray_and_soon">עקוב</a><a href="javascript:void(0);"  class="gray_and_soon">שלח הודעה</a></div><div class="right"><a href="/myuru/').reference(e.getPath(!1,["creator_id","id"]),e,"h").write('"><div class="img-box transparent-img"><div style="width:60px; height:64px;" class="auto-scale"><img alt="').reference(e.get("title"),e,"h").write('" title="').reference(e.getPath(!1,["creator_id","first_name"]),e,"h").write(" ").reference(e.getPath(!1,["creator_id","last_name"]),e,"h").write('"src="').reference(e.getPath(!1,["creator_id","avatar_url"]),e,"h").write('"></div><span></span></div></a><h4>').reference(e.getPath(!1,["creator_id","first_name"]),e,"h").write(" ").reference(e.getPath(!1,["creator_id","last_name"]),e,"h").write('</h4><div class="date" dir="ltr">').reference(e.getPath(!1,["creator_id","username"]),e,"h").write(" ").exists(e.get("creation_date"),e,{block:d},null).write('</div><div class="proxy"><span class="num">').reference(e.getPath(!1,["creator_id","num_of_proxies_i_represent"]),e,"h").write('</span></div><div class="respect"><span class="score">').reference(e.getPath(!1,["creator_id","score"]),e,"h").write('</span></div></div></div><div class="text"><div class="post_text"><p>').reference(e.get("text"),e,"h",["s","post"]).write('</p></div><div class="status"><div class="yes"><div class="green  vote_for">מסכים</div><div class="number">').reference(e.get("votes_for"),e,"h",["round"]).write('</div></div><div class="no"><div class="red vote_against">לא מסכים</div><div class="number">').reference(e.get("votes_against"),e,"h",["round"]).write('</div></div></div></div><div class="like-btn"><img src="/images/like-btn.png" alt=""/></div><div class="nav-btns"><a class="quote_button" href="javascript:void(0);">צטט</a><a class="share" data-img_src="').reference(e.get("image_field_preview"),e,"h").write('" data-text_preview="').reference(e.get("text"),e,"h").write('" data-title="תגובה מתוך דיון על החזון ').reference(e.get("title"),e,"h").write('" rel="/discussions/').reference(e.get("discussion_id"),e,"h").write("#post_").reference(e.get("_id"),e,"h").write('" data-name="').reference(e.get("text"),e,"h").write('" href="/facebookShare?link=/discussions/').reference(e.get("discussion_id"),e,"h").write("#post_").reference(e.get("_id"),e,"h").write('" target="_blank">שתף</a></div></div>')}function b(a){return a}function c(a){return a.write(" noBorder")}function d(a,b){return a.reference(b.get("creation_date"),b,"h",["time"])}return dust.register("tmp",a),a}(),function(){function a(a,e){return a.write('<div class="token-bar"><span class="top-number">15</span><span class="bottom-number">0</span><div class="bars"><div class="border"></div><div class="empty" style="height:').reference(e.get("gupFromFullPixels"),e,"h").write('"></div>').exists(e.get("haveTokensIUsed"),e,{block:b},null).exists(e.get("haveFloorTokens"),e,{block:c},null).exists(e.get("haveProxy"),e,{block:d},null).write("</div>")}function b(a,b){return a.write('<div class="grey" style="height:').reference(b.get("dailyTokensPixels"),b,"h").write('"><div class="info">מכסת אסימונים:').reference(b.get("TokensSum"),b,"h").write(" </div></div>")}function c(a,b){return a.write('<div class="green" style="height:').reference(b.get("tokensPixels"),b,"h").write('"><div class="info">אסימונים זמינים:').reference(b.get("floorTokens"),b,"h").write("</div></div>")}function d(a,b){return a.write('<div class="proxy-woper"><div class="info" style="overflow: hidden">מוקצים לנציגים:').reference(b.get("totalProxy"),b,"h").write("</div>").section(b.getPath(!0,["proxy","proxies"]),b,{block:e},null).write("</div>")}function e(a,b){return a.partial("user_proxy_item",b,null)}return dust.register("tokens_bar",a),a}(),function(){function a(a,e){return a.write('<div id="resource-popup').reference(e.getPath(!0,["resource"]),e,"h").write('"data-resource="').reference(e.get("resource"),e,"h").write('" class="user_brings_resource_popup"><div class="user-right"><a href="/myuru/').reference(e.get("_id"),e,"h").write('"><div class="img-box"><div class="auto-scale"  style="width: 41px;height: 44px"><img src="').reference(e.get("avatar"),e,"h").write('" alt="" /></div><img class="wraper" src="/images/user-fillter-small-white.png" width="41" alt="" /></div></a></div><div class="user-left"><p class="resource_user_name">').exists(e.get("my_resource"),e,{"else":b,block:c},null).write('</p></div><div  class="dont_bring left1">').exists(e.get("my_resource"),e,{block:d},null).write("</div></div></div>")}function b(a,b){return a.reference(b.get("name"),b,"h")}function c(a){return a.write("אני")}function d(a){return a.write('<a  href="javascript:void(0);"  class="i_dont_bring_bt">אני לא מביא</a>')}return dust.register("user_brings_resource_popup",a),a}(),function(){function a(a,b){return a.write('<div class="blue"  data-userid="<%=userProxy._id%>" style="height:').reference(b.get("height"),b,"h").write('"><!-- <div class="info" style="overflow: hidden">מוקצים לנציגים:').reference(b.get("totalProxy"),b,"h").write('</div>--></div><div id="token-popup{._id }"   class="token-popup tooltip"data-userid="').reference(b.get("_id"),b,"h").write('"   data-firstname="').reference(b.getPath(!0,["first_name"]),b,"h").write('"  ><div class="user-right"><a href="/myuru/').reference(b.get("_id"),b,"h").write('"><div class="img-box"><div class="auto-scale"  style="width: 41px;height: 44px"><img src="').reference(b.get("avatar"),b,"h").write('" alt="" /></div><img class="wraper" src="/images/user-fillter-small-white.png" width="41" alt="" /></div></a></div><div class="user-left" ><div><div class="proxy given-mandat-from-me" ><span dir="ltr">').reference(b.get("proxy"),b,"h").write('</span></div><div  class="user-name">').reference(b.get("name"),b,"h").write('</div></div><div  class="right1" style="float: right;"><div class="proxy"><span dir="ltr">').reference(b.get("num_of_proxies_i_represent"),b,"h").write('</span></div><div class="respect"><span dir="ltr">').reference(b.get("score"),b,"h").write('</span><!--  <span dir="ltr"><%=userProxy.score?userProxy.score: 0%></span>--></div></div><div  class="hisuru-popup left1"><a  href="javascript:void(0);"  class="giveProxy">תן מנדט</a></div></div></div>')}return dust.register("user_proxy_item",a),a}();var user={update:function(a){$.extend(user.data,a)},actions_done_by_user:{}},db_functions={loggedInAjax:function(a){var b=a.error||function(){console.error(arguments[2])};if(a.error=function(c,d,e){if("not authenticated"==c.responseText)connectPopup(function(f,g){if(f)b(c,d,e);
else{var h=a.success;if(a.success=function(){h.apply(this,arguments),-1==window.location.href.indexOf("actions/create/")&&-1==window.location.href.indexOf("discussions/new/")&&("undefined"==typeof window.vars||"undefined"==typeof window.vars.afterLogin?window.location.href=window.location.href:window.vars.afterLogin())},a.error=function(){b.apply(this,arguments),"undefined"==typeof window.vars||"undefined"==typeof window.vars.afterLogin?window.location.href=window.location.href:window.vars.afterLogin()},g.hasOwnProperty("actions_done_by_user")&&a.hasOwnProperty("user_info"))if(g.actions_done_by_user[a.user_info.action_name]||a.user_info.price<=0)$.ajax(a);else{var i={tokens_needed:a.user_info.price,tokens_owned:g.tokens,callback:function(b){"ok"==b?$.ajax(a):a.success.call(this,"canceled")}};popupProvider.showExplanationPopup(i)}}$.ajax(a)});else if("not_activated"==c.responseText){var f='ההרשמה לאתר לא הושלמה, על מנת להמשיך לחץ על הלינק שנשלח לתיבת הדואר שלך.<br />לשליחה חוזרת לחץ <a href="/account/activation">כאן</a>';notActivatedPopup(f)}else if("suspended"==c.responseText){var f="הושעת מהמערכת עקב החלטת מוביל תחום. אם ברצונך לקבל פרטים נוספים או לערער על ההחלטה, אנא שלח מייל לmovilim@uru.org.il.";notActivatedPopup(f)}else"Error: Unauthorized - there is not enought tokens"==c.responseText?alert("אין מספיק אסימונים בשביל לבצע פעולה זו"):"user must have a least 10 tokens to open create discussion"==c.responseText?alert("צריך מינימום של 10 אסימונים בשביל ליצור דיון"):b(c,d,e)},a.hasOwnProperty("user_info")&&0==a.user_info.action_done&&a.user_info.user_logged_in&&a.user_info.price>0){var c={tokens_needed:a.user_info.price,tokens_owned:a.user_info.tokens_owned,callback:function(b){"ok"==b?$.ajax(a):a.success.call(this,"canceled")}};popupProvider.showExplanationPopup(c)}else $.ajax(a)},login:function(a,b,c){this.loggedInAjax({url:"/api/login",type:"POST",async:!0,data:{email:a,password:b},success:function(a,b){c(null,b)},error:function(a){c(a,null)}})},resetUserNotifications:function(a){db_functions.loggedInAjax({url:"/api/reset_notification",type:"POST",async:!0,success:function(b,c){a(c,b)},error:function(b,c){a(b,c)}})},getArticelsByUser:function(a,b){db_functions.loggedInAjax({url:"/api/articles?user_id="+a,type:"GET",async:!0,success:function(a,c){b(c)},error:function(a,c){b(a,c)}})},addArticleComment:function(a,b,c){db_functions.loggedInAjax({url:"/api/posts_of_article",type:"POST",async:!0,data:{text:a,article_id:b},success:function(a,b){c(b,a)},error:function(a,b){c(a,b)}})},getArticleComments:function(a,b){db_functions.loggedInAjax({url:"/api/posts_of_article/?article_id="+a,type:"GET",async:!0,success:function(a,c){b(c,a)},error:function(a,c){b(a,c)}})},voteOnArticleComment:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/votes_on_article_comment",type:"POST",async:!0,data:{method:b,post_article_id:a},user_info:c,success:function(a,b){d(b,a)},error:function(a,b){d(a,b)}})},getPopularArticles:function(a,b){db_functions.loggedInAjax({url:"/api/articles?order_by=-popularity_counter&limit="+a,type:"GET",async:!0,success:function(a){b(a)}})},getUserArticlesByKeywords:function(a,b,c,d){var e=$.trim(b).replace(/\s+/g,".%2B");db_functions.loggedInAjax({url:"/api/articles/?user_id="+a+"&or=text__regex,,title__regex&title__regex="+e+"&title__regex="+e+"&text__regex="+e+"&order_by="+c,type:"GET",async:!0,success:function(a,b){d(b,a)},error:function(a){d(a,null)}})},getUserAfterFbConnect:function(a,b){this.loggedInAjax({url:"/api/fb_connect",type:"POST",async:!0,data:{access_token:a},success:function(a){b(null,a)},error:function(a){b(a,null)}})},getUserbyEmail:function(a,b){this.loggedInAjax({url:"/api/users",type:"GET",async:!0,data:{email:a},success:function(a){b(null,a)},error:function(a){b(a,null)}})},getOrCreateUserByFBid:function(){db_functions.loggedInAjax({url:"/api/fb_connect",type:"Post",async:!0,success:function(a){console.log(a),callback(a)}})},registerUser:function(a,b,c,d,e,f){db_functions.loggedInAjax({url:"/account/register",type:"POST",async:!0,success:function(a,b){console.log(b),f(b)},error:function(a){f(a)}})},register:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/register",type:"POST",data:{full_name:a,email:b,cycle:c},async:!0,success:function(a,b){console.log(a),d(b,a)},error:function(a,b){d(b,a)}})},register_fb:function(a,b){db_functions.loggedInAjax({url:"/api/register",type:"POST",data:{fb:!0,cycle:a},async:!0,success:function(a,c){console.log(c),b(a,c)},error:function(a,c){b(a,c)}})},getHotObjects:function(a){db_functions.loggedInAjax({url:"/api/hot_objects",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getAboutUruTexts:function(a){db_functions.loggedInAjax({url:"/api/about_uru_texts",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getAboutUruItems:function(a){db_functions.loggedInAjax({url:"/api/about_uru_items",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getTeam:function(a){db_functions.loggedInAjax({url:"/api/team",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getFounders:function(a){db_functions.loggedInAjax({url:"/api/founders?limit=0",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getQaItems:function(a){db_functions.loggedInAjax({url:"/api/qa",type:"GET",async:!0,success:function(b){console.log(b),a(b)}})},getElectionsItems:function(a){db_functions.loggedInAjax({url:"/api/elections_items",type:"GET",async:!0,success:function(b,c){a(b,c)},error:function(b,c){a(b,c)}})},getElectionsTexts:function(a){db_functions.loggedInAjax({url:"/api/elections_texts",type:"GET",async:!0,success:function(b,c){a(b,c)},error:function(b,c){a(b,c)}})},getPopularHeadlines:function(a,b){db_functions.loggedInAjax({url:"/api/headlines?limit="+a,type:"GET",async:!0,success:function(a){b(a)}})},addKilkul:function(a,b){db_functions.loggedInAjax({url:"/api/kilkuls",type:"POST",async:!0,data:{text_field:a},success:function(a){b(null,a)}})},getSuccessStories:function(a){db_functions.loggedInAjax({url:"/api/success_stories",type:"GET",async:!0,success:function(b){a(b)}})},getNotifications:function(a,b,c){db_functions.loggedInAjax({url:"/api/notifications?"+(a?"&user_id="+a:"")+(b?"&limit="+b:""),type:"GET",async:!0,success:function(a){c(a)},error:function(a){c(a)}})},getAndRenderFooterTags:function(){db_functions.loggedInAjax({url:"/api/tags?limit=10",type:"GET",async:!0,success:function(a){dust.render("footer_tags",a,function(a,b){$("#footer_tags").append(b)})}})},getAllSubjects:function(a){db_functions.loggedInAjax({url:"/api/subjects",type:"GET",async:!0,success:function(b){$.each(b.objects,function(a,b){b.word_count=function(){return Math.min($.trim(b.name).split(/\s+/).length,3)}}),a(null,b)},error:function(b){a(b)}})},getHotInfoItems:function(a,b){db_functions.loggedInAjax({url:"/api/information_items/?is_hot_info_item=true&limit=6&offset="+a,type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a)}})},getUserShopingCart:function(a){db_functions.loggedInAjax({url:"/api/shopping_cart",type:"GET",async:!0,success:function(b){console.log(b),a(null,b)}})},removeInfoItemFromShoppingCart:function(a,b){db_functions.loggedInAjax({url:"/api/shopping_cart/"+a,type:"DELETE",async:!0,success:function(){b(null),console.log("info item deleted from shopping cart")}})},createInformationItem:function(a,b){db_functions.loggedInAjax({url:"/api/information_items/",type:"POST",data:a,async:!0,success:function(){b(null)},error:function(){b("error")}})},getDiscussionTextField:function(a,b){db_functions.loggedInAjax({url:"/api/discussions/"+a,type:"GET",async:!0,success:function(a){a=a.text_field,b(null,a)},error:function(a){b(a,null)}})},createDiscussion:function(a,b,c,d,e,f,g){db_functions.loggedInAjax({url:"/api/discussions/",type:"POST",async:!0,data:{subject_id:a,text_field:b,title:c,tags:d,is_published:!0,image_field:e},user_info:f,success:function(a){"canceled"==a?g(a):g(null,a)},error:function(a){"vision can't be more than 800 words"==a.responseText&&popupProvider.showOkPopup({message:"חזון הדיון צריך להיות 800 מילים לכל היותר"}),"title can't be longer than 75 characters"==a.responseText?popupProvider.showOkPopup({message:"אורך כותרת החזון צריך להיות 75 אותיות לכל היותר"}):"you don't have the min amount of tokens to open discussion"==a.responseText&&popupProvider.showOkPopup({message:"מצטערים, אין לך מספיק אסימונים..."}),g(a,null)}})},addSuggestionToDiscussion:function(a,b,c,d,e,f){db_functions.loggedInAjax({url:"/api/suggestions/",type:"POST",async:!0,data:{discussion_id:a,parts:c,explanation:d,vision_history_count:b},user_info:e,success:function(a){console.log(a),f(null,a)},error:function(a,b){f(a,b)}})},editSuggestion:function(a,b,c){db_functions.loggedInAjax({url:"/api/suggestions/"+a,type:"PUT",async:!0,data:{text:b},success:function(a){console.log(a),c(null,a)},error:function(a){c(a)}})},addFacebookRequest:function(a,b,c){var d=b?b.request:null;b?b.to:null,$.ajax({url:"/api/fb_request/",type:"POST",async:!0,contentType:"application/json",data:JSON.stringify({link:a,fb_request_ids:d}),success:function(a){a.response=b,console.log(a),c(null,a)},error:function(a){c(a,null)}})},getPostByDiscussion:function(a,b){db_functions.loggedInAjax({url:"/api/posts?discussion_id="+a,type:"GET",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},removePost:function(a,b){db_functions.loggedInAjax({url:"/api/posts/"+a,type:"delete",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a)}})},removeSuggestion:function(a,b){db_functions.loggedInAjax({url:"/api/suggestions/"+a,type:"delete",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a)}})},removeSuggestionComment:function(a,b){db_functions.loggedInAjax({url:"/api/suggestion_posts/"+a,type:"delete",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a)}})},getSpecialPostsByDiscussion:function(a,b){db_functions.loggedInAjax({url:"/api/special_posts?discussion_id="+a,type:"GET",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},getPostByTypeByDiscussion:function(a,b,c){db_functions.loggedInAjax({url:"/api/posts?discussion_id="+a+"&order_by=-"+b+"&limit=1",type:"GET",async:!0,success:function(a){console.log(a),c(null,a)},error:function(a){c(a,null)}})},getCommentsBySuggestion:function(a,b){db_functions.loggedInAjax({url:"/api/suggestion_posts?suggestion_id="+a,type:"GET",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},editDiscussionPost:function(a,b,c){db_functions.loggedInAjax({url:"/api/posts/"+a,type:"PUT",data:{text:b},async:!0,success:function(a){console.log(a),c(null,a)},error:function(a){c(a,null)}})},addCommentToSuggestion:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/suggestion_posts",type:"POST",data:{suggestion_id:a,discussion_id:b,text:c},async:!0,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},getPostById:function(a,b){db_functions.loggedInAjax({url:"/api/posts/"+a,type:"GET",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},addLikeToInfoItem:function(a,b){db_functions.loggedInAjax({url:"/api/likes",type:"POST",data:{info_item_id:a},async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},addInfoItemToShoppingCart:function(a,b){db_functions.loggedInAjax({url:"/api/shopping_cart/"+a,type:"PUT",async:!0,success:function(a){b(null,a),console.log("item information inserted to shopping cart")}})},voteForPost:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/votes/",type:"POST",async:!0,data:{post_id:a,method:b},user_info:c,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},voteForSuggestion:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/votes_on_suggestion/",type:"POST",async:!0,data:{suggestion_id:a,method:b},user_info:c,success:function(a){console.log(a),alert("success"),d(null,a)},error:function(a){d(a,null)}})},addPostToDiscussion:function(a,b,c,d,e){db_functions.loggedInAjax({url:"/api/posts/",type:"POST",async:!0,data:{discussion_id:a,text:b,ref_to_post_id:c},user_info:d,success:function(a){console.log(a),e(null,a)},error:function(a){if("not authenticated"!=a.responseText&&"must grade discussion first"==a.responseText){var b={};b.message="אנא דרג קודם את החזון בראש העמוד.",b.onOkCilcked=function(a){a.preventDefault(),clicked="ok",$.colorbox.close(),scrollTo(".segment.main .tags")},popupProvider.showOkPopup(b)}e(a,null)}})},getSortedPostByDiscussion:function(a,b,c,d,e){"function"==typeof d&&(e=d,d=0),db_functions.loggedInAjax({url:"/api/posts?discussion_id="+a+"&order_by="+b+"&limit="+d+"&offset="+c,type:"GET",async:!0,success:function(a){console.log("posts are "+a),e(null,a)},error:function(a){e(a,null)}})},getPopularPostByCycle:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/posts?discussion_id="+a+"&order_by="+b+"&offset="+c,type:"GET",async:!0,success:function(a){console.log("posts are "+a),d(null,a)},error:function(a){d(a,null)}})},addDiscussionGrade:function(a,b,c,d,e){var f="/api/grades/",g="POST";c&&"undefined"!==c&&"0"!==c&&(f="/api/grades/"+c,g="PUT"),db_functions.loggedInAjax({url:f,type:g,async:!0,data:{discussion_id:a,evaluation_grade:b},user_info:d,success:function(a){e(null,a)},error:function(a){"not authenticated"!=a.responseText&&alert(a.responseText),e(a,null)}})},addSuggestionGrade:function(a,b,c,d,e,f){var g,h;g=d?"/api/grades_suggestion/"+d:"/api/grades_suggestion/",h=d?"PUT":"POST",db_functions.loggedInAjax({url:g,type:h,async:!0,data:{suggestion_id:a,discussion_id:b,evaluation_grade:c},user_info:e,success:function(a){f(null,a)},error:function(a){if("not authenticated"!=a.responseText&&"must grade discussion first"==a.responseText){var b={};b.message="אנא דרג קודם את החזון בראש העמוד.",b.onOkCilcked=function(a){a.preventDefault(),clicked="ok",$.colorbox.close(),scrollTo(".segment.main .tags")},popupProvider.showOkPopup(b)}f(a,null)}})},getDiscussionShoppingCart:function(a,b){db_functions.loggedInAjax({url:"/api/discussions_shopping_cart?discussion_id="+a,type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a,null)}})},updateUserDetails:function(a,b,c){db_functions.loggedInAjax({url:"/api/users/"+a,type:"PUT",data:JSON.stringify({biography:b}),async:!0,success:function(a){c(null,a)},error:function(a){c(a,null)},dataType:"json",processData:!1,contentType:"application/json"})},joinOrLeaveUserFollowers:function(a,b){db_functions.loggedInAjax({url:"/api/user_followers/"+a,type:"PUT",async:!0,success:function(a){b(null,a)},error:function(a){b(a,null)}})},addOrRemoveProxyMandate:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/user_proxies/"+a,type:"PUT",data:{proxy_id:b,req_number_of_tokens:c},async:!0,success:function(a){d(null,a)},error:function(a){d(a,null)}})},deleteProxy:function(a,b,c){db_functions.loggedInAjax({url:"/api/user_proxies/"+a,type:"DELETE",dara:{proxy_id:b},async:!0,success:function(a){c(null,a)},error:function(a){c(a,null)}})},getUserFollowers:function(a,b){db_functions.loggedInAjax({url:a,type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a,null)}})},getOnWhomUserFollows:function(a,b){db_functions.loggedInAjax({url:"/api/users?followers.follower_id="+a,type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a,null)}})},getSuggestionByDiscussion:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/suggestions?discussion_id="+a+"&is_approved=false"+(b?"&limit="+b:"")+(c?"&offset="+c:""),type:"GET",async:!0,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},getApprovedSuggestionsByDiscussion:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/suggestions?discussion_id="+a+"&is_approved=true&order_by=-approve_date"+(b?"&limit="+b:"")+(c?"&offset="+c:""),type:"GET",async:!0,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},joinToDiscussionFollowers:function(a,b,c){db_functions.loggedInAjax({url:"/api/discussions/"+a+"/?put="+b,data:{follower:!0},type:"PUT",async:!0,success:function(a){c(null,a)}})},getListItems:function(a,b,c){var d;switch(a){case"actions":d="actions?is_approved=true&";break;case"pendingActions":d="actions?is_approved=false&";break;default:d=a+"?"}db_functions.loggedInAjax({url:"/api/"+d+"limit=0",data:b,type:"GET",async:!0,success:function(a){c(null,a)}})},getAllItemsByUser:function(a,b,c){var d;d=b?"&user_id="+b:"",db_functions.loggedInAjax({url:"/api/"+a+"?get=myUru"+d,type:"GET",async:!0,success:function(a){c(null,a)}})},getItemsCountByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/items_count_by_tag_name"+(a?"?tag_name="+encodeURIComponent(a):""),type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a,null)}})},getTagsBySearchTerm:function(a,b){db_functions.loggedInAjax({url:"/api/tags?tag__contains="+a,type:"GET",async:!0,success:function(c){b(a,null,c)},error:function(c){b(a,c,null)}})},getItemsByTagNameAndType:function(a,b,c,d){this.loggedInAjax({url:"/api/"+a+"?limit=3&offset="+3*c+(encodeURIComponent(b)?"&tags="+encodeURIComponent(b):""),type:"GET",async:!0,success:function(a){d(null,a)}})},getDiscussionsByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/discussions"+(a?"?tags="+a:""),type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getDiscussionsById:function(a,b){db_functions.loggedInAjax({url:"/api/discussions/"+a,type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getCyclesByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/cycles"+(a?"?tags="+a:""),type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getCyclesById:function(a,b,c){db_functions.loggedInAjax({url:"/api/cycles/"+a,type:"GET",async:!0,data:{fb_page_check:b},success:function(a,b){c(a,b)},error:function(a,b){c(a,b)}})},getCycleUpdates:function(a,b){db_functions.loggedInAjax({url:"/api/updates/?cycle="+a,type:"GET",async:!0,success:function(a,c){b(c,a)},error:function(a,c){b(a,c)}})},getCycleShoppingCart:function(a,b){db_functions.loggedInAjax({url:"/api/cycles_shopping_cart?cycle_id="+a,type:"GET",async:!0,success:function(a,c){b(c,a)},error:function(a){b(a,null)}})},getCyclePosts:function(a,b){db_functions.loggedInAjax({url:"/api/cycle_posts?cycle_id="+a,type:"GET",async:!0,success:function(a,c){b(c,a)},error:function(a){b(a)}})},getCylceFollowers:function(a,b,c){db_functions.loggedInAjax({url:"/api/users?cycles.cycle_id="+a+"&limit = 14"+"&offset="+14*b,type:"GET",async:!0,success:function(b){b.objects=$.map(b.objects,function(b){for(var c,d=0;d<b.cycles.length;d++)b.cycles[d].cycle_id==a&&(c=b.cycles[d]);return{_id:b.id,first_name:b.first_name,last_name:b.last_name,avatar_url:b.avatar_url,join_date:c.join_date}}),c(b)},error:function(a){c(a,null)}})},joinToCycleFollowers:function(a,b,c){db_functions.loggedInAjax({url:"/api/cycles/"+a+"?force="+b,type:"PUT",async:!0,success:function(a){c(null,a)},error:function(a){c(a,null)}})},getCycleTimeline:function(a,b){db_functions.loggedInAjax({url:"/api/cycle_timeline?cycle_id="+a,type:"GET",async:!0,success:function(a){b(null,a)}})},getLikedCyclePages:function(a){db_functions.loggedInAjax({url:"/api/cycle_pages",type:"GET",async:!0,success:function(b){a(null,b)}})},createAction:function(a,b,c){db_functions.loggedInAjax({url:"/api/actions",type:"POST",async:!0,data:a,user_info:b,success:function(a){c(null,a)},error:function(a){c(a)}})},getActionsByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/actions"+(a?"?tags="+a:""),type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getPendingActionsByCycle:function(a,b,c){db_functions.loggedInAjax({url:"/api/actions/?cycle_id.cycle="+a+"&is_approved=false"+(b?"&limit="+b:""),type:"GET",async:!0,success:function(a){c(a)}})},getApprovedActionsByCycle:function(a,b,c){db_functions.loggedInAjax({url:"/api/actions/?cycle_id.cycle="+a+"&is_approved=true"+(b?"&limit="+b:""),type:"GET",async:!0,success:function(a){c(a)}})},joinOrLeaveAction:function(a,b){db_functions.loggedInAjax({url:"/api/join/",type:"POST",data:{action_id:a},async:!0,success:function(a){b(null,a)},error:function(a){b(a)}})},getActionGoing:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/join/?action_id="+a+"&offset="+c*b+"&limit="+c,type:"GET",async:!0,success:function(a){d(null,a)},error:function(a){d(a,null)}})},getPostByAction:function(a,b){db_functions.loggedInAjax({url:"/api/posts_of_action?action_id="+a,type:"GET",async:!0,success:function(a,c){console.log(a,c),b(null,c)},error:function(a){b(a)}})},getSortedPostByAction:function(a,b,c,d,e){db_functions.loggedInAjax({url:"/api/posts_of_action?action_id="+a+"&order_by="+b+"&offset="+c,type:"GET",async:!0,success:function(a){e(null,a)},error:function(a){e(a,null)}})},getActionShoppingCart:function(a,b){db_functions.loggedInAjax({url:"/api/actions_shopping_cart?action_id="+a,type:"GET",async:!0,success:function(a){b(null,a)},error:function(a){b(a)}})},addPostToAction:function(a,b,c,d,e){db_functions.loggedInAjax({url:"/api/posts_of_action/",type:"POST",async:!0,data:{action_id:a,text:b,ref_to_post_id:c},user_info:d,success:function(a){console.log(a),e(null,a)},error:function(a){e(a)}})},voteForActionPost:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/votes_on_action_post/",type:"POST",async:!0,data:{post_action_id:a,method:b},user_info:c,success:function(a){d(null,a)},error:function(a){d(a,null)}})},addSuggestionToAction:function(a,b,c,d,e){db_functions.loggedInAjax({url:"/api/action_suggestions/",type:"POST",async:!0,data:{action_id:a,parts:b,explanation:c},user_info:d,success:function(a){e(null,a)},error:function(a){e(a)}})},addActionGrade:function(a,b,c,d,e){var f="/api/action_grades/",g="POST";c&&"undefined"!==c&&"0"!==c&&(f="/api/action_grades/"+c,g="PUT"),db_functions.loggedInAjax({url:f,type:g,async:!0,data:{action_id:a,evaluation_grade:b},user_info:d,success:function(a){e(null,a)},error:function(a){"not authenticated"!=a.responseText&&alert(a.responseText),e(a,null)}})},addActionSuggestionGrade:function(a,b,c,d,e){var f,g;f=d?"/api/action_suggestion_grades/"+d:"/api/action_suggestion_grades/",g=d?"PUT":"POST",db_functions.loggedInAjax({url:f,type:g,async:!0,data:{suggestion_id:a,action_id:b,evaluation_grade:c},success:function(a){e(null,a)},error:function(a){"not authenticated"!=a.responseText&&"must grade discussion first"==a.responseText&&popupProvider.showOkPopup({message:"אנא דרג קודם את החזון בראש העמוד."}),e(a,null)}})},getSuggestionByAction:function(a,b,c,d){db_functions.loggedInAjax({url:"/api/action_suggestions?action_id="+a+"&is_approved=false"+(b?"&limit="+b:"")+(c?"&offset="+c:""),type:"GET",async:!0,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},addOrRemoveResourceToAction:function(a,b,c){db_functions.loggedInAjax({url:"/api/user_helps_action/"+a,type:"PUT",async:!0,data:{action_resources:b},success:function(a){console.log(a),c(null,a)},error:function(a){c(a,null)}})},createNewActionResource:function(a,b,c,d,e,f){db_functions.loggedInAjax({url:"/api/action_resources/",type:"POST",async:!0,data:{name:b,action_id:a,amount:c,amountBringing:d,user_id:e},success:function(a){console.log(a),f(null,a)},error:function(a){f(a,null)}})},getDiscussionHistory:function(a,b){db_functions.loggedInAjax({url:"/api/discussions_history/?discussion_id="+a,type:"GET",async:!0,success:function(a,c){b(null,c)},error:function(a,c){b(a,c)}})},getInfoItemsByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/information_items"+(a?"?tags="+a:""),type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getBlogsByTagName:function(a,b){db_functions.loggedInAjax({url:"/api/articles"+(a?"?tags="+a:""),type:"GET",async:!0,success:function(a){console.log(a),b(null,a)}})},getInfoItemsOfSubjectByKeywords:function(a,b,c,d){var e=$.trim(a).replace(/\s+/g,".%2B");db_functions.loggedInAjax({url:"/api/information_items/?or=text_field__regex,text_field_preview__regex,title__regex&title__regex="+e+"&text_field__regex="+e+"&text_field_preview__regex="+e+"&subject_id="+b+"&order_by="+c,type:"GET",async:!0,success:function(a){console.log(a),d(null,a)},error:function(a){d(a,null)}})},submitInvitedFriends:function(a,b,c,d,e){db_functions.loggedInAjax({url:"/api/user_invited_friends",type:"POST",async:!0,data:{type:a,id:b,email:d,facebook:c},success:function(a,b){e(b,a)},error:function(a,b){e(a,b)}})},getQuoteGameQuotes:function(a,b,c){db_functions.loggedInAjax({url:"/api/quote_game_quote/?limit=0",type:"GET",data:{reset:a,candidate_id:b},async:!0,success:function(a,b){c(b,a)},error:function(a,b){c(a,b)}})},getQuoteGameCandidate:function(a,b){db_functions.loggedInAjax({url:"/api/quote_game_candidate/?limit=0",type:"GET",async:!0,success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},setQuoteGameResponse:function(a,b,c,d,e,f,g){$.ajax({url:"/api/quote_game_response/"+b,type:"PUT",async:!0,data:{user_id:a,quote_id:b,hash:c,response:d,candidate_id:e,reset:f},success:function(a){console.log(a),g(null,a)},error:function(a){g(a,null)}})},setQuoteGameUser:function(a){$.ajax({url:"/api/quote_game_response/",type:"POST",async:!0,success:function(b){console.log(b),a&&a(null,b)},error:function(b){a&&a(b,null)}})},counterIncrease:function(a,b){$.ajax({url:"/api/counter/",type:"POST",async:!0,data:{counter:a},success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},getFaces:function(a,b){db_functions.loggedInAjax({url:"/api/face/?limit=0",type:"GET",data:{status:a},async:!0,success:function(a,c){b(c,a)},error:function(a,c){b(a,c)}})},setFaceStatus:function(a,b,c){$.ajax({url:"/api/face/"+a,type:"PUT",async:!0,data:{status:b},success:function(a){console.log(a),c(null,a)},error:function(a){c(a,null)}})},updateMailNotification:function(a,b,c){$.ajax({url:"/api/user_mail_notification_config/"+a,type:"PUT",async:!0,data:b,success:function(a){console.log(a),c(null,a)},error:function(a){c(a,null)}})},activateMailNotification:function(a,b){db_functions.loggedInAjax({type:"PUT",async:!0,url:"/api/user_mail_notification_config/"+a,data:{activate:!0},success:function(a){console.log(a),b(null,a)},error:function(a){b(a,null)}})},getPressItemsByDiscussion:function(a,b){db_functions.loggedInAjax({url:"/api/press_item",type:"GET",async:!0,data:{discussion_id:a,limit:0},success:function(a){console.log(a),b(null,a)},error:function(a){b(a)}})},sendMailFromUserToSystem:function(a,b){db_functions.loggedInAjax({url:"/api/send_mail",type:"POST",async:!0,data:{mail_config:a},success:function(a){console.log(a),b(null,a)},error:function(a){b(a)}})}};$(document).ready(function(){function a(){var a={};$("body").hasClass("search-active")&&($(".search-result-box").remove(),$("body").removeClass("search-active")),db_functions.getItemsCountByTagName(d,function(c,h){var i=function(){$(".search-result-box .tabs").tabs({selected:f,select:function(b,c){f=c.index,j(e[c.index],a[e[c.index]]||0)}})},j=function(a,b){var c=$("#tabs-"+a+" .tab-slide .slides-one:eq("+b+")");c.data("loaded")||(c.data("loaded","true"),db_functions.getItemsByTagNameAndType(a,d,b,function(b,d){b?console.error(b):$.each(d.objects,function(b,c){c.section=a});var e={items:d.objects};dust.render("search_3_slides",e,function(a,b){c.append(b)})}))},k=!0,l=[];l[0]=h.info_items_count,l[1]=h.discussions_count,l[2]=h.cycles_count,l[3]=h.actions_count,l[4]=h.blogs_count,f=g?g:h.info_items_count>0?0:h.discussions_count>0?1:h.cycles_count>0?2:h.actions_count>0?3:h.blogs_count>0?4:null,dust.render("search_results",h,function(c,d){$("body").addClass("search-active"),$(".search-box").before(d),$(".search-result-box .close").on("click",b),$.each(e,function(b,c){var d=l[b],e={name:c,scroll:d>3,section:c,count:new Array(Math.ceil(d/3))};k=!0,d>0?(k=!1,dust.render("search_section",e,function(e,g){$(".tabs").append(g),d>0&&($(".tab-slide-"+c).after('<div class="nav-'+c+' nav">').cycle({fx:"scrollHorz",speed:"fast",timeout:0,pager:".nav-"+c,next:".prev-"+c,prev:".next-"+c,before:function(d,e){var g=$(e);b==f&&j(c,g.index()),a[c]=g.index()}}),f==b&&j(c,0))})):k&&dust.render("search_section_empty",e,function(a,b){$(".tabs").append(b)})}),i()})}),window.location.hash="search"}function b(){return $(".search-result-box").hide(),$("body").removeClass("search-active"),!1}function c(a){$("#search_suggest li:first").siblings().remove(),a.length>0?dust.renderArray("search_suggest_item",a,null,function(a,b){$("#search_suggest").append(b),$("#search_suggest").show()}):$("#search_suggest").hide()}var d="",e=["information_items","discussions","cycles","actions","articles"],f=null,g="undefined"==typeof window.current_section||null==window.current_section?-1:window.current_section;$(".search-input").live("submit",function(){return g>=0?(d=$(this).find(".search_term").val(),a(),!1):!0}),$(".tag-search").live("click",function(){return g>=0?(d=$(this).text(),a(),!1):!0}),$(".tab-slide-information_items .slides-one .one").live("click",function(){window.location.replace("/information_items/"+$(this).attr("item_id"))}),$(".tab-slide-discussions .slides-one .one").live("click",function(){window.location.replace("/discussions/"+$(this).attr("item_id"))}),$(".tab-slide-actions .slides-one .one").live("click",function(){window.location.replace("/actions/"+$(this).attr("item_id"))}),$(".tab-slide-blogs .slides-one .one").live("click",function(){window.location.replace("/blogs"+$(this).attr("item_id"))}),$(".tab-slide-cycles .slides-one .one").live("click",function(){window.location.replace("/cycles/"+$(this).attr("item_id"))}),$("#search_term").blur(function(){setTimeout("$('#search_suggest').hide()",200)}),$("#search_suggest").on("click","li",function(){$("#search_term").val($(this).text()),$("#search_suggest").hide(),$("#search_form").submit()});var h={},i="";$("#search_term").keyup(function(){var a=$(this).val();return a.length<2?($("#search_suggest").hide(),void 0):(i=a,a in h?(c(h[a]),void 0):(db_functions.getTagsBySearchTerm(a,function(b,d,e){h[a]=e.objects,i===b&&c(e.objects)}),void 0))}),d=$("#search_term").val(),d&&a()}),function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}();var global=function(){return this||(1,eval)("this")}();if("undefined"==typeof VMM){var VMM=Class.extend({});VMM.debug=!0,VMM.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",api_keys_master:{flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=",twitter:""},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},webthumb:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init(),VMM.createElement=function(a,b,c,d,e){var f="";return null!=a&&""!=a&&(f+="<"+a,null!=c&&""!=c&&(f+=" class='"+c+"'"),null!=d&&""!=d&&(f+=" "+d),null!=e&&""!=e&&(f+=" style='"+e+"'"),f+=">",null!=b&&""!=b&&(f+=b),f=f+"</"+a+">"),f},VMM.createMediaElement=function(a,b,c){var d="";return d+="<div class='media'>",null!=a&&""!=a&&(valid=!0,d+="<a href='http://www.walla.co.il'><img src='"+a+"'></a>",null!=c&&""!=c&&(d+=VMM.createElement("div",c,"credit")),null!=b&&""!=b&&(d+=VMM.createElement("div",b,"caption"))),d+="</div>"
},VMM.hideUrlBar=function(){var a=window,b=a.document;if(!location.hash||!a.addEventListener){window.scrollTo(0,1);var c=1,d=setInterval(function(){b.body&&(clearInterval(d),c="scrollTop"in b.body?b.body.scrollTop:1,a.scrollTo(0,1===c?0:1))},15);a.addEventListener("load",function(){setTimeout(function(){a.scrollTo(0,1===c?0:1)},0)},!1)}}}Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)},Date.prototype.getWeek=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil(((this-a)/864e5+a.getDay()+1)/7)},Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/864e5)};var is={Null:function(a){return null===a},Undefined:function(a){return void 0===a},nt:function(a){return null===a||void 0===a},Function:function(a){return"function"==typeof a?null!==a.constructor.toString().match(/Function/):!1},String:function(a){return"string"==typeof a?!0:"object"==typeof a?null!==a.constructor.toString().match(/string/i):!1},Array:function(a){return"object"==typeof a?null!==a.constructor.toString().match(/array/i)||void 0!==a.length:!1},Boolean:function(a){return"boolean"==typeof a?!0:"object"==typeof a?null!==a.constructor.toString().match(/boolean/i):!1},Date:function(a){return"date"==typeof a?!0:"object"==typeof a?null!==a.constructor.toString().match(/date/i):!1},HTML:function(a){return"object"==typeof a?null!==a.constructor.toString().match(/html/i):!1},Number:function(a){return"number"==typeof a?!0:"object"==typeof a?null!==a.constructor.toString().match(/Number/):!1},Object:function(a){return"object"==typeof a?null!==a.constructor.toString().match(/object/i):!1},RegExp:function(a){return"function"==typeof a?null!==a.constructor.toString().match(/regexp/i):!1}},type={of:function(a){for(var b in is)if(is[b](a))return b.toLowerCase()}};if("undefined"!=typeof VMM&&(VMM.smoothScrollTo=function(a,b,c){if("undefined"!=typeof jQuery){var d="easein",e=1e3;null!=b&&(e=1>b?1:Math.round(b)),null!=c&&""!=c&&(d=c),jQuery(window).scrollTop()!=VMM.Lib.offset(a).top&&VMM.Lib.animate("html,body",e,d,{scrollTop:VMM.Lib.offset(a).top})}},VMM.attachElement=function(a,b){"undefined"!=typeof jQuery&&jQuery(a).html(b)},VMM.appendElement=function(a,b){"undefined"!=typeof jQuery&&jQuery(a).append(b)},VMM.getHTML=function(a){var b;return"undefined"!=typeof jQuery?b=jQuery(a).html():void 0},VMM.getElement=function(a,b){var c;return"undefined"!=typeof jQuery?c=b?jQuery(a).parent().get(0):jQuery(a).get(0):void 0},VMM.bindEvent=function(a,b,c,d){var e="click",f={};null!=c&&""!=c&&(e=c),null!=f&&""!=f&&(f=d),"undefined"!=typeof jQuery&&jQuery(a).bind(e,f,b)},VMM.unbindEvent=function(a,b,c){var d="click";null!=c&&""!=c&&(d=c),"undefined"!=typeof jQuery&&jQuery(a).unbind(d,b)},VMM.fireEvent=function(a,b,c){var d="click",e=[];null!=b&&""!=b&&(d=b),null!=c&&""!=c&&(e=c),"undefined"!=typeof jQuery&&jQuery(a).trigger(d,e)},VMM.getJSON=function(a,b,c){if("undefined"!=typeof jQuery){if(jQuery.ajaxSetup({timeout:3e3}),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){trace("IE JSON");var d=a;return d.match("^http://")?jQuery.getJSON(d,b,c):d.match("^https://")?(d=d.replace("https://","http://"),jQuery.getJSON(d,b,c)):jQuery.getJSON(a,b,c)}return jQuery.getJSON(a,b,c)}},VMM.parseJSON=function(a){return"undefined"!=typeof jQuery?jQuery.parseJSON(a):void 0},VMM.appendAndGetElement=function(a,b,c,d){var e,f="<div>",g="",h="";return null!=b&&""!=b&&(f=b),null!=c&&""!=c&&(g=c),null!=d&&""!=d&&(h=d),"undefined"!=typeof jQuery&&(e=jQuery(b),e.addClass(g),e.html(h),jQuery(a).append(e)),e},VMM.Lib={init:function(){return this},hide:function(a,b){null!=b&&""!=b?"undefined"!=typeof jQuery&&jQuery(a).hide(b):"undefined"!=typeof jQuery&&jQuery(a).hide()},remove:function(a){"undefined"!=typeof jQuery&&jQuery(a).remove()},detach:function(a){"undefined"!=typeof jQuery&&jQuery(a).detach()},append:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).append(b)},prepend:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).prepend(b)},show:function(a,b){null!=b&&""!=b?"undefined"!=typeof jQuery&&jQuery(a).show(b):"undefined"!=typeof jQuery&&jQuery(a).show()},load:function(a,b,c){var d={elem:a};null!=d&&""!=d&&(d=c),"undefined"!=typeof jQuery&&jQuery(a).load(d,b)},addClass:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).addClass(b)},removeClass:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).removeClass(b)},attr:function(a,b,c){if(null!=c&&""!=c)"undefined"!=typeof jQuery&&jQuery(a).attr(b,c);else if("undefined"!=typeof jQuery)return jQuery(a).attr(b)},prop:function(a,b,c){"undefined"!=typeof jQuery&&/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?jQuery(a).prop(b,c):VMM.Lib.attribute(a,b,c)},attribute:function(a,b,c){if(null!=c&&""!=c)"undefined"!=typeof jQuery&&jQuery(a).attr(b,c);else if("undefined"!=typeof jQuery)return jQuery(a).attr(b)},visible:function(a,b){if(null!=b)"undefined"!=typeof jQuery&&(b?jQuery(a).show(0):jQuery(a).hide(0));else if("undefined"!=typeof jQuery)return jQuery(a).is(":visible")?!0:!1},css:function(a,b,c){if(null!=c&&""!=c)"undefined"!=typeof jQuery&&jQuery(a).css(b,c);else if("undefined"!=typeof jQuery)return jQuery(a).css(b)},cssmultiple:function(a,b){return"undefined"!=typeof jQuery?jQuery(a).css(b):void 0},offset:function(a){var b;return"undefined"!=typeof jQuery&&(b=jQuery(a).offset()),b},position:function(a){var b;return"undefined"!=typeof jQuery&&(b=jQuery(a).position()),b},width:function(a,b){if(null!=b&&""!=b)"undefined"!=typeof jQuery&&jQuery(a).width(b);else if("undefined"!=typeof jQuery)return jQuery(a).width()},height:function(a,b){if(null!=b&&""!=b)"undefined"!=typeof jQuery&&jQuery(a).height(b);else if("undefined"!=typeof jQuery)return jQuery(a).height()},toggleClass:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).toggleClass(b)},each:function(a,b){"undefined"!=typeof jQuery&&jQuery(a).each(b)},html:function(a,b){var c;if("undefined"!=typeof jQuery)return c=jQuery(a).html();if(null!=b&&""!=b)"undefined"!=typeof jQuery&&jQuery(a).html(b);else{var c;if("undefined"!=typeof jQuery)return c=jQuery(a).html()}},find:function(a,b){return"undefined"!=typeof jQuery?jQuery(a).find(b):void 0},stop:function(a){"undefined"!=typeof jQuery&&jQuery(a).stop()},delay_animate:function(a,b,c,d,e){if("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var f=Math.round(10*(c/1500))/10,g=f+"s";VMM.Lib.css(b,"-webkit-transition","all "+g+" ease"),VMM.Lib.css(b,"-moz-transition","all "+g+" ease"),VMM.Lib.css(b,"-o-transition","all "+g+" ease"),VMM.Lib.css(b,"-ms-transition","all "+g+" ease"),VMM.Lib.css(b,"transition","all "+g+" ease"),VMM.Lib.cssmultiple(b,_att)}else"undefined"!=typeof jQuery&&jQuery(b).delay(a).animate(e,{duration:c,easing:d})},animate:function(a,b,c,d,e,f){var g="easein",h=!1,i=1e3,j={};if(null!=b&&(i=1>b?1:Math.round(b)),null!=c&&""!=c&&(g=c),null!=e&&""!=e&&(h=e),j=null!=d?d:{opacity:0},"mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var k=Math.round(10*(i/1500))/10,l=k+"s";g=" cubic-bezier(0.33, 0.66, 0.66, 1)";for(x in j)Object.prototype.hasOwnProperty.call(j,x)&&(trace(x+" to "+j[x]),VMM.Lib.css(a,"-webkit-transition",x+" "+l+g),VMM.Lib.css(a,"-moz-transition",x+" "+l+g),VMM.Lib.css(a,"-o-transition",x+" "+l+g),VMM.Lib.css(a,"-ms-transition",x+" "+l+g),VMM.Lib.css(a,"transition",x+" "+l+g));VMM.Lib.cssmultiple(a,j)}else"undefined"!=typeof jQuery&&(null!=f&&""!=f?jQuery(a).animate(j,{queue:h,duration:i,easing:g,complete:f}):jQuery(a).animate(j,{queue:h,duration:i,easing:g}))}}),"undefined"!=typeof jQuery&&(function(a){window.XDomainRequest&&a.ajaxTransport(function(b){if(b.crossDomain&&b.async){b.timeout&&(b.xdrTimeout=b.timeout,delete b.timeout);var c;return{send:function(d,e){function f(b,d,f,g){c.onload=c.onerror=c.ontimeout=a.noop,c=void 0,e(b,d,f,g)}c=new XDomainRequest,c.open(b.type,b.url),c.onload=function(){f(200,"OK",{text:c.responseText},"Content-Type: "+c.contentType)},c.onerror=function(){f(404,"Not Found")},b.xdrTimeout&&(c.ontimeout=function(){f(0,"timeout")},c.timeout=b.xdrTimeout),c.send(b.hasContent&&b.data||null)},abort:function(){c&&(c.onerror=a.noop(),c.abort())}}}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c}})),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Browser&&(VMM.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.device=this.searchDevice(navigator.userAgent),this.orientation=this.searchOrientation(window.orientation)},searchOrientation:function(a){var b="";return b=0==a||180==a?"portrait":90==a||-90==a?"landscape":"normal"},searchDevice:function(a){var b="";return b=a.match(/Android/i)||a.match(/iPhone|iPod/i)?"mobile":a.match(/iPad/i)?"tablet":a.match(/BlackBerry/i)||a.match(/IEMobile/i)?"other mobile":"desktop"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},VMM.Browser.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.FileExtention&&(VMM.FileExtention={googleDocType:function(a){var b=a.replace(/\s\s*$/,""),c="",d=["DOC","DOCX","XLS","XLSX","PPT","PPTX","PDF","PAGES","AI","PSD","TIFF","DXF","SVG","EPS","PS","TTF","XPS","ZIP","RAR"],e=!1;c=b.substr(b.length-5,5);for(var f=0;f<d.length;f++)(c.toLowerCase().match(d[f].toString().toLowerCase())||b.match("docs.google.com"))&&(e=!0);return e}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Date){VMM.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(a){trace("SET DATE LANGUAGE"),VMM.Date.dateformats=a.dateformats,VMM.Date.month=a.date.month,VMM.Date.month_abbr=a.date.month_abbr,VMM.Date.day=a.date.day,VMM.Date.day_abbr=a.date.day_abbr,dateFormat.i18n.dayNames=a.date.day_abbr.concat(a.date.day),dateFormat.i18n.monthNames=a.date.month_abbr.concat(a.date.month)},parse:function(a){"use strict";var b,c,d,e;if("date"==type.of(a))b=a;else if(b=new Date(0,0,1,0,0,0,0),a.match(/,/gi)){c=a.split(",");for(var f=0;f<c.length;f++)c[f]=parseInt(c[f],10);c[0]&&b.setFullYear(c[0]),c[1]>1&&b.setMonth(c[1]-1),c[2]>1&&b.setDate(c[2]),c[3]>1&&b.setHours(c[3]),c[4]>1&&b.setMinutes(c[4]),c[5]>1&&b.setSeconds(c[5]),c[6]>1&&b.setMilliseconds(c[6])}else if(a.match("/"))a.match(" ")?(e=a.split(" "),a.match(":")&&(d=e[1].split(":"),d[0]>=1&&b.setHours(d[0]),d[1]>=1&&b.setMinutes(d[1]),d[2]>=1&&b.setSeconds(d[2]),d[3]>=1&&b.setMilliseconds(d[3])),c=e[0].split("/")):c=a.split("/"),c[2]&&b.setFullYear(c[2]),c[0]>1&&b.setMonth(c[0]-1),c[1]>1&&b.setDate(c[1]);else if(a.match("now")){var g=new Date;b.setFullYear(g.getFullYear()),b.setMonth(g.getMonth()),b.setDate(g.getDate()),a.match("hours")&&b.setHours(g.getHours()),a.match("minutes")&&(b.setHours(g.getHours()),b.setMinutes(g.getMinutes())),a.match("seconds")&&(b.setHours(g.getHours()),b.setMinutes(g.getMinutes()),b.setSeconds(g.getSeconds())),a.match("milliseconds")&&(b.setHours(g.getHours()),b.setMinutes(g.getMinutes()),b.setSeconds(g.getSeconds()),b.setMilliseconds(g.getMilliseconds()))}else a.length<=5?(b.setFullYear(parseInt(a,10)),b.setMonth(0),b.setDate(1),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)):a.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(e=a.split("T"),a.match(":")&&(d=_time_parse[1].split(":"),d[0]>=1&&b.setHours(d[0]),d[1]>=1&&b.setMinutes(d[1]),d[2]>=1&&b.setSeconds(d[2]),d[3]>=1&&b.setMilliseconds(d[3])),_d_array=e[0].split("-"),c[0]&&b.setFullYear(c[0]),c[1]>1&&b.setMonth(c[1]-1),c[2]>1&&b.setDate(c[2])):b=new Date(Date.parse(a)):b=new Date(parseInt(a.slice(0,4),10),parseInt(a.slice(4,6),10)-1,parseInt(a.slice(6,8),10),parseInt(a.slice(8,10),10),parseInt(a.slice(10,12),10));return b},prettyDate:function(a,b,c){var d,e,f,g,h,i,j,k=!1;if(null!=c&&(k=!0),"date"==type.of(a)){f=0===a.getMonth()&&1==a.getDate()&&0===a.getHours()&&0===a.getMinutes()?VMM.Date.dateformats.year:a.getDate()<=1&&0===a.getHours()&&0===a.getMinutes()?b?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:0===a.getHours()&&0===a.getMinutes()?b?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:0===a.getMinutes()?b?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:b?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.full_long,d=dateFormat(a,f,!1),g=d.split(" ");for(var l=0;l<g.length;l++)parseInt(g[l],10)<0&&(trace("YEAR IS BC"),h=g[l],i=Math.abs(parseInt(g[l],10)),j=i.toString()+" B.C.",d=d.replace(h,j));if(k){e=dateFormat(c,f),g=e.split(" ");for(var m=0;m<g.length;m++)parseInt(g[m],10)<0&&(trace("YEAR IS BC"),h=g[m],i=Math.abs(parseInt(g[m],10)),j=i.toString()+" B.C.",e=e.replace(h,j))}}else trace("NOT A VALID DATE?"),trace(a);return k?d+" &mdash; "+e:d}}.init();var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,g){var h=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(f=e,e=void 0),isNaN(e)&&trace("invalid date "+e),f=String(h.masks[f]||f||h.masks["default"]),"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var i=g?"getUTC":"get",j=e[i+"Date"](),k=e[i+"Day"](),l=e[i+"Month"](),m=e[i+"FullYear"](),n=e[i+"Hours"](),o=e[i+"Minutes"](),p=e[i+"Seconds"](),q=e[i+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),s={d:j,dd:d(j),ddd:h.i18n.dayNames[k],dddd:h.i18n.dayNames[k+7],m:l+1,mm:d(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:o,MM:d(o),s:p,ss:d(p),l:d(q,3),L:d(q>99?Math.round(q/10):q),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:g?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(r>0?"-":"+")+d(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][j%10>3?0:(10!=j%100-j%10)*j%10]};return f.replace(a,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(a,b){return dateFormat(this,a,b)}}"undefined"!=typeof VMM&&"undefined"==typeof VMM.Util&&(VMM.Util={init:function(){return this},correctProtocol:function(a){var b=window.parent.location.protocol.toString(),c="",d=a.split("://",2);return c=b.match("http")?b:"https",c+"://"+d[1]},mergeConfig:function(a,b){var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},getObjectAttributeByIndex:function(a,b){if("undefined"!=typeof a){var c=0;for(var d in a){if(b===c)return a[d];c++}return""}return""},ordinal:function(a){return["th","st","nd","rd"][!(a%10>3||1==Math.floor(a%100/10))*(a%10)]},randomBetween:function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},average:function(a){for(var b,c={mean:0,variance:0,deviation:0},d=a.length,e=0,f=d;f--;e+=a[f]);for(b=c.mean=e/d,f=d,e=0;f--;e+=Math.pow(a[f]-b,2));return c.deviation=Math.sqrt(c.variance=e/d),c},customSort:function(a,b){var c=a,d=b;return c==d?0:c>d?1:-1},deDupeArray:function(a){var b,c=a.length,d=[],e={};for(b=0;c>b;b++)e[a[b]]=0;for(b in e)d.push(b);return d},number2money:function(a,b,c){var b=null!==b?b:!0,c=null!==c?c:!1,d=VMM.Math2.floatPrecision(a,2),e=this.niceNumber(d);return!e.split(/\./g)[1]&&c&&(e+=".00"),b&&(e="$"+e),e},wordCount:function(a){var b=a+" ",c=/^[^A-Za-z0-9\'\-]+/gi,d=b.replace(c,""),e=/[^A-Za-z0-9\'\-]+/gi,f=d.replace(e," "),g=f.split(" "),h=g.length-1;return b.length<2&&(h=0),h},ratio:{fit:function(a,b,c,d){var e={width:0,height:0};return e.width=a,e.height=Math.round(a/c*d),e.height>b&&(e.height=b,e.width=Math.round(b/d*c),e.width>a&&trace("FIT: DIDN'T FIT!!! ")),e},r16_9:function(a,b){return null!==a&&""!==a?Math.round(9*(b/16)):null!==b&&""!==b?Math.round(16*(a/9)):void 0},r4_3:function(a,b){return null!==a&&""!==a?Math.round(3*(b/4)):null!==b&&""!==b?Math.round(4*(a/3)):void 0}},doubledigit:function(a){return(10>a?"0":"")+a},truncateWords:function(a,b,c){b||(b=30),c||(c=b);var d=/^[^A-Za-z0-9\'\-]+/gi,e=a.replace(d,""),f=e.split(" "),g=[];b=Math.min(f.length,b),c=Math.min(f.length,c);for(var h=0;b>h;h++)g.push(f[h]);for(;c>h;h++){var i=f[h];if(g.push(i),"."==i.charAt(i.length-1))break}return g.join(" ")},linkify:function(a){var b=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,c=/(^|[^\/])(www\.[\S]+(\b|$))/gim,d=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return a.replace(b,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(c,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(d,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(a){var b=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,c='$1$4$7$10$13<a href="$2$5$8$11$14" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',d=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,f=/\B@([\w-]+)/gm,g=/(#([\w]+))/g;return a.replace(b,c).replace(d,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(e,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(f,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>").replace(g,"<a href='http://twitter.com/#search?q=%23$2' target='_blank' 'void(0)'>$1</a>")},linkify_wikipedia:function(a){var b=/<i[^>]*>(.*?)<\/i>/gim;return a.replace(b,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(a){return a?(a=a.replace(/<a\b[^>]*>/i,""),a=a.replace(/<\/a>/i,"")):a},untagify:function(a){return a?a=a.replace(/<\s*\w.*?>/g,""):a},nl2br:function(a){return a.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(a){var b=function(a){return Math.floor(Math.random()*a)},c=function(){var a="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return a.substr(b(62),1)},d=function(a){for(var b="",d=0;a>d;d++)b+=c();return b};return d(a)},isEven:function(a){return 0===a%2?!0:!1},getUrlVars:function(a){var b=a.toString();b.match("&#038;")?b=b.replace("&#038;","&"):b.match("&#38;")?b=b.replace("&#38;","&"):b.match("&amp;")&&(b=b.replace("&amp;","&"));for(var c,d=[],e=b.slice(b.indexOf("?")+1).split("&"),f=0;f<e.length;f++)c=e[f].split("="),d.push(c[0]),d[c[0]]=c[1];return d},toHTML:function(a){return a=this.nl2br(a),a=this.linkify(a),a.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(a,b){b!==!1&&(b=!0);for(var c=(b?a.toLowerCase():a).split(" "),d=0;d<c.length;d++)c[d]=c[d].substr(0,1).toUpperCase()+c[d].substr(1);return c.join(" ")},properQuotes:function(a){return a.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(a){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var b=/(\d+)(\d{3})/;b.test(x1);)x1=x1.replace(b,"$1,$2");return x1+x2},toTitleCase:function(a){if("Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7)return a.replace("_","%20");var b={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=new RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=new RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=new RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(a){for(var b="",c=a.split(/([:.;?!][ ]|(?:[ ]|^)["“])/),d=0;d<c.length;++d){var e=c[d];e=e.replace(/\b([a-zA-Z][a-z.'’]*)\b/g,this.__titleCaseDottedWordReplacer),e=e.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),e=e.replace(this.__firstWordRE,this.__firstToUpperCase),e=e.replace(this.__lastWordRE,this.__firstToUpperCase),b+=e}return b=b.replace(/ V(s?)\. /g," v$1. "),b=b.replace(/(['’])S\b/g,"$1s"),b=b.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(a){return a.match(/[a-zA-Z][.][a-zA-Z]/)?a:b.__firstToUpperCase(a)},__lowerReplacer:function(a){return a.toLowerCase()},__upperReplacer:function(a){return a.toUpperCase()},__firstToUpperCase:function(a){var b=a.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return b[1]&&(b[1]=b[1].toUpperCase()),b.join("")}};return b.init(),a=a.replace(/_/g," "),a=b.toTitleCase(a)}}.init()),LazyLoad=function(a){function b(b,c){var d,e=a.createElement(b);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function c(a){var b,c,d=j[a];d&&(b=d.callback,c=d.urls,c.shift(),k=0,c.length||(b&&b.call(d.context,d.obj),j[a]=null,l[a].length&&e(a)))}function d(){var b=navigator.userAgent;h={async:a.createElement("script").async===!0},(h.webkit=/AppleWebKit\//.test(b))||(h.ie=/MSIE/.test(b))||(h.opera=/Opera/.test(b))||(h.gecko=/Gecko\//.test(b))||(h.unknown=!0)}function e(e,k,m,n,o){var p,q,r,s,t,u,v=function(){c(e)},w="css"===e,x=[];if(h||d(),k)if(k="string"==typeof k?[k]:k.concat(),w||h.async||h.gecko||h.opera)l[e].push({urls:k,callback:m,obj:n,context:o});else for(p=0,q=k.length;q>p;++p)l[e].push({urls:[k[p]],callback:p===q-1?m:null,obj:n,context:o});if(!j[e]&&(s=j[e]=l[e].shift())){for(i||(i=a.head||a.getElementsByTagName("head")[0]),t=s.urls,p=0,q=t.length;q>p;++p)u=t[p],w?r=h.gecko?b("style"):b("link",{href:u,rel:"stylesheet"}):(r=b("script",{src:u}),r.async=!1),r.className="lazyload",r.setAttribute("charset","utf-8"),h.ie&&!w?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=null,v())}:w&&(h.gecko||h.webkit)?h.webkit?(s.urls[p]=r.href,g()):(r.innerHTML='@import "'+u+'";',f(r)):r.onload=r.onerror=v,x.push(r);for(p=0,q=x.length;q>p;++p)i.appendChild(x[p])}}function f(a){var b;try{b=!!a.sheet.cssRules}catch(d){return k+=1,200>k?setTimeout(function(){f(a)},50):b&&c("css"),void 0}c("css")}function g(){var a,b=j.css;if(b){for(a=m.length;--a>=0;)if(m[a].href===b.urls[0]){c("css");break}k+=1,b&&(200>k?setTimeout(g,50):c("css"))}}var h,i,j={},k=0,l={css:[],js:[]},m=a.styleSheets;return{css:function(a,b,c,d){e("css",a,b,c,d)},js:function(a,b,c,d){e("js",a,b,c,d)}}}(this.document),LoadLib=function(){function a(a){var c=0,d=!1;for(c=0;c<b.length;c++)b[c]==a&&(d=!0);return d?!0:(b.push(a),!1)}var b=[];return{css:function(b,c,d,e){a(b)||LazyLoad.css(b,c,d,e)},js:function(b,c,d,e){a(b)||LazyLoad.js(b,c,d,e)}}}(this.document),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Language&&(VMM.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.ExternalAPI&&(VMM.ExternalAPI={keys:{google:"",flickr:"",twitter:""},keys_master:{vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=",twitter:""},init:function(){return this},setKeys:function(a){VMM.ExternalAPI.keys=a},pushQues:function(){VMM.master_config.googlemaps.active&&VMM.ExternalAPI.googlemaps.pushQue(),VMM.master_config.youtube.active&&VMM.ExternalAPI.youtube.pushQue(),VMM.master_config.soundcloud.active&&VMM.ExternalAPI.soundcloud.pushQue(),VMM.master_config.googledocs.active&&VMM.ExternalAPI.googledocs.pushQue(),VMM.master_config.googleplus.active&&VMM.ExternalAPI.googleplus.pushQue(),VMM.master_config.wikipedia.active&&VMM.ExternalAPI.wikipedia.pushQue(),VMM.master_config.vimeo.active&&VMM.ExternalAPI.vimeo.pushQue(),VMM.master_config.twitter.active&&VMM.ExternalAPI.twitter.pushQue(),VMM.master_config.flickr.active&&VMM.ExternalAPI.flickr.pushQue(),VMM.master_config.webthumb.active&&VMM.ExternalAPI.webthumb.pushQue()},twitter:{tweetArray:[],get:function(a){var b={mid:a.id,id:a.uid};VMM.master_config.twitter.que.push(b),VMM.master_config.twitter.active=!0},create:function(a,b){var c=(a.mid.toString(),{twitterid:a.mid},"http://api.twitter.com/1/statuses/show.json?id="+a.mid+"&include_entities=true&callback=?"),d=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,a),e=setTimeout(b,VMM.master_config.timers.api,a);VMM.getJSON(c,function(b){var c=(b.id_str,"<blockquote><p>"),d=VMM.Util.linkify_with_twitter(b.text,"_blank");c+=d,c+="</p></blockquote>","undefined"!=typeof b.entities.media&&"photo"==b.entities.media[0].type,c+="<div class='vcard author'>",c+="<a class='screen-name url' href='https://twitter.com/"+b.user.screen_name+"' data-screen-name='"+b.user.screen_name+"' target='_blank'>",c+="<span class='avatar'><img src=' "+b.user.profile_image_url+"'  alt=''></span>",c+="<span class='fn'>"+b.user.name+"</span>",c+="<span class='nickname'>@"+b.user.screen_name+"<span class='thumbnail-inline'></span></span>",c+="</a>",c+="</div>",VMM.attachElement("#"+a.id.toString(),c),VMM.attachElement("#text_thumb_"+a.id.toString(),b.text),VMM.attachElement("#marker_content_"+a.id.toString(),b.text)}).error(function(b,c){trace("TWITTER error"),trace("TWITTER ERROR: "+c+" "+b.responseText),VMM.attachElement("#"+a.id,VMM.MediaElement.loadingmessage("ERROR LOADING TWEET "+a.mid))}).success(function(){clearTimeout(d),clearTimeout(e),b()})},errorTimeOut:function(a){trace("TWITTER JSON ERROR TIMEOUT "+a.mid),VMM.attachElement("#"+a.id.toString(),VMM.MediaElement.loadingmessage("Still waiting on Twitter: "+a.mid)),VMM.getJSON("http://api.twitter.com/1/account/rate_limit_status.json",function(b){trace("REMAINING TWITTER API CALLS "+b.remaining_hits),trace("TWITTER RATE LIMIT WILL RESET AT "+b.reset_time);var c="";0==b.remaining_hits?(c="<p>You've reached the maximum number of tweets you can load in an hour.</p>",c+="<p>You can view tweets again starting at: <br/>"+b.reset_time+"</p>"):c="<p>Still waiting on Twitter. "+a.mid+"</p>",VMM.attachElement("#"+a.id.toString(),VMM.MediaElement.loadingmessage(c))})},pushQue:function(){VMM.master_config.twitter.que.length>0&&(VMM.ExternalAPI.twitter.create(VMM.master_config.twitter.que[0],VMM.ExternalAPI.twitter.pushQue),VMM.master_config.twitter.que.remove(0))},getHTML:function(a){var b="http://api.twitter.com/1/statuses/oembed.json?id="+a+"&callback=?";VMM.getJSON(b,VMM.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(a){trace("TWITTER JSON LOADED");var b=a.id;VMM.attachElement("#"+b,VMM.Util.linkify_with_twitter(a.html))},parseTwitterDate:function(a){var b=new Date(Date.parse(a));return b},prettyParseTwitterDate:function(a){var b=new Date(Date.parse(a));return VMM.Date.prettyDate(b,!0)},getTweets:function(a){for(var b=[],c=a.length,d=0;d<a.length;d++){var e="";
e=a[d].tweet.match("status/")?a[d].tweet.split("status/")[1]:a[d].tweet.match("statuses/")?a[d].tweet.split("statuses/")[1]:"";var f="http://api.twitter.com/1/statuses/show.json?id="+e+"&include_entities=true&callback=?";VMM.getJSON(f,function(a){var d={},e="<div class='twitter'><blockquote><p>",f=VMM.Util.linkify_with_twitter(a.text,"_blank");if(e+=f,e+="</p>",e+="— "+a.user.name+" (<a href='https://twitter.com/"+a.user.screen_name+"'>@"+a.user.screen_name+"</a>) <a href='https://twitter.com/"+a.user.screen_name+"/status/"+a.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(a.created_at)+" </a></blockquote></div>",d.content=e,d.raw=a,b.push(d),b.length==c){var g={tweetdata:b};VMM.fireEvent(global,"TWEETSLOADED",g)}}).success(function(){trace("second success")}).error(function(){trace("error")}).complete(function(){trace("complete")})}},getTweetSearch:function(a,b){var c=40;null!=b&&""!=b&&(c=b);var d="http://search.twitter.com/search.json?q="+a+"&rpp="+c+"&include_entities=true&result_type=mixed",e=[];VMM.getJSON(d,function(a){for(var b=0;b<a.results.length;b++){var c={},d="<div class='twitter'><blockquote><p>",f=VMM.Util.linkify_with_twitter(a.results[b].text,"_blank");d+=f,d+="</p>",d+="— "+a.results[b].from_user_name+" (<a href='https://twitter.com/"+a.results[b].from_user+"'>@"+a.results[b].from_user+"</a>) <a href='https://twitter.com/"+a.results[b].from_user+"/status/"+a.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(a.results[b].created_at)+" </a></blockquote></div>",c.content=d,c.raw=a.results[b],e.push(c)}var g={tweetdata:e};VMM.fireEvent(global,"TWEETSLOADED",g)})},prettyHTML:function(a,b){var a=a.toString(),c="http://api.twitter.com/1/statuses/show.json?id="+a+"&include_entities=true&callback=?",d=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,a);VMM.getJSON(c,VMM.ExternalAPI.twitter.formatJSON).error(function(b,c){trace("TWITTER error"),trace("TWITTER ERROR: "+c+" "+b.responseText),VMM.attachElement("#twitter_"+a,"<p>ERROR LOADING TWEET "+a+"</p>")}).success(function(a){clearTimeout(d),b&&VMM.ExternalAPI.twitter.secondaryMedia(a)})},formatJSON:function(a){var b=a.id_str,c="<blockquote><p>",d=VMM.Util.linkify_with_twitter(a.text,"_blank");c+=d,c+="</p></blockquote>",c+="<div class='vcard author'>",c+="<a class='screen-name url' href='https://twitter.com/"+a.user.screen_name+"' data-screen-name='"+a.user.screen_name+"' target='_blank'>",c+="<span class='avatar'><img src=' "+a.user.profile_image_url+"'  alt=''></span>",c+="<span class='fn'>"+a.user.name+"</span>",c+="<span class='nickname'>@"+a.user.screen_name+"<span class='thumbnail-inline'></span></span>",c+="</a>",c+="</div>","undefined"!=typeof a.entities.media&&"photo"==a.entities.media[0].type&&(c+="<img src=' "+a.entities.media[0].media_url+"'  alt=''>"),VMM.attachElement("#twitter_"+b.toString(),c),VMM.attachElement("#text_thumb_"+b.toString(),a.text)}},googlemaps:{maptype:"ROADMAP",setMapType:function(a){""!=a&&(VMM.ExternalAPI.googlemaps.maptype=a)},get:function(a){var b,c;a.vars=VMM.Util.getUrlVars(a.id),b=""!=VMM.ExternalAPI.keys.google?VMM.ExternalAPI.keys.google:Aes.Ctr.decrypt(VMM.ExternalAPI.keys_master.google,VMM.ExternalAPI.keys_master.vp,256),c="http://maps.googleapis.com/maps/api/js?key="+b+"&libraries=places&sensor=false&callback=VMM.ExternalAPI.googlemaps.onMapAPIReady",VMM.master_config.googlemaps.active?VMM.master_config.googlemaps.que.push(a):(VMM.master_config.googlemaps.que.push(a),VMM.master_config.googlemaps.api_loaded||LoadLib.js(c,function(){trace("Google Maps API Library Loaded")}))},create:function(a){VMM.ExternalAPI.googlemaps.createAPIMap(a)},createiFrameMap:function(a){var b=a.id+"&output=embed",c="",d=a.uid.toString()+"_gmap";c+="<div class='google-map' id='"+d+"' style='width=100%;height=100%;'>",c+="<iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='"+b+"'></iframe>",c+="</div>",VMM.attachElement("#"+a.uid,c)},createAPIMap:function(a){function b(a){return a in VMM.ExternalAPI.googlemaps.map_providers?(j=VMM.ExternalAPI.googlemaps.map_attribution[VMM.ExternalAPI.googlemaps.map_providers[a].attribution],VMM.ExternalAPI.googlemaps.map_providers[a]):VMM.ExternalAPI.googlemaps.defaultType(a)?(trace("GOOGLE MAP DEFAULT TYPE"),google.maps.MapTypeId[a.toUpperCase()]):(trace("Not a maptype: "+a),void 0)}function c(){var b,c=new google.maps.Geocoder,e=VMM.Util.getUrlVars(a.id).q;if(e.match("loc:")){var f=e.split(":")[1].split("+");m=new google.maps.LatLng(parseFloat(f[0]),parseFloat(f[1])),o=!0}c.geocode({address:e},function(a,c){c==google.maps.GeocoderStatus.OK?(b=new google.maps.Marker({map:g,position:a[0].geometry.location}),"undefined"!=typeof a[0].geometry.viewport?g.fitBounds(a[0].geometry.viewport):"undefined"!=typeof a[0].geometry.bounds?g.fitBounds(a[0].geometry.bounds):g.setCenter(a[0].geometry.location),o&&g.panTo(m),p&&g.setZoom(n)):(trace("Geocode for "+e+" was not successful for the following reason: "+c),trace("TRYING PLACES SEARCH"),o&&g.panTo(m),p&&g.setZoom(n),d())})}function d(){function b(b,d){if(d==google.maps.places.PlacesServiceStatus.OK){for(var e=0;e<b.length;e++);o?g.panTo(m):b.length>=1&&(g.panTo(b[0].geometry.location),p&&g.setZoom(n))}else trace("Place search for "+c.query+" was not successful for the following reason: "+d),trace("YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS"),trace("FIND OUT HOW TO GET YOUR KEY HERE: https://developers.google.com/places/documentation/#Authentication"),o?(g.panTo(m),p&&g.setZoom(n)):(trace("USING SIMPLE IFRAME MAP EMBED"),a.id[0].match("https")&&(a.id=a.url[0].replace("https","http")),VMM.ExternalAPI.googlemaps.createiFrameMap(a))}var c,d,e,f,h;place_search=new google.maps.places.PlacesService(g),d=new google.maps.InfoWindow,c={query:"",types:["country","neighborhood","political","locality","geocode"]},"string"==type.of(VMM.Util.getUrlVars(a.id).q)&&(c.query=VMM.Util.getUrlVars(a.id).q),o?(c.location=m,c.radius="15000"):(f=new google.maps.LatLng(-89.999999,-179.999999),h=new google.maps.LatLng(89.999999,179.999999),e=new google.maps.LatLngBounds(f,h)),place_search.textSearch(c,b)}function e(){var b,c,d,e;b=a.id+"&output=kml",b=b.replace("&output=embed",""),c=new google.maps.KmlLayer(b,{preserveViewport:!0}),d=new google.maps.InfoWindow,c.setMap(g),google.maps.event.addListenerOnce(c,"defaultviewport_changed",function(){o?g.panTo(m):g.fitBounds(c.getDefaultViewport()),p&&g.setZoom(n)}),google.maps.event.addListener(c,"click",function(a){function b(a){d.setContent(a),d.open(g)}e=a.featureData.description,b(e)})}var f,g,h,i,j="",k=a.uid.toString()+"_gmap",l="",m=new google.maps.LatLng(41.875696,-87.624207),n=11,o=!1,p=!1;google.maps.VeriteMapType=function(a){if(VMM.ExternalAPI.googlemaps.defaultType(a))return google.maps.MapTypeId[a.toUpperCase()];var c=b(a);return google.maps.ImageMapType.call(this,{getTileUrl:function(a,b){var d=(b+a.x+a.y)%VMM.ExternalAPI.googlemaps.map_subdomains.length;return[c.url.replace("{S}",VMM.ExternalAPI.googlemaps.map_subdomains[d]).replace("{Z}",b).replace("{X}",a.x).replace("{Y}",a.y).replace("{z}",b).replace("{x}",a.x).replace("{y}",a.y)]},tileSize:new google.maps.Size(256,256),name:a,minZoom:c.minZoom,maxZoom:c.maxZoom})},google.maps.VeriteMapType.prototype=new google.maps.ImageMapType("_"),f=""!=VMM.ExternalAPI.googlemaps.maptype?VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)?google.maps.MapTypeId[VMM.ExternalAPI.googlemaps.maptype.toUpperCase()]:VMM.ExternalAPI.googlemaps.maptype:"toner","string"==type.of(VMM.Util.getUrlVars(a.id).ll)?(o=!0,i=VMM.Util.getUrlVars(a.id).ll.split(","),m=new google.maps.LatLng(parseFloat(i[0]),parseFloat(i[1]))):"string"==type.of(VMM.Util.getUrlVars(a.id).sll)&&(i=VMM.Util.getUrlVars(a.id).sll.split(","),m=new google.maps.LatLng(parseFloat(i[0]),parseFloat(i[1]))),"string"==type.of(VMM.Util.getUrlVars(a.id).z)&&(p=!0,n=parseFloat(VMM.Util.getUrlVars(a.id).z)),h={zoom:n,draggable:!1,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:m,mapTypeId:f,mapTypeControlOptions:{mapTypeIds:[f]}},VMM.attachElement("#"+a.uid,"<div class='google-map' id='"+k+"' style='width=100%;height=100%;'></div>"),g=new google.maps.Map(document.getElementById(k),h),VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)||(g.mapTypes.set(f,new google.maps.VeriteMapType(f)),l="<div class='map-attribution'><div class='attribution-text'>"+j+"</div></div>",VMM.appendElement("#"+k,l)),a.id[0].match("msid")?e():"string"==type.of(VMM.Util.getUrlVars(a.id).q)&&c()},pushQue:function(){for(var a=0;a<VMM.master_config.googlemaps.que.length;a++)VMM.ExternalAPI.googlemaps.create(VMM.master_config.googlemaps.que[a]);VMM.master_config.googlemaps.que=[]},onMapAPIReady:function(){VMM.master_config.googlemaps.map_active=!0,VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){!VMM.master_config.googlemaps.active&&VMM.master_config.googlemaps.map_active&&VMM.master_config.googlemaps.places_active&&(VMM.master_config.googlemaps.active=!0,VMM.ExternalAPI.googlemaps.pushQue())},defaultType:function(a){return"satellite"==a.toLowerCase()||"hybrid"==a.toLowerCase()||"terrain"==a.toLowerCase()||"roadmap"==a.toLowerCase()?!0:!1},map_subdomains:["","a.","b.","c.","d."],map_attribution:{stamen:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>.",apple:"Map data &copy; 2012  Apple, Imagery &copy; 2012 Apple"},map_providers:{toner:{url:"http://{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-lines":{url:"http://{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-labels":{url:"http://{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},sterrain:{url:"http://{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg",minZoom:4,maxZoom:20,attribution:"stamen"},apple:{url:"http://gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_US&z={z}&x={x}&y={y}&v=9",minZoom:4,maxZoom:14,attribution:"apple"},watercolor:{url:"http://{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg",minZoom:3,maxZoom:16,attribution:"stamen"}}},googleplus:{get:function(a){var b={user:a.user,activity:a.id,id:a.uid};VMM.master_config.googleplus.que.push(b),VMM.master_config.googleplus.active=!0},create:function(a,b){var c,d,e="",f="",g="",h="",i="";googleplus_timeout=setTimeout(VMM.ExternalAPI.googleplus.errorTimeOut,VMM.master_config.timers.api,a),callback_timeout=setTimeout(b,VMM.master_config.timers.api,a),f=""!=VMM.master_config.Timeline.api_keys.google?VMM.master_config.Timeline.api_keys.google:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.google,VMM.master_config.vp,256),c="https://www.googleapis.com/plus/v1/people/"+a.user+"/activities/public?alt=json&maxResults=100&fields=items(id,url)&key="+f,e="GOOGLE PLUS API CALL",VMM.getJSON(c,function(b){for(var c=0;c<b.items.length;c++)if(trace("loop"),b.items[c].url.split("posts/")[1]==a.activity){trace("FOUND IT!!"),g=b.items[c].id,d="https://www.googleapis.com/plus/v1/activities/"+g+"?alt=json&key="+f,VMM.getJSON(d,function(b){if(trace(b),"undefined"!=typeof b.annotation?(h+="<div class='googleplus-annotation'>'"+b.annotation+"</div>",h+=b.object.content):h+=b.object.content,"undefined"!=typeof b.object.attachments){for(var c=0;c<b.object.attachments.length;c++)"photo"==b.object.attachments[c].objectType?i="<a href='"+b.object.url+"' target='_blank'>"+"<img src='"+b.object.attachments[c].image.url+"' class='article-thumb'></a>"+i:"video"==b.object.attachments[c].objectType?(i="<img src='"+b.object.attachments[c].image.url+"' class='article-thumb'>"+i,i+="<div>",i+="<a href='"+b.object.attachments[c].url+"' target='_blank'>",i+="<h5>"+b.object.attachments[c].displayName+"</h5>",i+="</a>",i+="</div>"):"article"==b.object.attachments[c].objectType&&(i+="<div>",i+="<a href='"+b.object.attachments[c].url+"' target='_blank'>",i+="<h5>"+b.object.attachments[c].displayName+"</h5>",i+="<p>"+b.object.attachments[c].content+"</p>",i+="</a>",i+="</div>"),trace(b.object.attachments[c]);i="<div class='googleplus-attachments'>"+i+"</div>"}e="<div class='googleplus-content'>"+h+i+"</div>",e+="<div class='vcard author'><a class='screen-name url' href='"+b.url+"' target='_blank'>",e+="<span class='avatar'><img src='"+b.actor.image.url+"' style='max-width: 32px; max-height: 32px;'></span>",e+="<span class='fn'>"+b.actor.displayName+"</span>",e+="<span class='nickname'><span class='thumbnail-inline'></span></span>",e+="</a></div>",VMM.attachElement("#googleplus_"+a.activity,e)});break}}).error(function(b){var c=VMM.parseJSON(b.responseText);trace(c.error.message),VMM.attachElement("#googleplus_"+a.activity,VMM.MediaElement.loadingmessage("<p>ERROR LOADING GOOGLE+ </p><p>"+c.error.message+"</p>"))}).success(function(){clearTimeout(googleplus_timeout),clearTimeout(callback_timeout),b()})},pushQue:function(){VMM.master_config.googleplus.que.length>0&&(VMM.ExternalAPI.googleplus.create(VMM.master_config.googleplus.que[0],VMM.ExternalAPI.googleplus.pushQue),VMM.master_config.googleplus.que.remove(0))},errorTimeOut:function(a){trace("GOOGLE+ JSON ERROR TIMEOUT "+a.activity),VMM.attachElement("#googleplus_"+a.activity,VMM.MediaElement.loadingmessage("<p>Still waiting on GOOGLE+ </p><p>"+a.activity+"</p>"))}},googledocs:{get:function(a){VMM.master_config.googledocs.que.push(a),VMM.master_config.googledocs.active=!0},create:function(a){var b="";b=a.id.match(/docs.google.com/i)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+a.id+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='http://docs.google.com/viewer?url="+a.id+"&amp;embedded=true'></iframe>",VMM.attachElement("#"+a.uid,b)},pushQue:function(){for(var a=0;a<VMM.master_config.googledocs.que.length;a++)VMM.ExternalAPI.googledocs.create(VMM.master_config.googledocs.que[a]);VMM.master_config.googledocs.que=[]}},flickr:{get:function(a){VMM.master_config.flickr.que.push(a),VMM.master_config.flickr.active=!0},create:function(a,b){var c,d=setTimeout(b,VMM.master_config.timers.api,a);c="undefined"!=typeof VMM.master_config.Timeline&&""!=VMM.master_config.Timeline.api_keys.flickr?VMM.master_config.Timeline.api_keys.flickr:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.flickr,VMM.master_config.vp,256);var e="http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+c+"&photo_id="+a.id+"&format=json&jsoncallback=?";VMM.getJSON(e,function(b){var c,d,e=(b.sizes.size[0].url.split("photos/")[1].split("/")[1],"#"+a.uid),f="#"+a.uid+"_thumb",g=!1,h="Large";h=VMM.ExternalAPI.flickr.sizes(VMM.master_config.sizes.api.height);for(var i=0;i<b.sizes.size.length;i++)b.sizes.size[i].label==h&&(g=!0,c=b.sizes.size[i].source);g||(c=b.sizes.size[b.sizes.size.length-2].source),d=b.sizes.size[0].source,VMM.Lib.attr(e,"src",c),VMM.attachElement(f,"<img src='"+d+"'>")}).error(function(a,b){trace("FLICKR error"),trace("FLICKR ERROR: "+b+" "+a.responseText)}).success(function(){clearTimeout(d),b()})},pushQue:function(){VMM.master_config.flickr.que.length>0&&(VMM.ExternalAPI.flickr.create(VMM.master_config.flickr.que[0],VMM.ExternalAPI.flickr.pushQue),VMM.master_config.flickr.que.remove(0))},sizes:function(a){var b="";return b=75>=a?"Thumbnail":180>=a?"Small":240>=a?"Small 320":375>=a?"Medium":480>=a?"Medium 640":600>=a?"Large":"Large"}},instagram:{get:function(a,b){return b?"http://instagr.am/p/"+a.id+"/media/?size=t":"http://instagr.am/p/"+a.id+"/media/?size="+VMM.ExternalAPI.instagram.sizes(VMM.master_config.sizes.api.height)},sizes:function(a){var b="";return b=150>=a?"t":306>=a?"m":"l"}},soundcloud:{get:function(a){VMM.master_config.soundcloud.que.push(a),VMM.master_config.soundcloud.active=!0},create:function(a,b){var c="http://soundcloud.com/oembed?url="+a.id+"&format=js&callback=?";VMM.getJSON(c,function(c){VMM.attachElement("#"+a.uid,c.html),b()})},pushQue:function(){VMM.master_config.soundcloud.que.length>0&&(VMM.ExternalAPI.soundcloud.create(VMM.master_config.soundcloud.que[0],VMM.ExternalAPI.soundcloud.pushQue),VMM.master_config.soundcloud.que.remove(0))}},wikipedia:{get:function(a){VMM.master_config.wikipedia.que.push(a),VMM.master_config.wikipedia.active=!0},create:function(a,b){var c="http://"+a.lang+".wikipedia.org/w/api.php?action=query&prop=extracts&redirects=&titles="+a.id+"&exintro=1&format=json&callback=?";if(callback_timeout=setTimeout(b,VMM.master_config.timers.api,a),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){var d="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+a.id+"' target='_blank'>"+a.url+"</a></h4>";d+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",d+="<p>Wikipedia entry unable to load using Internet Explorer 8 or below.</p>",VMM.attachElement("#"+a.uid,d)}VMM.getJSON(c,function(b){if(b.query){var c,d,e="",f="",g=1,h=[];c=VMM.Util.getObjectAttributeByIndex(b.query.pages,0).extract,d=VMM.Util.getObjectAttributeByIndex(b.query.pages,0).title,c.match("<p>")?h=c.split("<p>"):h.push(c);for(var i=0;i<h.length;i++)g>=i+1&&i+1<h.length&&(f+="<p>"+h[i+1]);e="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+d+"' target='_blank'>"+d+"</a></h4>",e+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",e+=VMM.Util.linkify_wikipedia(f),c.match("REDIRECT")||VMM.attachElement("#"+a.uid,e)}}).error(function(c,d,e){trace("WIKIPEDIA error"),trace("WIKIPEDIA ERROR: "+d+" "+c.responseText),trace(e),VMM.attachElement("#"+a.uid,VMM.MediaElement.loadingmessage("<p>Wikipedia is not responding</p>")),clearTimeout(callback_timeout),VMM.master_config.wikipedia.tries<4?(trace("WIKIPEDIA ATTEMPT "+VMM.master_config.wikipedia.tries),trace(a),VMM.master_config.wikipedia.tries++,VMM.ExternalAPI.wikipedia.create(a,b)):b()}).success(function(){VMM.master_config.wikipedia.tries=0,clearTimeout(callback_timeout),b()})},pushQue:function(){VMM.master_config.wikipedia.que.length>0&&(trace("WIKIPEDIA PUSH QUE "+VMM.master_config.wikipedia.que.length),VMM.ExternalAPI.wikipedia.create(VMM.master_config.wikipedia.que[0],VMM.ExternalAPI.wikipedia.pushQue),VMM.master_config.wikipedia.que.remove(0))}},youtube:{get:function(a){var b="http://gdata.youtube.com/feeds/api/videos/"+a.id+"?v=2&alt=jsonc&callback=?";VMM.master_config.youtube.que.push(a),VMM.master_config.youtube.active||VMM.master_config.youtube.api_loaded||LoadLib.js("http://www.youtube.com/player_api",function(){trace("YouTube API Library Loaded")}),VMM.getJSON(b,function(b){VMM.ExternalAPI.youtube.createThumb(b,a)})},create:function(a){if("undefined"!=typeof a.start){var b=a.start.toString(),c=0,d=0;b.match("m")?(c=parseInt(b.split("m")[0],10),d=parseInt(b.split("m")[1].split("s")[0],10),a.start=60*c+d):a.start=0}else a.start=0;var e={active:!1,player:{},name:a.uid,playing:!1,hd:!1};"undefined"!=typeof a.hd&&(e.hd=!0),e.player[a.id]=new YT.Player(a.uid,{height:"390",width:"640",playerVars:{enablejsapi:1,color:"white",showinfo:0,theme:"light",start:a.start,rel:0},videoId:a.id,events:{onReady:VMM.ExternalAPI.youtube.onPlayerReady,onStateChange:VMM.ExternalAPI.youtube.onStateChange}}),VMM.master_config.youtube.array.push(e)},createThumb:function(a,b){if(trace("CREATE THUMB"),trace(a),trace(b),"undefined"!=typeof a.data){var c="#"+b.uid+"_thumb";VMM.attachElement(c,"<img src='"+a.data.thumbnail.sqDefault+"'>")}},pushQue:function(){for(var a=0;a<VMM.master_config.youtube.que.length;a++)VMM.ExternalAPI.youtube.create(VMM.master_config.youtube.que[a]);VMM.master_config.youtube.que=[]},onAPIReady:function(){VMM.master_config.youtube.active=!0,VMM.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var a=0;a<VMM.master_config.youtube.array.length;a++)if(VMM.master_config.youtube.array[a].playing){var b=VMM.master_config.youtube.array[a].name;VMM.master_config.youtube.array[a].player[b].stopVideo()}},onStateChange:function(a){for(var b=0;b<VMM.master_config.youtube.array.length;b++){var c=VMM.master_config.youtube.array[b].name;VMM.master_config.youtube.array[b].player[c]==a.target&&a.data==YT.PlayerState.PLAYING&&(VMM.master_config.youtube.array[b].playing=!0,trace(VMM.master_config.youtube.array[b].hd),VMM.master_config.youtube.array[b].hd)}},onPlayerReady:function(){}},vimeo:{get:function(a){VMM.master_config.vimeo.que.push(a),VMM.master_config.vimeo.active=!0},create:function(a,b){trace("VIMEO CREATE");var c="http://vimeo.com/api/v2/video/"+a.id+".json",d="http://player.vimeo.com/video/"+a.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff";VMM.getJSON(c,function(c){VMM.ExternalAPI.vimeo.createThumb(c,a),b()}),VMM.attachElement("#"+a.uid,"<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+d+"'></iframe>")},createThumb:function(a,b){trace("VIMEO CREATE THUMB");var c="#"+b.uid+"_thumb";VMM.attachElement(c,"<img src='"+a[0].thumbnail_small+"'>")},pushQue:function(){VMM.master_config.vimeo.que.length>0&&(VMM.ExternalAPI.vimeo.create(VMM.master_config.vimeo.que[0],VMM.ExternalAPI.vimeo.pushQue),VMM.master_config.vimeo.que.remove(0))}},webthumb:{get:function(a){VMM.master_config.webthumb.que.push(a),VMM.master_config.webthumb.active=!0},sizes:function(a){var b="";return b=150>=a?"t":306>=a?"m":"l"},create:function(a){trace("WEB THUMB CREATE");var b="http://pagepeeker.com/t/";url=a.id.replace("http://",""),VMM.attachElement("#"+a.uid,"<a href='"+a.id+"' target='_blank'><img src='"+b+"x/"+url+"'></a>"),VMM.attachElement("#"+a.uid+"_thumb","<a href='"+a.id+"' target='_blank'><img src='"+b+"t/"+url+"'></a>")},pushQue:function(){for(var a=0;a<VMM.master_config.webthumb.que.length;a++)VMM.ExternalAPI.webthumb.create(VMM.master_config.webthumb.que[a]);VMM.master_config.webthumb.que=[]}}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.MediaElement&&(VMM.MediaElement={init:function(){return this},loadingmessage:function(a){return"<div class='vco-loading'><div class='vco-loading-container'><div class='vco-loading-icon'></div><div class='vco-message'><p>"+a+"</p></div></div></div>"},thumbnail:function(a,b,c,d){var e=16,f=24,g="";if(null!=b&&""!=b&&(e=b),null!=c&&""!=c&&(f=c),null!=d&&""!=d&&(g=d),null!=a.media&&""!=a.media){var h="",i=VMM.MediaType(a.media);return null!=a.thumbnail&&""!=a.thumbnail?(trace("CUSTOM THUMB"),h="<div class='thumbnail thumb-custom' id='"+d+"_custom_thumb'><img src='"+a.thumbnail+"'></div>"):h="image"==i.type?"<div class='thumbnail thumb-photo'></div>":"flickr"==i.type?"<div class='thumbnail thumb-photo' id='"+d+"_thumb'></div>":"instagram"==i.type?"<div class='thumbnail thumb-instagram' id='"+d+"_thumb'><img src='"+VMM.ExternalAPI.instagram.get(i.id,!0)+"'></div>":"youtube"==i.type?"<div class='thumbnail thumb-youtube' id='"+d+"_thumb'></div>":"googledoc"==i.type?"<div class='thumbnail thumb-document'></div>":"vimeo"==i.type?"<div class='thumbnail thumb-vimeo' id='"+d+"_thumb'></div>":"dailymotion"==i.type?"<div class='thumbnail thumb-video'></div>":"twitter"==i.type?"<div class='thumbnail thumb-twitter'></div>":"twitter-ready"==i.type?"<div class='thumbnail thumb-twitter'></div>":"soundcloud"==i.type?"<div class='thumbnail thumb-audio'></div>":"google-map"==i.type?"<div class='thumbnail thumb-map'></div>":"googleplus"==i.type?"<div class='thumbnail thumb-googleplus'></div>":"wikipedia"==i.type?"<div class='thumbnail thumb-wikipedia'></div>":"storify"==i.type?"<div class='thumbnail thumb-storify'></div>":"quote"==i.type?"<div class='thumbnail thumb-quote'></div>":"unknown"==i.type?i.id.match("blockquote")?"<div class='thumbnail thumb-quote'></div>":"<div class='thumbnail thumb-plaintext'></div>":"website"==i.type?"<div class='thumbnail thumb-website' id='"+d+"_thumb'></div>":"<div class='thumbnail thumb-plaintext'></div>"}},create:function(a,b){var c=!1,d=VMM.MediaElement.loadingmessage(VMM.master_config.language.messages.loading+"...");if(null!=a.media&&""!=a.media){var e,f="",g="",h="",i="",j=!1;return e=VMM.MediaType(a.media),e.uid=b,c=!0,null!=a.credit&&""!=a.credit&&(h="<div class='credit'>"+VMM.Util.linkify_with_twitter(a.credit,"_blank")+"</div>"),null!=a.caption&&""!=a.caption&&(g="<div class='caption'>"+VMM.Util.linkify_with_twitter(a.caption,"_blank")+"</div>"),"image"==e.type?(e.id.match("https://")&&(e.id=e.id.replace("https://","http://")),f="<div class='media-image media-shadow'><img src='"+e.id+"' class='media-image'></div>"):"flickr"==e.type?(f="<div class='media-image media-shadow'><a href='"+e.link+"' target='_blank'><img id='"+b+"'></a></div>",VMM.ExternalAPI.flickr.get(e)):"instagram"==e.type?f="<div class='media-image media-shadow'><a href='"+e.link+"' target='_blank'><img src='"+VMM.ExternalAPI.instagram.get(e)+"'></a></div>":"googledoc"==e.type?(f="<div class='media-frame media-shadow doc' id='"+e.uid+"'>"+d+"</div>",VMM.ExternalAPI.googledocs.get(e)):"youtube"==e.type?(f="<div class='media-shadow'><div class='media-frame video youtube' id='"+e.uid+"'>"+d+"</div></div>",VMM.ExternalAPI.youtube.get(e)):"vimeo"==e.type?(f="<div class='media-shadow media-frame video vimeo' id='"+e.uid+"'>"+d+"</div>",VMM.ExternalAPI.vimeo.get(e)):"dailymotion"==e.type?f="<div class='media-shadow'><iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='http://www.dailymotion.com/embed/video/"+e.id+"'></iframe></div>":"twitter"==e.type?(f="<div class='twitter' id='"+e.uid+"'>"+d+"</div>",j=!0,VMM.ExternalAPI.twitter.get(e)):"twitter-ready"==e.type?(j=!0,f=e.id):"soundcloud"==e.type?(f="<div class='media-frame media-shadow soundcloud' id='"+e.uid+"'>"+d+"</div>",VMM.ExternalAPI.soundcloud.get(e)):"google-map"==e.type?(f="<div class='media-frame media-shadow map' id='"+e.uid+"'>"+d+"</div>",VMM.ExternalAPI.googlemaps.get(e)):"googleplus"==e.type?(i="googleplus_"+e.id,f="<div class='googleplus' id='"+i+"'>"+d+"</div>",j=!0,VMM.ExternalAPI.googleplus.get(e)):"wikipedia"==e.type?(f="<div class='wikipedia' id='"+e.uid+"'>"+d+"</div>",j=!0,VMM.ExternalAPI.wikipedia.get(e)):"storify"==e.type?(j=!0,f="<div class='plain-text-quote'>"+e.id+"</div>"):"quote"==e.type?(j=!0,f="<div class='plain-text-quote'>"+e.id+"</div>"):"unknown"==e.type?(trace("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML"),j=!0,f="<div class='plain-text'><div class='container'>"+VMM.Util.properQuotes(e.id)+"</div></div>"):"website"==e.type?(f="<div class='media-shadow website' id='"+e.uid+"'>"+d+"</div>",VMM.ExternalAPI.webthumb.get(e)):(trace("NO KNOWN MEDIA TYPE FOUND"),trace(e.type)),f="<div class='media-container' >"+f+h+g+"</div>",j?"<div class='text-media'><div class='media-wrapper'>"+f+"</div></div>":"<div class='media-wrapper'>"+f+"</div>"}}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.MediaType&&(VMM.MediaType=function(a){var b=a.replace(/^\s\s*/,"").replace(/\s\s*$/,""),c=!1,d={type:"unknown",id:"",start:0,hd:!1,link:"",lang:VMM.Language.lang,uniqueid:VMM.Util.unique_ID(6)};if(b.match("div class='twitter'"))d.type="twitter-ready",d.id=b,c=!0;else if(b.match("(www.)?youtube|youtu.be"))d.id=b.match("v=")?VMM.Util.getUrlVars(b).v:b.match("/embed/")?b.split("embed/")[1].split(/[?&]/)[0]:b.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],d.start=VMM.Util.getUrlVars(b).t,d.hd=VMM.Util.getUrlVars(b).hd,d.type="youtube",c=!0;else if(b.match("(player.)?vimeo.com"))d.type="vimeo",d.id=b.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],c=!0;else if(b.match("(www.)?dailymotion.com"))d.id=b.split(/video\/|\/\/dailymotion\.com\//)[1],d.type="dailymotion",c=!0;else if(b.match("(player.)?soundcloud.com"))d.type="soundcloud",d.id=b,c=!0;else if(b.match("(www.)?twitter.com")&&b.match("status"))d.id=b.match("status/")?b.split("status/")[1]:b.match("statuses/")?b.split("statuses/")[1]:"",d.type="twitter",c=!0;else if(b.match("maps.google")&&!b.match("staticmap"))d.type="google-map",d.id=b.split(/src=['|"][^'|"]*?['|"]/gi),c=!0;else if(b.match("plus.google"))d.type="googleplus",d.id=b.split("/posts/")[1],d.user=b.split("/posts/")[0].match("u/0/")?b.split("u/0/")[1].split("/posts")[0]:b.split("google.com/")[1].split("/posts/")[0],c=!0;else if(b.match("flickr.com/photos"))d.type="flickr",d.id=b.split("photos/")[1].split("/")[1],d.link=b,c=!0;else if(b.match("instagr.am/p/"))d.type="instagram",d.link=b,d.id=b.split("/p/")[1].split("/")[0],c=!0;else if(b.match(/jpg|jpeg|png|gif/i)||b.match("staticmap")||b.match("yfrog.com")||b.match("twitpic.com"))d.type="image",d.id=b,c=!0;else if(VMM.FileExtention.googleDocType(b))d.type="googledoc",d.id=b,c=!0;else if(b.match("(www.)?wikipedia.org")){d.type="wikipedia";var e=b.split("wiki/")[1].split("#")[0].replace("_"," ");d.id=e.replace(" ","%20"),d.lang=b.split("//")[1].split(".wikipedia")[0],c=!0}else 0==b.indexOf("http://")?(d.type="website",d.id=b,c=!0):b.match("storify")?(d.type="storify",d.id=b,c=!0):b.match("blockquote")?(d.type="quote",d.id=b,c=!0):(trace("unknown media"),d.type="unknown",d.id=b,c=!0);return c?d:(trace("No valid media id detected"),trace(b),!1)}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.TextElement&&(VMM.TextElement={init:function(){return this},create:function(a){return a}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.DragSlider&&(VMM.DragSlider=function(){function a(a,e){VMM.bindEvent(a,c,l.down,{element:e,delement:a}),VMM.bindEvent(a,d,l.up,{element:e,delement:a}),VMM.bindEvent(a,b,l.leave,{element:e,delement:a})}function b(a){return VMM.unbindEvent(a.data.delement,e,l.move),k.touch||a.preventDefault(),a.stopPropagation(),k.sliding?(k.sliding=!1,g(a.data.element,a.data.delement,a),!1):!0}function c(a){return f(a.data.element,a.data.delement,a),k.touch||a.preventDefault(),a.stopPropagation(),!0}function d(a){return k.touch||a.preventDefault(),a.stopPropagation(),k.sliding?(k.sliding=!1,g(a.data.element,a.data.delement,a),!1):!0}function e(a){return h(a.data.element,a),Math.abs(k.left.start)>j(elem),!1}function f(a,b,c){k.touch?(trace("IS TOUCH"),VMM.Lib.css(a,"-webkit-transition-duration","0"),k.pagex.start=c.originalEvent.touches[0].screenX):k.pagex.start=c.pageX,k.left.start=j(a),k.time.start=(new Date).getTime(),VMM.Lib.stop(a),VMM.bindEvent(b,e,l.move,{element:a})}function g(a,b,c){VMM.unbindEvent(b,e,l.move),i(a,c)}function h(a,b){var c;k.sliding=!0,k.pagex.end=k.touch?b.originalEvent.touches[0].screenX:b.pageX,k.left.end=j(a),c=-(k.pagex.start-k.pagex.end-k.left.start),Math.abs(c-k.left.start)>10&&(VMM.Lib.css(a,"left",c),b.preventDefault(),b.stopPropagation())}function i(a){var b={left:k.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-k.time.start),time_adjust:10*((new Date).getTime()-k.time.start)},c=3e3;k.touch&&(c=6e3),b.change.x=c*(Math.abs(k.pagex.end)-Math.abs(k.pagex.start)),b.left_adjust=Math.round(b.change.x/b.time),b.left=Math.min(b.left+b.left_adjust),k.constraint&&(b.left>k.constraint.left?(b.left=k.constraint.left,b.time>5e3&&(b.time=5e3)):b.left<k.constraint.right&&(b.left=k.constraint.right,b.time>5e3&&(b.time=5e3))),VMM.fireEvent(o,"DRAGUPDATE",[b]),p||b.time>0&&(k.touch?VMM.Lib.animate(a,b.time,"easeOutCirc",{left:b.left}):VMM.Lib.animate(a,b.time,k.ease,{left:b.left}))}function j(a){return parseInt(VMM.Lib.css(a,"left").substring(0,VMM.Lib.css(a,"left").length-2),10)}var k={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},l={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},m={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},n={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},o=this,p=!1;
this.createPanel=function(b,c,d,e,f){k.element=b,k.element_move=c,null!=f&&""!=f&&(p=f),k.constraint=null!=d&&""!=d?d:!1,k.touch=e?e:!1,trace("TOUCH"+k.touch),l=k.touch?n:m,a(k.element,k.element_move)},this.updateConstraint=function(a){trace("updateConstraint"),k.constraint=a},this.cancelSlide=function(){return VMM.unbindEvent(k.element,e,l.move),!0}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Slider&&(VMM.Slider=function(a,b){function c(a,b){var c=!0,d=!1;null!=a&&(c=a),null!=b&&(d=b),F=t.slider.width,t.slider.nav.height=VMM.Lib.height(I.prevBtnContainer),t.slider.content.padding="mobile"==VMM.Browser.device||640>=F?10:t.slider.content.padding_default,t.slider.content.width=F-2*t.slider.content.padding,VMM.Lib.width(y,C.length*t.slider.content.width),d&&VMM.Lib.css(x,"left",C[E].leftpos()),m(),J(),VMM.Lib.css(I.nextBtn,"left",F-t.slider.nav.width),VMM.Lib.height(I.prevBtn,t.slider.height),VMM.Lib.height(I.nextBtn,t.slider.height),VMM.Lib.css(I.nextBtnContainer,"top",t.slider.height/2-t.slider.nav.height/2+10),VMM.Lib.css(I.prevBtnContainer,"top",t.slider.height/2-t.slider.nav.height/2+10),VMM.Lib.height(w,t.slider.height),VMM.Lib.width(w,F),c&&n(E,"linear",1),0==E&&VMM.Lib.visible(I.prevBtn,!1)}function d(a,b){trace("DRAG FINISH"),trace(b.left_adjust),trace(t.slider.width/2),b.left_adjust<0?Math.abs(b.left_adjust)>t.slider.width/2?E==C.length-1?o():(n(E+1,"easeOutExpo"),i()):o():Math.abs(b.left_adjust)>t.slider.width/2?0==E?o():(n(E-1,"easeOutExpo"),i()):o()}function e(){E==C.length-1?o():(n(E+1),i())}function f(){0==E?o():(n(E-1),i())}function g(a){switch(a.keyCode){case 39:e(a);break;case 37:f(a)}}function h(){q()}function i(){t.current_slide=E,VMM.fireEvent(H,"UPDATE")}function j(a){var b=0;for(VMM.attachElement(y,""),C=[],b=0;b<a.length;b++){var c=new VMM.Slider.Slide(a[b],y);C.push(c)}}function k(a){var b=0;if(a)l();else{for(b=0;b<C.length;b++)C[b].clearTimers();u=setTimeout(l,t.duration)}}function l(){var a=0;for(a=0;a<C.length;a++)C[a].enqueue=!0;for(a=0;a<t.preload;a++)E+a>C.length-1||(C[E+a].show(),C[E+a].enqueue=!1),0>E-a||(C[E-a].show(),C[E-a].enqueue=!1);if(C.length>50)for(a=0;a<C.length;a++)C[a].enqueue&&C[a].hide();m()}function m(){var a=0,b=".slider-item .layout-text-media .media .media-container ",c=".slider-item .layout-media .media .media-container ",d=".slider-item .media .media-container",e=!1,f={text_media:{width:60*(t.slider.content.width/100),height:t.slider.height-60,video:{width:0,height:0},text:{width:40*(t.slider.content.width/100)-30,height:t.slider.height}},media:{width:t.slider.content.width,height:t.slider.height-110,video:{width:0,height:0}}};for(("mobile"==VMM.Browser.device||640>=F)&&(e=!0),VMM.master_config.sizes.api.width=f.media.width,VMM.master_config.sizes.api.height=f.media.height,f.text_media.video=VMM.Util.ratio.fit(f.text_media.width,f.text_media.height,16,9),f.media.video=VMM.Util.ratio.fit(f.media.width,f.media.height,16,9),VMM.Lib.css(".slider-item","width",t.slider.content.width),VMM.Lib.height(".slider-item",t.slider.height),e?(f.text_media.width=t.slider.content.width-2*t.slider.content.padding,f.media.width=t.slider.content.width-2*t.slider.content.padding,f.text_media.height=50*(t.slider.height/100)-50,f.media.height=70*(t.slider.height/100)-40,f.text_media.video=VMM.Util.ratio.fit(f.text_media.width,f.text_media.height,16,9),f.media.video=VMM.Util.ratio.fit(f.media.width,f.media.height,16,9),VMM.Lib.css(".slider-item .layout-text-media .text","width","100%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width",f.media.width),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .media","float","none"),VMM.Lib.addClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .media blockquote p","line-height","18px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","16px"),VMM.Lib.css(".slider-item","overflow-y","auto")):(VMM.Lib.css(".slider-item .layout-text-media .text","width","40%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width",f.text_media.text.width),VMM.Lib.removeClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .layout-text-media .media","float","left"),VMM.Lib.css(".slider-item .layout-text-media","display","table"),VMM.Lib.css(".slider-item .media blockquote p","line-height","36px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","28px"),VMM.Lib.css(".slider-item","display","table"),VMM.Lib.css(".slider-item","overflow-y","auto")),VMM.Lib.css(b+".media-frame","max-width",f.text_media.width),VMM.Lib.height(b+".media-frame",f.text_media.height),VMM.Lib.width(b+".media-frame",f.text_media.width),VMM.Lib.css(b+"img","max-height",f.text_media.height),VMM.Lib.css(c+"img","max-height",f.media.height),VMM.Lib.css(b+"img","max-width",f.text_media.width),VMM.Lib.css(b+".avatar img","max-width",32),VMM.Lib.css(b+".avatar img","max-height",32),VMM.Lib.css(c+".avatar img","max-width",32),VMM.Lib.css(c+".avatar img","max-height",32),VMM.Lib.css(b+".article-thumb","max-width","50%"),VMM.Lib.css(c+".article-thumb","max-width",200),VMM.Lib.width(b+".media-frame",f.text_media.video.width),VMM.Lib.height(b+".media-frame",f.text_media.video.height),VMM.Lib.width(c+".media-frame",f.media.video.width),VMM.Lib.height(c+".media-frame",f.media.video.height),VMM.Lib.css(c+".media-frame","max-height",f.media.video.height),VMM.Lib.css(c+".media-frame","max-width",f.media.video.width),VMM.Lib.height(c+".soundcloud",168),VMM.Lib.height(b+".soundcloud",168),VMM.Lib.width(c+".soundcloud",f.media.width),VMM.Lib.width(b+".soundcloud",f.text_media.width),VMM.Lib.css(d+".soundcloud","max-height",168),VMM.Lib.height(b+".map",f.text_media.height),VMM.Lib.width(b+".map",f.text_media.width),VMM.Lib.css(c+".map","max-height",f.media.height),VMM.Lib.width(c+".map",f.media.width),VMM.Lib.height(b+".doc",f.text_media.height),VMM.Lib.width(b+".doc",f.text_media.width),VMM.Lib.height(c+".doc",f.media.height),VMM.Lib.width(c+".doc",f.media.width),VMM.Lib.width(c+".wikipedia",f.media.width),VMM.Lib.width(c+".twitter",f.media.width),VMM.Lib.width(c+".plain-text-quote",f.media.width),VMM.Lib.width(c+".plain-text",f.media.width),VMM.Lib.css(d,"max-width",f.media.width),VMM.Lib.css(b+".caption","max-width",f.text_media.video.width),VMM.Lib.css(c+".caption","max-width",f.media.video.width),a=0;a<C.length;a++)C[a].layout(e),C[a].content_height()>t.slider.height+20?C[a].css("display","block"):C[a].css("display","table")}function n(a,b,c,d,e){var f,g=t.ease,h=t.duration,i=!1,j=!1,l="";if(VMM.ExternalAPI.youtube.stopPlayers(),E=a,f=C[E].leftpos(),0==E&&(j=!0),E+1>=C.length&&(i=!0),null!=b&&""!=b&&(g=b),null!=c&&""!=c&&(h=c),"mobile"==VMM.Browser.device?(VMM.Lib.visible(I.prevBtn,!1),VMM.Lib.visible(I.nextBtn,!1)):(j?VMM.Lib.visible(I.prevBtn,!1):(VMM.Lib.visible(I.prevBtn,!0),l=VMM.Util.unlinkify(B[E-1].title),"timeline"==t.type?"undefined"==typeof B[E-1].date?(VMM.attachElement(I.prevDate,l),VMM.attachElement(I.prevTitle,"")):(VMM.attachElement(I.prevDate,VMM.Date.prettyDate(B[E-1].startdate)),VMM.attachElement(I.prevTitle,l)):VMM.attachElement(I.prevTitle,l)),i?VMM.Lib.visible(I.nextBtn,!1):(VMM.Lib.visible(I.nextBtn,!0),l=VMM.Util.unlinkify(B[E+1].title),"timeline"==t.type?"undefined"==typeof B[E+1].date?(VMM.attachElement(I.nextDate,l),VMM.attachElement(I.nextTitle,"")):(VMM.attachElement(I.nextDate,VMM.Date.prettyDate(B[E+1].startdate)),VMM.attachElement(I.nextTitle,l)):VMM.attachElement(I.nextTitle,l))),d?VMM.Lib.css(x,"left",-(f-t.slider.content.padding)):(VMM.Lib.stop(x),VMM.Lib.animate(x,h,g,{left:-(f-t.slider.content.padding)})),e&&VMM.fireEvent(H,"LOADED"),C[E].height()>t.slider_height)VMM.Lib.css(".slider","overflow-y","scroll");else{VMM.Lib.css(H,"overflow-y","hidden");var m=0;try{m=VMM.Lib.prop(H,"scrollHeight"),VMM.Lib.animate(H,h,g,{scrollTop:m-VMM.Lib.height(H)})}catch(n){m=VMM.Lib.height(H)}}k(),VMM.fireEvent(v,"MESSAGE","TEST")}function o(){VMM.Lib.stop(x),VMM.Lib.animate(x,t.duration,"easeOutExpo",{left:-C[E].leftpos()+t.slider.content.padding})}function p(a,b){trace("showMessege "+b),VMM.attachElement(A,"<div class='vco-explainer'><div class='vco-explainer-container'><div class='vco-bezel'><div class='vco-gesture-icon'></div><div class='vco-message'><p>"+b+"</p></div></div></div></div>")}function q(){VMM.Lib.detach(A)}function r(){var a="<div class='icon'>&nbsp;</div>";I.nextBtn=VMM.appendAndGetElement(v,"<div>","nav-next"),I.prevBtn=VMM.appendAndGetElement(v,"<div>","nav-previous"),I.nextBtnContainer=VMM.appendAndGetElement(I.nextBtn,"<div>","nav-container",a),I.prevBtnContainer=VMM.appendAndGetElement(I.prevBtn,"<div>","nav-container",a),"timeline"==t.type&&(I.nextDate=VMM.appendAndGetElement(I.nextBtnContainer,"<div>","date",""),I.prevDate=VMM.appendAndGetElement(I.prevBtnContainer,"<div>","date","")),I.nextTitle=VMM.appendAndGetElement(I.nextBtnContainer,"<div>","title",""),I.prevTitle=VMM.appendAndGetElement(I.prevBtnContainer,"<div>","title",""),VMM.bindEvent(".nav-next",e),VMM.bindEvent(".nav-previous",f),VMM.bindEvent(window,g,"keydown")}function s(){var a=3e3;VMM.attachElement(H,""),v=VMM.getElement(H),w=VMM.appendAndGetElement(v,"<div>","slider-container-mask"),x=VMM.appendAndGetElement(w,"<div>","slider-container"),y=VMM.appendAndGetElement(x,"<div>","slider-item-container"),r(),j(B),("tablet"==VMM.Browser.device||"mobile"==VMM.Browser.device)&&(t.duration=500,a=1e3,z=new VMM.DragSlider,z.createPanel(v,x,"",t.touch,!0),VMM.bindEvent(z,d,"DRAGUPDATE"),A=VMM.appendAndGetElement(w,"<div>","vco-feedback",""),p(null,"Swipe to Navigate"),VMM.Lib.height(A,t.slider.height),VMM.bindEvent(A,h)),c(!1,!0),VMM.Lib.visible(I.prevBtn,!1),n(t.current_slide,"easeOutExpo",a,!0,!0),G=!0}var t,u,v,w,x,y,z,A,B=[],C=[],D=[],E=0,F=960,G=!1,H=a,I={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};t="undefined"!=typeof b?b:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}},this.ver="0.6",t.slider.width=t.width,t.slider.height=t.height,this.init=function(a){C=[],D=[],"undefined"!=typeof a?this.setData(a):trace("WAITING ON DATA")},this.width=function(a){return null==a||""==a?t.slider.width:(t.slider.width=a,c(),void 0)},this.height=function(a){return null==a||""==a?t.slider.height:(t.slider.height=a,c(),void 0)},this.setData=function(a){"undefined"!=typeof a?(B=a,s()):trace("NO DATA")},this.getData=function(){return B},this.setConfig=function(a){"undefined"!=typeof a?t=a:trace("NO CONFIG DATA")},this.getConfig=function(){return t},this.setSize=function(a,b){null!=a&&(t.slider.width=a),null!=b&&(t.slider.height=b),G&&c()},this.active=function(){return G},this.getCurrentNumber=function(){return E},this.setSlide=function(a){n(a)};var J=function(){var a=0,b=0;for(b=0;b<C.length;b++)a=b*(t.slider.width+t.spacing),C[b].leftpos(a)}}),"undefined"!=typeof VMM.Slider&&(VMM.Slider.Slide=function(a,b){var c,d,e,f,g,h,i=a,g="",j=!1,k=!1,l=!1,m=!0,n=!1,o="slide_",p={pushque:"",render:"",relayout:"",remove:"",skinny:!1},q={pushque:500,render:100,relayout:100,remove:3e4};o+=i.uniqueid,this.enqueue=m,this.id=o,g=VMM.appendAndGetElement(b,"<div>","slider-item"),h={slide:"",text:"",media:"",media_element:"",layout:"content-container layout",has:{headline:!1,text:!1,media:!1}},this.show=function(a){m=!1,p.skinny=a,n=!1,clearTimeout(p.remove),j||(k?(clearTimeout(p.relayout),p.relayout=setTimeout(t,q.relayout)):r(a))},this.hide=function(){j&&!n&&(n=!0,clearTimeout(p.remove),p.remove=setTimeout(s,q.remove))},this.clearTimers=function(){clearTimeout(p.relayout),clearTimeout(p.pushque),clearTimeout(p.render)},this.layout=function(a){j&&k&&u(a)},this.elem=function(){return g},this.position=function(){return VMM.Lib.position(g)},this.leftpos=function(a){return"undefined"==typeof a?VMM.Lib.position(g).left:(VMM.Lib.css(g,"left",a),void 0)},this.animate=function(a,b,c){VMM.Lib.animate(g,a,b,c)},this.css=function(a,b){VMM.Lib.css(g,a,b)},this.opacity=function(a){VMM.Lib.css(g,"opacity",a)},this.width=function(){return VMM.Lib.width(g)},this.height=function(){return VMM.Lib.height(g)},this.content_height=function(){var a=VMM.Lib.find(g,".content")[0];return"undefined"!=a&&null!=a?VMM.Lib.height(a):0};var r=function(a){trace("RENDER "+o),j=!0,k=!0,p.skinny=a,v(),clearTimeout(p.pushque),clearTimeout(p.render),p.pushque=setTimeout(VMM.ExternalAPI.pushQues,q.pushque)},s=function(){trace("REMOVE SLIDE TIMER FINISHED"),j=!1,VMM.Lib.detach(d),VMM.Lib.detach(c)},t=function(){j=!0,u(p.skinny,!0)},u=function(a,b){h.has.text?a?(!l||b)&&(VMM.Lib.removeClass(e,"pad-left"),VMM.Lib.detach(d),VMM.Lib.detach(c),VMM.Lib.append(e,d),VMM.Lib.append(e,c),l=!0):(l||b)&&(VMM.Lib.addClass(e,"pad-left"),VMM.Lib.detach(d),VMM.Lib.detach(c),VMM.Lib.append(e,c),VMM.Lib.append(e,d),l=!1):b&&(h.has.headline&&(VMM.Lib.detach(d),VMM.Lib.append(e,d)),VMM.Lib.detach(c),VMM.Lib.append(e,c))},v=function(){if(trace("BUILDSLIDE"),f=VMM.appendAndGetElement(g,"<div>","content"),e=VMM.appendAndGetElement(f,"<div>"),null!=i.startdate&&""!=i.startdate&&"date"==type.of(i.startdate)&&"start"!=i.type){var a=VMM.Date.prettyDate(i.startdate),b=VMM.Date.prettyDate(i.enddate),j="";null!=i.tag&&""!=i.tag&&(j=VMM.createElement("span",i.tag,"slide-tag")),h.text+=a!=b?VMM.createElement("h2",a+" &mdash; "+b+j,"date"):VMM.createElement("h2",a+j,"date")}null!=i.headline&&""!=i.headline&&(h.has.headline=!0,h.text+="start"==i.type?VMM.createElement("h2",VMM.Util.linkify_with_twitter(i.headline,"_blank"),"start"):VMM.createElement("h3",VMM.Util.linkify_with_twitter(i.headline,"_blank"))),null!=i.text&&""!=i.text&&(h.has.text=!0,h.text+=VMM.createElement("p",VMM.Util.linkify_with_twitter(i.text,"_blank"))),(h.has.text||h.has.headline)&&(h.text=VMM.createElement("div",h.text,"container"),d=VMM.appendAndGetElement(e,"<div>","text",VMM.TextElement.create(h.text))),i.needs_slug,null!=i.asset&&""!=i.asset&&null!=i.asset.media&&""!=i.asset.media&&(h.has.media=!0,c=VMM.appendAndGetElement(e,"<div>","media",VMM.MediaElement.create(i.asset,i.uniqueid))),h.has.text&&(h.layout+="-text"),h.has.media&&(h.layout+="-media"),h.has.text?p.skinny?(VMM.Lib.addClass(e,h.layout),l=!0):(VMM.Lib.addClass(e,h.layout),VMM.Lib.addClass(e,"pad-left"),VMM.Lib.detach(d),VMM.Lib.append(e,d)):VMM.Lib.addClass(e,h.layout)}});var Aes={};Aes.cipher=function(a,b){for(var c=4,d=b.length/c-1,e=[[],[],[],[]],f=0;4*c>f;f++)e[f%4][Math.floor(f/4)]=a[f];e=Aes.addRoundKey(e,b,0,c);for(var g=1;d>g;g++)e=Aes.subBytes(e,c),e=Aes.shiftRows(e,c),e=Aes.mixColumns(e,c),e=Aes.addRoundKey(e,b,g,c);e=Aes.subBytes(e,c),e=Aes.shiftRows(e,c),e=Aes.addRoundKey(e,b,d,c);for(var h=new Array(4*c),f=0;4*c>f;f++)h[f]=e[f%4][Math.floor(f/4)];return h},Aes.keyExpansion=function(a){for(var b=4,c=a.length/4,d=c+6,e=new Array(b*(d+1)),f=new Array(4),g=0;c>g;g++){var h=[a[4*g],a[4*g+1],a[4*g+2],a[4*g+3]];e[g]=h}for(var g=c;b*(d+1)>g;g++){e[g]=new Array(4);for(var i=0;4>i;i++)f[i]=e[g-1][i];if(0==g%c){f=Aes.subWord(Aes.rotWord(f));for(var i=0;4>i;i++)f[i]^=Aes.rCon[g/c][i]}else c>6&&4==g%c&&(f=Aes.subWord(f));for(var i=0;4>i;i++)e[g][i]=e[g-c][i]^f[i]}return e},Aes.subBytes=function(a,b){for(var c=0;4>c;c++)for(var d=0;b>d;d++)a[c][d]=Aes.sBox[a[c][d]];return a},Aes.shiftRows=function(a,b){for(var c=new Array(4),d=1;4>d;d++){for(var e=0;4>e;e++)c[e]=a[d][(e+d)%b];for(var e=0;4>e;e++)a[d][e]=c[e]}return a},Aes.mixColumns=function(a){for(var b=0;4>b;b++){for(var c=new Array(4),d=new Array(4),e=0;4>e;e++)c[e]=a[e][b],d[e]=128&a[e][b]?283^a[e][b]<<1:a[e][b]<<1;a[0][b]=d[0]^c[1]^d[1]^c[2]^c[3],a[1][b]=c[0]^d[1]^c[2]^d[2]^c[3],a[2][b]=c[0]^c[1]^d[2]^c[3]^d[3],a[3][b]=c[0]^d[0]^c[1]^c[2]^d[3]}return a},Aes.addRoundKey=function(a,b,c,d){for(var e=0;4>e;e++)for(var f=0;d>f;f++)a[e][f]^=b[4*c+f][e];return a},Aes.subWord=function(a){for(var b=0;4>b;b++)a[b]=Aes.sBox[a[b]];return a},Aes.rotWord=function(a){for(var b=a[0],c=0;3>c;c++)a[c]=a[c+1];return a[3]=b,a},Aes.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Aes.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Aes.Ctr={},Aes.Ctr.encrypt=function(a,b,c){var d=16;if(128!=c&&192!=c&&256!=c)return"";a=Utf8.encode(a),b=Utf8.encode(b);for(var e=c/8,f=new Array(e),g=0;e>g;g++)f[g]=isNaN(b.charCodeAt(g))?0:b.charCodeAt(g);var h=Aes.cipher(f,Aes.keyExpansion(f));h=h.concat(h.slice(0,e-16));for(var i=new Array(d),j=(new Date).getTime(),k=j%1e3,l=Math.floor(j/1e3),m=Math.floor(65535*Math.random()),g=0;2>g;g++)i[g]=255&k>>>8*g;for(var g=0;2>g;g++)i[g+2]=255&m>>>8*g;for(var g=0;4>g;g++)i[g+4]=255&l>>>8*g;for(var n="",g=0;8>g;g++)n+=String.fromCharCode(i[g]);for(var o=Aes.keyExpansion(h),p=Math.ceil(a.length/d),q=new Array(p),r=0;p>r;r++){for(var s=0;4>s;s++)i[15-s]=255&r>>>8*s;for(var s=0;4>s;s++)i[15-s-4]=r/4294967296>>>8*s;for(var t=Aes.cipher(i,o),u=p-1>r?d:(a.length-1)%d+1,v=new Array(u),g=0;u>g;g++)v[g]=t[g]^a.charCodeAt(r*d+g),v[g]=String.fromCharCode(v[g]);q[r]=v.join("")}var w=n+q.join("");return w=Base64.encode(w)},Aes.Ctr.decrypt=function(a,b,c){var d=16;if(128!=c&&192!=c&&256!=c)return"";a=Base64.decode(a),b=Utf8.encode(b);for(var e=c/8,f=new Array(e),g=0;e>g;g++)f[g]=isNaN(b.charCodeAt(g))?0:b.charCodeAt(g);var h=Aes.cipher(f,Aes.keyExpansion(f));h=h.concat(h.slice(0,e-16));var i=new Array(8);ctrTxt=a.slice(0,8);for(var g=0;8>g;g++)i[g]=ctrTxt.charCodeAt(g);for(var j=Aes.keyExpansion(h),k=Math.ceil((a.length-8)/d),l=new Array(k),m=0;k>m;m++)l[m]=a.slice(8+m*d,8+m*d+d);a=l;for(var n=new Array(a.length),m=0;k>m;m++){for(var o=0;4>o;o++)i[15-o]=255&m>>>8*o;for(var o=0;4>o;o++)i[15-o-4]=255&(m+1)/4294967296-1>>>8*o;for(var p=Aes.cipher(i,j),q=new Array(a[m].length),g=0;g<a[m].length;g++)q[g]=p[g]^a[m].charCodeAt(g),q[g]=String.fromCharCode(q[g]);n[m]=q.join("")}var r=n.join("");return r=Utf8.decode(r)};var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.encode=function(a,b){b="undefined"==typeof b?!1:b;var c,d,e,f,g,h,i,j,k,l,m,n=[],o="",p=Base64.code;if(l=b?a.encodeUTF8():a,k=l.length%3,k>0)for(;k++<3;)o+="=",l+="\0";for(k=0;k<l.length;k+=3)c=l.charCodeAt(k),d=l.charCodeAt(k+1),e=l.charCodeAt(k+2),f=c<<16|d<<8|e,g=63&f>>18,h=63&f>>12,i=63&f>>6,j=63&f,n[k/3]=p.charAt(g)+p.charAt(h)+p.charAt(i)+p.charAt(j);return m=n.join(""),m=m.slice(0,m.length-o.length)+o},Base64.decode=function(a,b){b="undefined"==typeof b?!1:b;var c,d,e,f,g,h,i,j,k,l,m=[],n=Base64.code;l=b?a.decodeUTF8():a;for(var o=0;o<l.length;o+=4)f=n.indexOf(l.charAt(o)),g=n.indexOf(l.charAt(o+1)),h=n.indexOf(l.charAt(o+2)),i=n.indexOf(l.charAt(o+3)),j=f<<18|g<<12|h<<6|i,c=255&j>>>16,d=255&j>>>8,e=255&j,m[o/4]=String.fromCharCode(c,d,e),64==i&&(m[o/4]=String.fromCharCode(c,d)),64==h&&(m[o/4]=String.fromCharCode(c));return k=m.join(""),b?k.decodeUTF8():k};var Utf8={};Utf8.encode=function(a){var b=a.replace(/[\u0080-\u07ff]/g,function(a){var b=a.charCodeAt(0);return String.fromCharCode(192|b>>6,128|63&b)});return b=b.replace(/[\u0800-\uffff]/g,function(a){var b=a.charCodeAt(0);return String.fromCharCode(224|b>>12,128|63&b>>6,128|63&b)})},Utf8.decode=function(a){var b=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){var b=(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2);return String.fromCharCode(b)});return b=b.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){var b=(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1);return String.fromCharCode(b)})},!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,"manual"!=this.options.trigger&&(e="hover"==this.options.trigger?"mouseenter":"focus",f="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(e,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);c.options.delay&&c.options.delay.show?(c.hoverState="in",setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);c.options.delay&&c.options.delay.hide?(c.hoverState="out",setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){switch(a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight,b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip();a.find(".tooltip-inner").html(this.getTitle()),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var c=this.tip();c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title),a=a.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),"undefined"!=typeof VMM&&"undefined"==typeof VMM.StoryJS&&(VMM.StoryJS=function(){this.init=function(){}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Timeline&&(VMM.Timeline=function(a,b,c){function d(a){"object"==typeof embed_config&&(timeline_config=embed_config),"object"==typeof timeline_config?(trace("HAS TIMELINE CONFIG"),K=VMM.Util.mergeConfig(K,timeline_config)):"object"==typeof a&&(K=VMM.Util.mergeConfig(K,a)),("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device)&&(K.touch=!0),K.nav.width=K.width,K.nav.height=200,K.feature.width=K.width,K.feature.height=K.height-K.nav.height,K.nav.zoom.adjust=parseInt(K.start_zoom_adjust,10),VMM.Timeline.Config=K,VMM.master_config.Timeline=VMM.Timeline.Config,this.events=K.events,""!=K.gmap_key&&(K.api_keys.google=K.gmap_key),trace("VERSION "+K.version),G=K.version}function e(){y=VMM.getElement(H),VMM.Lib.addClass(y,"vco-timeline"),VMM.Lib.addClass(y,"vco-storyjs"),z=VMM.appendAndGetElement(y,"<div>","vco-container vco-main"),A=VMM.appendAndGetElement(z,"<div>","vco-feature"),C=VMM.appendAndGetElement(A,"<div>","vco-slider"),D=VMM.appendAndGetElement(z,"<div>","vco-navigation"),B=VMM.appendAndGetElement(y,"<div>","vco-feedback",""),"undefined"!=typeof K.language.right_to_left&&VMM.Lib.addClass(y,"vco-right-to-left"),E=new VMM.Slider(C,K),F=new VMM.Timeline.TimeNav(D),L?VMM.Lib.width(y,K.width):K.width=VMM.Lib.width(y),M?VMM.Lib.height(y,K.height):K.height=VMM.Lib.height(y),K.touch?VMM.Lib.addClass(y,"vco-touch"):VMM.Lib.addClass(y,"vco-notouch")}function f(a,b){trace("onDataReady"),I=b.timeline,"array"!=type.of(I.era)&&(I.era=[]),x()}function g(){v()}function h(){w(),E.setSize(K.feature.width,K.feature.height),F.setSize(K.width,K.height),r()&&p()}function i(){K.loaded.slider=!0,j()}function j(){K.loaded.percentloaded=K.loaded.percentloaded+25,K.loaded.slider&&K.loaded.timenav&&t()}function k(){K.loaded.timenav=!0,j()}function l(){O=!0,K.current_slide=E.getCurrentNumber(),o(K.current_slide),F.setMarker(K.current_slide,K.ease,K.duration)}function m(){O=!0,K.current_slide=F.getCurrentNumber(),o(K.current_slide),E.setSlide(K.current_slide)}function n(a){a<=J.length-1&&a>=0&&(K.current_slide=a,E.setSlide(K.current_slide),F.setMarker(K.current_slide,K.ease,K.duration))}function o(a){K.hash_bookmark&&(window.location.hash="#"+a.toString())}function p(){var a="",b=q(window.orientation);"mobile"==VMM.Browser.device?a="portrait"==b?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"landscape"==b?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"width=device-width, initial-scale=1, maximum-scale=1.0":"tablet"==VMM.Browser.device,document.getElementById("viewport")}function q(a){var b="";return b=0==a||180==a?"portrait":90==a||-90==a?"landscape":"normal"}function r(){var a=q(window.orientation);return a==K.orientation?!1:(K.orientation=a,!0)}function s(a,b,c){trace("showMessege "+b),c?VMM.attachElement(B,b):VMM.attachElement(B,VMM.MediaElement.loadingmessage(b))}function t(){VMM.Lib.animate(B,K.duration,4*K.ease,{opacity:0},u)}function u(){VMM.Lib.detach(B)}function v(){parseInt(K.start_at_slide)>0&&0==K.current_slide&&(K.current_slide=parseInt(K.start_at_slide)),K.start_at_end&&0==K.current_slide&&(K.current_slide=J.length-1),N?(N=!0,VMM.fireEvent(global,K.events.messege,"Internet Explorer "+VMM.Browser.version+" is not supported by TimelineJS. Please update your browser to version 8 or higher.")):(u(),h(),VMM.bindEvent(C,i,"LOADED"),VMM.bindEvent(D,k,"LOADED"),VMM.bindEvent(C,l,"UPDATE"),VMM.bindEvent(D,m,"UPDATE"),E.init(J),F.init(J,I.era),VMM.bindEvent(global,h,K.events.resize))}function w(){trace("UPDATE SIZE"),K.width=VMM.Lib.width(y),K.height=VMM.Lib.height(y),K.nav.width=K.width,K.feature.width=K.width,K.feature.height=K.height-K.nav.height-3,"mobile"==VMM.Browser.device,K.width<640?VMM.Lib.addClass(y,"vco-skinny"):VMM.Lib.removeClass(y,"vco-skinny")}function x(){J=[],VMM.fireEvent(global,K.events.messege,"Building Dates"),w();for(var a=0;a<I.date.length;a++)if(null!=I.date[a].startDate&&""!=I.date[a].startDate){var b={};b.startdate="tweets"==I.date[a].type?VMM.ExternalAPI.twitter.parseTwitterDate(I.date[a].startDate):VMM.Date.parse(I.date[a].startDate),isNaN(b.startdate)||(b.enddate=null!=I.date[a].endDate&&""!=I.date[a].endDate?"tweets"==I.date[a].type?VMM.ExternalAPI.twitter.parseTwitterDate(I.date[a].endDate):VMM.Date.parse(I.date[a].endDate):b.startdate,b.needs_slug=!1,""==I.date[a].headline&&null!=I.date[a].slug&&""!=I.date[a].slug&&(b.needs_slug=!0),b.title=I.date[a].headline,b.headline=I.date[a].headline,b.type=I.date[a].type,b.date=VMM.Date.prettyDate(b.startdate),b.asset=I.date[a].asset,b.fulldate=b.startdate.getTime(),b.text=I.date[a].text,b.content="",b.tag=I.date[a].tag,b.slug=I.date[a].slug,b.uniqueid=VMM.Util.unique_ID(7),J.push(b))}if("storify"!=I.type&&J.sort(function(a,b){return a.fulldate-b.fulldate}),null!=I.headline&&""!=I.headline&&null!=I.text&&""!=I.text){var c,d,b={};c="undefined"!=typeof I.startDate?VMM.Date.parse(I.startDate):!1,trace("HAS STARTPAGE"),trace(c),c&&c<J[0].startdate?b.startdate=new Date(c):(d=J[0].startdate,b.startdate=new Date(J[0].startdate),0===d.getMonth()&&1==d.getDate()&&0===d.getHours()&&0===d.getMinutes()?b.startdate.setFullYear(d.getFullYear()-1):d.getDate()<=1&&0===d.getHours()&&0===d.getMinutes()?b.startdate.setMonth(d.getMonth()-1):0===d.getHours()&&0===d.getMinutes()?b.startdate.setDate(d.getDate()-1):0===d.getMinutes()?b.startdate.setHours(d.getHours()-1):b.startdate.setMinutes(d.getMinutes()-1)),b.uniqueid=VMM.Util.unique_ID(7),b.enddate=b.startdate,b.title=I.headline,b.headline=I.headline,b.text=I.text,b.type="start",b.date=VMM.Date.prettyDate(I.startDate),b.asset=I.asset,b.slug=!1,b.needs_slug=!1,b.fulldate=b.startdate.getTime(),K.embed&&VMM.fireEvent(global,K.events.headline,b.headline),J.unshift(b)}"storify"!=I.type&&J.sort(function(a,b){return a.fulldate-b.fulldate}),g()}var y,z,A,B,C,D,E,F,G="2.x",H="#timelinejs",I={},J=[],K={},L=!1,M=!1,N=!1,O=!1;if(H="string"==type.of(a)?a.match("#")?a:"#"+a:"#timelinejs",K={embed:!1,events:{data_ready:"DATAREADY",messege:"MESSEGE",headline:"HEADLINE",slide_change:"SLIDE_CHANGE",resize:"resize"},id:H,source:"nothing",type:"timeline",touch:!1,orientation:"normal",maptype:"ROADMAP",version:"2.x",preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:"",flickr:"",twitter:""},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130,padding_default:130},nav:{width:100,height:200}},ease:"easeInOutExpo",duration:1e3,gmap_key:"",language:VMM.Language},null!=b&&""!=b&&(K.width=b,L=!0),null!=c&&""!=c&&(K.height=c,M=!0),window.location.hash){var P=window.location.hash.substring(1);isNaN(P)||(K.current_slide=parseInt(P))}window.onhashchange=function(){var a=window.location.hash.substring(1);K.hash_bookmark?O?n(parseInt(a)):O=!1:n(parseInt(a))},this.init=function(a,b){trace("INIT"),p(),d(a),e(),"string"==type.of(b)&&(K.source=b),VMM.Date.setLanguage(K.language),VMM.master_config.language=K.language,VMM.ExternalAPI.setKeys(K.api_keys),VMM.ExternalAPI.googlemaps.setMapType(K.maptype),VMM.bindEvent(global,f,K.events.data_ready),VMM.bindEvent(global,s,K.events.messege),VMM.fireEvent(global,K.events.messege,K.language.messages.loading_timeline),("Explorer"==VMM.Browser.browser||"MSIE"==VMM.Browser.browser)&&parseInt(VMM.Browser.version,10)<=7&&(N=!0),"string"==type.of(K.source)||"object"==type.of(K.source)?VMM.Timeline.DataObj.getData(K.source):VMM.fireEvent(global,K.events.messege,"No data source provided")
},this.iframeLoaded=function(){trace("iframeLoaded")},this.reload=function(a){trace("Load new timeline data"+a),VMM.fireEvent(global,K.events.messege,K.language.messages.loading_timeline),I={},VMM.Timeline.DataObj.getData(a),K.current_slide=0,E.setSlide(0),F.setMarker(0,K.ease,K.duration)}},VMM.Timeline.Config={}),"undefined"!=typeof VMM.Timeline&&"undefined"==typeof VMM.Timeline.TimeNav&&(VMM.Timeline.TimeNav=function(a,b,c){function d(a){D.nav.constraint.left=D.width/2,D.nav.constraint.right=D.nav.constraint.right_min-D.width/2,A.updateConstraint(D.nav.constraint),VMM.Lib.css(u,"left",Math.round(D.width/2)+2),VMM.Lib.css(v,"left",Math.round(D.width/2)-8),W(D.current_slide,D.ease,D.duration,!0,a)}function e(){VMM.fireEvent(F,"UPDATE")}function f(){A.cancelSlide(),D.nav.multiplier.current>D.nav.multiplier.min&&(D.nav.multiplier.current=D.nav.multiplier.current<=1?D.nav.multiplier.current-.25:D.nav.multiplier.current>5?D.nav.multiplier.current>16?Math.round(D.nav.multiplier.current-10):Math.round(D.nav.multiplier.current-4):Math.round(D.nav.multiplier.current-1),D.nav.multiplier.current<=0&&(D.nav.multiplier.current=D.nav.multiplier.min),V())}function g(){A.cancelSlide(),D.nav.multiplier.current<D.nav.multiplier.max&&(D.nav.multiplier.current=D.nav.multiplier.current>4?D.nav.multiplier.current>16?Math.round(D.nav.multiplier.current+10):Math.round(D.nav.multiplier.current+4):Math.round(D.nav.multiplier.current+1),D.nav.multiplier.current>=D.nav.multiplier.max&&(D.nav.multiplier.current=D.nav.multiplier.max),V())}function h(){A.cancelSlide(),W(0),e()}function j(a){var b=0,c=0;a||(a=window.event),a.originalEvent&&(a=a.originalEvent),a.wheelDelta?b=a.wheelDelta/6:a.detail&&(b=12*-a.detail),b&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1),"undefined"!=typeof a.wheelDeltaX&&(b=a.wheelDeltaY/6,b=Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)?a.wheelDeltaX/6:a.wheelDeltaY/6),c=VMM.Lib.position(m).left+b,c>D.nav.constraint.left?c=D.width/2:c<D.nav.constraint.right&&(c=D.nav.constraint.right),VMM.Lib.css(m,"left",c)}function k(a){A.cancelSlide(),W(a.data.number),e()}function l(a){VMM.Lib.toggleClass(a.data.elem,"zFront")}trace("VMM.Timeline.TimeNav");var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=VMM.Timeline.Config,E={},F=a,G=[],H=[],I=[],J=[],K=[],L=[],M=0,N=!1,O={left:"",visible:{left:"",right:""}},P={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},Q={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},R={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_idd",interval_type:"interval"},S={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"major",interval_type:"interval major"},T={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_dd_minor",interval_type:"interval minor"},U={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}};B=D.nav.marker.height/2,D.nav.rows={full:[1,2*B,4*B],half:[1,B,2*B,3*B,4*B,5*B],current:[]},null!=b&&""!=b&&(D.nav.width=b),null!=c&&""!=c&&(D.nav.height=c),this.init=function(a,b){trace("VMM.Timeline.TimeNav init"),"undefined"!=typeof a?this.setData(a,b):trace("WAITING ON DATA")},this.setData=function(a,b){"undefined"!=typeof a?(G={},G=a,C=b,fb()):trace("NO DATA")},this.setSize=function(a,b){null!=a&&(D.width=a),null!=b&&(D.height=b),N&&d()},this.setMarker=function(a,b,c){W(a,b,c)},this.getCurrentNumber=function(){return M};var V=function(){trace("config.nav.multiplier "+D.nav.multiplier.current),bb(!0),cb(!0),db(q,J,!0,!0),db(r,K,!0),D.nav.constraint.left=D.width/2,D.nav.constraint.right=D.nav.constraint.right_min-D.width/2,A.updateConstraint(D.nav.constraint)},W=function(a,b,c){trace("GO TO MARKER");var d=D.ease,e=D.duration,f=!1,g=!1;M=a,O.left=D.width/2-I[M].pos_left,O.visible.left=Math.abs(O.left)-100,O.visible.right=Math.abs(O.left)+D.width+100,0==M&&(g=!0),M+1==I.length&&(f=!0),null!=b&&""!=b&&(d=b),null!=c&&""!=c&&(e=c);for(var h=0;h<I.length;h++)VMM.Lib.removeClass(I[h].marker,"active");D.start_page&&"start"==I[0].type&&(VMM.Lib.visible(I[0].marker,!1),VMM.Lib.addClass(I[0].marker,"start")),VMM.Lib.addClass(I[M].marker,"active"),VMM.Lib.stop(m),VMM.Lib.animate(m,e,d,{left:O.left})},X=function(){var a=0,b=0,c=0,d=[],e=0;for(e=0;e<I.length;e++)if("start"!=G[e].type){var f=ab(R,I[e].relative_pos),a=b;b=f.begin,c=b-a,d.push(c)}return VMM.Util.average(d).mean},Y=function(){var a=D.nav.multiplier.current,b=0;for(b=0;a>b;b++)X()<75&&D.nav.multiplier.current>1&&(D.nav.multiplier.current=D.nav.multiplier.current-1)},Z=function(){var a=$(G[0].startdate),b=$(G[G.length-1].enddate);U.eon.type="eon",U.eon.first=a.eons,U.eon.base=Math.floor(a.eons),U.eon.last=b.eons,U.eon.number=E.eons,U.eon.multiplier=P.eons,U.eon.minor=P.eons,U.era.type="era",U.era.first=a.eras,U.era.base=Math.floor(a.eras),U.era.last=b.eras,U.era.number=E.eras,U.era.multiplier=P.eras,U.era.minor=P.eras,U.epoch.type="epoch",U.epoch.first=a.epochs,U.epoch.base=Math.floor(a.epochs),U.epoch.last=b.epochs,U.epoch.number=E.epochs,U.epoch.multiplier=P.epochs,U.epoch.minor=P.epochs,U.age.type="age",U.age.first=a.ages,U.age.base=Math.floor(a.ages),U.age.last=b.ages,U.age.number=E.ages,U.age.multiplier=P.ages,U.age.minor=P.ages,U.millenium.type="millenium",U.millenium.first=a.milleniums,U.millenium.base=Math.floor(a.milleniums),U.millenium.last=b.milleniums,U.millenium.number=E.milleniums,U.millenium.multiplier=P.millenium,U.millenium.minor=P.millenium,U.century.type="century",U.century.first=a.centuries,U.century.base=Math.floor(a.centuries),U.century.last=b.centuries,U.century.number=E.centuries,U.century.multiplier=P.century,U.century.minor=P.century,U.decade.type="decade",U.decade.first=a.decades,U.decade.base=Math.floor(a.decades),U.decade.last=b.decades,U.decade.number=E.decades,U.decade.multiplier=P.decade,U.decade.minor=P.decade,U.year.type="year",U.year.first=a.years,U.year.base=Math.floor(a.years),U.year.last=b.years,U.year.number=E.years,U.year.multiplier=1,U.year.minor=P.month,U.month.type="month",U.month.first=a.months,U.month.base=Math.floor(a.months),U.month.last=b.months,U.month.number=E.months,U.month.multiplier=1,U.month.minor=Math.round(P.week),U.week.type="week",U.week.first=a.weeks,U.week.base=Math.floor(a.weeks),U.week.last=b.weeks,U.week.number=E.weeks,U.week.multiplier=1,U.week.minor=7,U.day.type="day",U.day.first=a.days,U.day.base=Math.floor(a.days),U.day.last=b.days,U.day.number=E.days,U.day.multiplier=1,U.day.minor=24,U.hour.type="hour",U.hour.first=a.hours,U.hour.base=Math.floor(a.hours),U.hour.last=b.hours,U.hour.number=E.hours,U.hour.multiplier=1,U.hour.minor=60,U.minute.type="minute",U.minute.first=a.minutes,U.minute.base=Math.floor(a.minutes),U.minute.last=b.minutes,U.minute.number=E.minutes,U.minute.multiplier=1,U.minute.minor=60,U.second.type="decade",U.second.first=a.seconds,U.second.base=Math.floor(a.seconds),U.second.last=b.seconds,U.second.number=E.seconds,U.second.multiplier=1,U.second.minor=10},$=function(a){var b={};return b.days=a/Q.day,b.weeks=b.days/Q.week,b.months=b.days/Q.month,b.years=b.months/Q.year,b.hours=b.days*Q.hour,b.minutes=b.days*Q.minute,b.seconds=b.days*Q.second,b.decades=b.years/Q.decade,b.centuries=b.years/Q.century,b.milleniums=b.years/Q.millenium,b.ages=b.years/Q.age,b.epochs=b.years/Q.epoch,b.eras=b.years/Q.era,b.eons=b.years/Q.eon,b},_=function(a,b,c){var d,e,f=a.type,g={start:"",end:"",type:f};return d=$(b),g.start=b.months,"eon"==f?g.start=d.eons:"era"==f?g.start=d.eras:"epoch"==f?g.start=d.epochs:"age"==f?g.start=d.ages:"millenium"==f?g.start=b.milleniums:"century"==f?g.start=d.centuries:"decade"==f?g.start=d.decades:"year"==f?g.start=d.years:"month"==f?g.start=d.months:"week"==f?g.start=d.weeks:"day"==f?g.start=d.days:"hour"==f?g.start=d.hours:"minute"==f&&(g.start=d.minutes),"date"==type.of(c)?(e=$(c),g.end=c.months,"eon"==f?g.end=e.eons:"era"==f?g.end=e.eras:"epoch"==f?g.end=e.epochs:"age"==f?g.end=e.ages:"millenium"==f?g.end=c.milleniums:"century"==f?g.end=e.centuries:"decade"==f?g.end=e.decades:"year"==f?g.end=e.years:"month"==f?g.end=e.months:"week"==f?g.end=e.weeks:"day"==f?g.end=e.days:"hour"==f?g.end=e.hours:"minute"==f&&(g.end=e.minutes)):g.end=g.start,g},ab=function(a,b){return{begin:(b.start-R.base)*(D.nav.interval_width/D.nav.multiplier.current),end:(b.end-R.base)*(D.nav.interval_width/D.nav.multiplier.current)}},bb=function(a){var b=2,c=0,d=-2,e=0,f=150,g=6,h=0,i=D.width,j=[],k=6,l={left:O.visible.left-i,right:O.visible.right+i},n=0,o=0;for(D.nav.minor_width=D.width,VMM.Lib.removeClass(".flag","row1"),VMM.Lib.removeClass(".flag","row2"),VMM.Lib.removeClass(".flag","row3"),n=0;n<I.length;n++){var p,q=I[n],r=ab(R,I[n].relative_pos),s=0,t=!1,u={id:n,pos:0,row:0};if(r.begin=Math.round(r.begin+d),r.end=Math.round(r.end+d),p=Math.round(r.end-r.begin),q.pos_left=r.begin,M==n&&(O.left=D.width/2-r,O.visible.left=Math.abs(O.left),O.visible.right=Math.abs(O.left)+D.width,l.left=O.visible.left-i,l.right=O.visible.right+i),Math.abs(r.begin)>=l.left&&Math.abs(r.begin)<=l.right&&(t=!0),a?(VMM.Lib.stop(q.marker),VMM.Lib.animate(q.marker,D.duration/2,D.ease,{left:r.begin})):(VMM.Lib.stop(q.marker),VMM.Lib.css(q.marker,"left",r.begin)),n==M&&(h=r.begin),p>5&&(VMM.Lib.css(q.lineevent,"height",g),VMM.Lib.css(q.lineevent,"top",f),a?VMM.Lib.animate(q.lineevent,D.duration/2,D.ease,{width:p}):VMM.Lib.css(q.lineevent,"width",p)),L.length>0){for(o=0;o<L.length;o++)o<D.nav.rows.current.length&&q.tag==L[o]&&(b=o,o==D.nav.rows.current.length-1&&(trace("ON LAST ROW"),VMM.Lib.addClass(q.flag,"flag-small-last")));s=D.nav.rows.current[b]}else r.begin-c.begin<D.nav.marker.width+D.spacing?b<D.nav.rows.current.length-1?b++:(b=0,e++):(e=1,b=1),s=D.nav.rows.current[b];c=r,u.pos=r,u.row=b,j.push(u),j.length>k&&j.remove(0),a?(VMM.Lib.stop(q.flag),VMM.Lib.animate(q.flag,D.duration,D.ease,{top:s})):(VMM.Lib.stop(q.flag),VMM.Lib.css(q.flag,"top",s)),D.start_page&&"start"==I[n].type&&VMM.Lib.visible(q.marker,!1),r>D.nav.minor_width&&(D.nav.minor_width=r),r<D.nav.minor_left&&(D.nav.minor_left=r)}a&&(VMM.Lib.stop(m),VMM.Lib.animate(m,D.duration/2,D.ease,{left:D.width/2-h}))},cb=function(a){var b=0,c=0;for(b=0;b<H.length;b++){var d=H[b],e=ab(R,d.relative_pos),f=0,g=D.nav.marker.height*D.nav.rows.full.length,h=e.end-e.begin;if(""!=d.tag){for(g=D.nav.marker.height*D.nav.rows.full.length/D.nav.rows.current.length,c=0;c<L.length;c++)c<D.nav.rows.current.length&&d.tag==L[c]&&(row=c);f=D.nav.rows.current[row]}else f=-1;a?(VMM.Lib.stop(d.content),VMM.Lib.stop(d.text_content),VMM.Lib.animate(d.content,D.duration/2,D.ease,{top:f,left:e.begin,width:h,height:g}),VMM.Lib.animate(d.text_content,D.duration/2,D.ease,{left:e.begin})):(VMM.Lib.stop(d.content),VMM.Lib.stop(d.text_content),VMM.Lib.css(d.content,"left",e.begin),VMM.Lib.css(d.content,"width",h),VMM.Lib.css(d.content,"height",g),VMM.Lib.css(d.content,"top",f),VMM.Lib.css(d.text_content,"left",e.begin))}},db=function(a,b,c,d){var e=0,f=D.width,g={left:O.visible.left-f,right:O.visible.right+f};for(not_too_many=!0,i=0,D.nav.minor_left=0,b.length>100&&(not_too_many=!1,trace("TOO MANY "+b.length)),i=0;i<b.length;i++){var h=b[i].element,j=(b[i].date,b[i].visible),k=ab(R,b[i].relative_pos),l=k.begin,m=b[i].animation,n=!0,o=!1;m.pos=l,m.animate=!1,Math.abs(l)>=g.left&&Math.abs(l)<=g.right&&(o=!0),D.nav.multiplier.current>16&&d?n=!1:65>l-e&&(35>l-e?0==i%4?0==l&&(n=!1):n=!1:VMM.Util.isEven(i)||(n=!1)),n?b[i].is_detached&&(VMM.Lib.append(a,h),b[i].is_detached=!1):(b[i].is_detached=!0,VMM.Lib.detach(h)),j?n?(m.opacity="100",c&&o&&(m.animate=!0)):(m.opacity="0",c&&not_too_many&&(m.animate=!0),b[i].interval_visible=!1):(m.opacity="100",n?(c&&not_too_many?m.animate=!0:c&&o&&(m.animate=!0),b[i].interval_visible=!0):c&&not_too_many&&(m.animate=!0)),e=l,l>D.nav.minor_width&&(D.nav.minor_width=l),l<D.nav.minor_left&&(D.nav.minor_left=l),m.animate?VMM.Lib.animate(h,D.duration/2,D.ease,{opacity:m.opacity,left:m.pos}):(VMM.Lib.css(h,"opacity",m.opacity),VMM.Lib.css(h,"left",l))}D.nav.constraint.right_min=-D.nav.minor_width+D.width,D.nav.constraint.right=D.nav.constraint.right_min+D.width/2,VMM.Lib.css(w,"left",D.nav.minor_left-D.width/2),VMM.Lib.width(w,D.nav.minor_width+D.width+Math.abs(D.nav.minor_left))},eb=function(a,b,c){var d,e,f=0,g=!0,h=0,i=0,j=Math.ceil(a.number)+2,k={flag:!1,offset:0},l=0;for(VMM.attachElement(c,""),a.date=new Date(G[0].startdate.getFullYear(),0,1,0,0,0),d=a.date.getTimezoneOffset(),l=0;j>l;l++){trace(a.type);var m=!1,n={element:VMM.appendAndGetElement(c,"<div>",a.classname),date:new Date(G[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:"",type:a.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:"",opacity:"100"}};"eon"==a.type?(g&&(e=5e8*Math.floor(G[0].startdate.getFullYear()/5e8)),n.date.setFullYear(e+5e8*f),m=!0):"era"==a.type?(g&&(e=1e8*Math.floor(G[0].startdate.getFullYear()/1e8)),n.date.setFullYear(e+1e8*f),m=!0):"epoch"==a.type?(g&&(e=1e7*Math.floor(G[0].startdate.getFullYear()/1e7)),n.date.setFullYear(e+1e7*f),m=!0):"age"==a.type?(g&&(e=1e6*Math.floor(G[0].startdate.getFullYear()/1e6)),n.date.setFullYear(e+1e6*f),m=!0):"millenium"==a.type?(g&&(e=1e3*Math.floor(G[0].startdate.getFullYear()/1e3)),n.date.setFullYear(e+1e3*f),m=!0):"century"==a.type?(g&&(e=100*Math.floor(G[0].startdate.getFullYear()/100)),n.date.setFullYear(e+100*f),m=!0):"decade"==a.type?(g&&(e=10*Math.floor(G[0].startdate.getFullYear()/10)),n.date.setFullYear(e+10*f),m=!0):"year"==a.type?(g&&(e=G[0].startdate.getFullYear()),n.date.setFullYear(e+f),m=!0):"month"==a.type?(g&&(e=G[0].startdate.getMonth()),n.date.setMonth(e+f)):"week"==a.type?(g&&(e=G[0].startdate.getMonth()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(e+7*f)):"day"==a.type?(g&&(e=G[0].startdate.getDate()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(e+f)):"hour"==a.type?(g&&(e=G[0].startdate.getHours()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(G[0].startdate.getDate()),n.date.setHours(e+f)):"minute"==a.type?(g&&(e=G[0].startdate.getMinutes()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(G[0].startdate.getDate()),n.date.setHours(G[0].startdate.getHours()),n.date.setMinutes(e+f)):"second"==a.type?(g&&(e=G[0].startdate.getSeconds()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(G[0].startdate.getDate()),n.date.setHours(G[0].startdate.getHours()),n.date.setMinutes(G[0].startdate.getMinutes()),n.date.setSeconds(e+f)):"millisecond"==a.type&&(g&&(e=G[0].startdate.getMilliseconds()),n.date.setMonth(G[0].startdate.getMonth()),n.date.setDate(G[0].startdate.getDate()),n.date.setHours(G[0].startdate.getHours()),n.date.setMinutes(G[0].startdate.getMinutes()),n.date.setSeconds(G[0].startdate.getSeconds()),n.date.setMilliseconds(e+f)),"Firefox"==VMM.Browser.browser&&("1970"==n.date.getFullYear()&&n.date.getTimezoneOffset()!=d?(trace("FIREFOX 1970 TIMEZONE OFFSET "+n.date.getTimezoneOffset()+" SHOULD BE "+d),trace(a.type+" "+a.date),k.offset=n.date.getTimezoneOffset()/60,k.flag=!0,n.date.setHours(n.date.getHours()+k.offset)):k.flag&&(k.flag=!1,n.date.setHours(n.date.getHours()+k.offset),m&&(k.flag=!0))),n.date_string=m?n.date.getFullYear()<0?Math.abs(n.date.getFullYear()).toString()+" B.C.":n.date.getFullYear():VMM.Date.prettyDate(n.date,!0),f+=1,g=!1,n.relative_pos=_(R,n.date),h=n.relative_pos.begin,n.relative_pos.begin>i&&(i=n.relative_pos.begin),VMM.appendElement(n.element,n.date_string),VMM.Lib.css(n.element,"text-indent",-(VMM.Lib.width(n.element)/2)),VMM.Lib.css(n.element,"opacity","0"),b.push(n)}VMM.Lib.width(w,i),db(c,b)},fb=function(){var a=0,b=0;if(VMM.attachElement(F,""),m=VMM.appendAndGetElement(F,"<div>","timenav"),n=VMM.appendAndGetElement(m,"<div>","content"),o=VMM.appendAndGetElement(m,"<div>","time"),p=VMM.appendAndGetElement(o,"<div>","time-interval-minor"),w=VMM.appendAndGetElement(p,"<div>","minor"),r=VMM.appendAndGetElement(o,"<div>","time-interval-major"),q=VMM.appendAndGetElement(o,"<div>","time-interval"),s=VMM.appendAndGetElement(F,"<div>","timenav-background"),u=VMM.appendAndGetElement(s,"<div>","timenav-line"),v=VMM.appendAndGetElement(s,"<div>","timenav-indicator"),t=VMM.appendAndGetElement(s,"<div>","timenav-interval-background","<div class='top-highlight'></div>"),x=VMM.appendAndGetElement(F,"<div>","vco-toolbar"),gb(),hb(),ib(),Y(),bb(!1),cb(),db(q,J,!1,!0),db(r,K),D.start_page&&($backhome=VMM.appendAndGetElement(x,"<div>","back-home","<div class='icon'></div>"),VMM.bindEvent(".back-home",h,"click"),VMM.Lib.attribute($backhome,"title",VMM.master_config.language.messages.return_to_title),VMM.Lib.attribute($backhome,"rel","tooltip")),A=new VMM.DragSlider,A.createPanel(F,m,D.nav.constraint,D.touch),D.touch&&D.start_page?(VMM.Lib.addClass(x,"touch"),VMM.Lib.css(x,"top",55),VMM.Lib.css(x,"left",10)):(D.start_page&&VMM.Lib.css(x,"top",27),y=VMM.appendAndGetElement(x,"<div>","zoom-in","<div class='icon'></div>"),z=VMM.appendAndGetElement(x,"<div>","zoom-out","<div class='icon'></div>"),VMM.bindEvent(y,f,"click"),VMM.bindEvent(z,g,"click"),VMM.Lib.attribute(y,"title",VMM.master_config.language.messages.expand_timeline),VMM.Lib.attribute(y,"rel","tooltip"),VMM.Lib.attribute(z,"title",VMM.master_config.language.messages.contract_timeline),VMM.Lib.attribute(z,"rel","tooltip"),x.tooltip({selector:"div[rel=tooltip]",placement:"right"}),VMM.bindEvent(F,j,"DOMMouseScroll"),VMM.bindEvent(F,j,"mousewheel")),0!=D.nav.zoom.adjust)if(D.nav.zoom.adjust<0)for(a=0;a<Math.abs(D.nav.zoom.adjust);a++)g();else for(b=0;b<D.nav.zoom.adjust;b++)f();N=!0,d(!0),VMM.fireEvent(F,"LOADED")},gb=function(){var a=0,b=0;for(E=$(G[G.length-1].enddate-G[0].startdate,!0),trace(E),Z(),E.centuries>G.length/D.nav.density?(R=U.century,S=U.millenium,T=U.decade):E.decades>G.length/D.nav.density?(R=U.decade,S=U.century,T=U.year):E.years>G.length/D.nav.density?(R=U.year,S=U.decade,T=U.month):E.months>G.length/D.nav.density?(R=U.month,S=U.year,T=U.day):E.days>G.length/D.nav.density?(R=U.day,S=U.month,T=U.hour):E.hours>G.length/D.nav.density?(R=U.hour,S=U.day,T=U.minute):E.minutes>G.length/D.nav.density?(R=U.minute,S=U.hour,T=U.second):E.seconds>G.length/D.nav.density?(R=U.second,S=U.minute,T=U.second):(trace("NO IDEA WHAT THE TYPE SHOULD BE"),R=U.day,S=U.month,T=U.hour),trace("INTERVAL TYPE: "+R.type),trace("INTERVAL MAJOR TYPE: "+S.type),eb(R,J,q),eb(S,K,r),a=0;a<J.length;a++)for(b=0;b<K.length;b++)J[a].date_string==K[b].date_string&&VMM.attachElement(J[a].element,"")},hb=function(){var a=0,b=0,c=0;for(I=[],H=[],a=0;a<G.length;a++){var d,e,f,g,h,i,j,m="",o=!1;if(d=VMM.appendAndGetElement(n,"<div>","marker"),e=VMM.appendAndGetElement(d,"<div>","flag"),f=VMM.appendAndGetElement(e,"<div>","flag-content"),g=VMM.appendAndGetElement(d,"<div>","dot"),h=VMM.appendAndGetElement(d,"<div>","line"),i=VMM.appendAndGetElement(h,"<div>","event-line"),_marker_relative_pos=_(R,G[a].startdate,G[a].enddate),_marker_thumb="",null!=G[a].asset&&""!=G[a].asset?VMM.appendElement(f,VMM.MediaElement.thumbnail(G[a].asset,24,24,G[a].uniqueid)):VMM.appendElement(f,"<div style='margin-right:7px;height:50px;width:2px;float:left;'></div>"),""==G[a].title||" "==G[a].title)if(trace("TITLE NOTHING"),"undefined"!=typeof G[a].slug&&""!=G[a].slug)trace("SLUG"),m=VMM.Util.untagify(G[a].slug),o=!0;else{var p=VMM.MediaType(G[a].asset.media);"quote"==p.type||"unknown"==p.type?(m=VMM.Util.untagify(p.id),o=!0):o=!1}else""!=G[a].title||" "!=G[a].title?(trace(G[a].title),m=VMM.Util.untagify(G[a].title),o=!0):trace("TITLE SLUG NOT FOUND "+G[a].slug);o?VMM.appendElement(f,"<h3>"+m+"</h3>"):(VMM.appendElement(f,"<h3>"+m+"</h3>"),VMM.appendElement(f,"<h3 id='marker_content_"+G[a].uniqueid+"'>"+m+"</h3>")),VMM.Lib.attr(d,"id",("marker_"+G[a].uniqueid).toString()),VMM.bindEvent(e,k,"",{number:a}),VMM.bindEvent(e,l,"mouseenter mouseleave",{number:a,elem:e}),j={marker:d,flag:e,lineevent:i,type:"marker",full:!0,relative_pos:_marker_relative_pos,tag:G[a].tag,pos_left:0},"start"==G[a].type&&(trace("BUILD MARKER HAS START PAGE"),D.start_page=!0,j.type="start"),"storify"==G[a].type&&(j.type="storify"),G[a].tag&&L.push(G[a].tag),I.push(j)}for(L=VMM.Util.deDupeArray(L),D.nav.rows.current=L.length>3?D.nav.rows.half:D.nav.rows.full,b=0;b<L.length;b++)if(b<D.nav.rows.current.length){var q=VMM.appendAndGetElement(s,"<div>","timenav-tag");VMM.Lib.addClass(q,"timenav-tag-row-"+(b+1)),L.length>3?VMM.Lib.addClass(q,"timenav-tag-size-half"):VMM.Lib.addClass(q,"timenav-tag-size-full"),VMM.appendElement(q,"<div><h3>"+L[b]+"</h3></div>")}if(L.length>3)for(c=0;c<I.length;c++)VMM.Lib.addClass(I[c].flag,"flag-small"),I[c].full=!1},ib=function(){var a=6,b=0,c=0;for(c=0;c<C.length;c++){var d={content:VMM.appendAndGetElement(n,"<div>","era"),text_content:VMM.appendAndGetElement(q,"<div>","era"),startdate:VMM.Date.parse(C[c].startDate),enddate:VMM.Date.parse(C[c].endDate),title:C[c].headline,uniqueid:VMM.Util.unique_ID(6),tag:"",relative_pos:""},e=(VMM.Date.prettyDate(d.startdate),VMM.Date.prettyDate(d.enddate),"<div>&nbsp;</div>");"undefined"!=typeof C[c].tag&&(d.tag=C[c].tag),d.relative_pos=_(R,d.startdate,d.enddate),VMM.Lib.attr(d.content,"id",d.uniqueid),VMM.Lib.attr(d.text_content,"id",d.uniqueid+"_text"),VMM.Lib.addClass(d.content,"era"+(b+1)),VMM.Lib.addClass(d.text_content,"era"+(b+1)),a>b?b++:b=0,VMM.appendElement(d.content,e),VMM.appendElement(d.text_content,VMM.Util.unlinkify(d.title)),H.push(d)}}}),"undefined"!=typeof VMM.Timeline&&"undefined"==typeof VMM.Timeline.DataObj&&(VMM.Timeline.DataObj={data_obj:{},model_array:[],getData:function(a){VMM.Timeline.DataObj.data_obj={},VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Timeline.Config.language.messages.loading_timeline),"object"==type.of(a)?(trace("DATA SOURCE: JSON OBJECT"),VMM.Timeline.DataObj.parseJSON(a)):"string"==type.of(a)?a.match("%23")?(trace("DATA SOURCE: TWITTER SEARCH"),VMM.Timeline.DataObj.model.tweets.getData("%23medill")):a.match("spreadsheet")?(trace("DATA SOURCE: GOOGLE SPREADSHEET"),VMM.Timeline.DataObj.model.googlespreadsheet.getData(a)):a.match("storify.com")?(trace("DATA SOURCE: STORIFY"),VMM.Timeline.DataObj.model.storify.getData(a)):a.match(".jsonp")?(trace("DATA SOURCE: JSONP"),LoadLib.js(a,VMM.Timeline.DataObj.onJSONPLoaded)):(trace("DATA SOURCE: JSON"),VMM.getJSON(a+"?callback=onJSONP_Data",VMM.Timeline.DataObj.parseJSON)):"html"==type.of(a)?(trace("DATA SOURCE: HTML"),VMM.Timeline.DataObj.parseHTML(a)):trace("DATA SOURCE: UNKNOWN")},onJSONPLoaded:function(){trace("JSONP IS LOADED"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(){trace("parseHTML"),trace("WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline");var a=VMM.Timeline.DataObj.data_template_obj;if(VMM.Lib.find("#timeline section","time")[0]){a.timeline.startDate=VMM.Lib.html(VMM.Lib.find("#timeline section","time")[0]),a.timeline.headline=VMM.Lib.html(VMM.Lib.find("#timeline section","h2")),a.timeline.text=VMM.Lib.html(VMM.Lib.find("#timeline section","article"));var b=!1;0!=VMM.Lib.find("#timeline section","figure img").length?(b=!0,a.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure img"),"src")):0!=VMM.Lib.find("#timeline section","figure a").length&&(b=!0,a.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure a"),"href")),b&&(0!=VMM.Lib.find("#timeline section","cite").length&&(a.timeline.asset.credit=VMM.Lib.html(VMM.Lib.find("#timeline section","cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(a.timeline.asset.caption=VMM.Lib.html(VMM.Lib.find("#timeline section","figcaption"))))}VMM.Lib.each("#timeline li",function(){var b=!1,c={type:"default",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};if(0!=VMM.Lib.find(this,"time")){b=!0,c.startDate=VMM.Lib.html(VMM.Lib.find(this,"time")[0]),VMM.Lib.find(this,"time")[1]&&(c.endDate=VMM.Lib.html(VMM.Lib.find(this,"time")[1])),c.headline=VMM.Lib.html(VMM.Lib.find(this,"h3")),c.text=VMM.Lib.html(VMM.Lib.find(this,"article"));var d=!1;0!=VMM.Lib.find(this,"figure img").length?(d=!0,c.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure img"),"src")):0!=VMM.Lib.find(this,"figure a").length&&(d=!0,c.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure a"),"href")),d&&(0!=VMM.Lib.find(this,"cite").length&&(c.asset.credit=VMM.Lib.html(VMM.Lib.find(this,"cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(c.asset.caption=VMM.Lib.html(VMM.Lib.find(this,"figcaption")))),trace(c),a.timeline.date.push(c)}}),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,a)},parseJSON:function(a){trace("parseJSON"),"default"==a.timeline.type?(trace("DATA SOURCE: JSON STANDARD TIMELINE"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,a)):"twitter"==a.timeline.type?(trace("DATA SOURCE: JSON TWEETS"),VMM.Timeline.DataObj.model_Tweets.buildData(a)):(trace("DATA SOURCE: UNKNOWN JSON"),trace(type.of(a.timeline)))},model:{googlespreadsheet:{getData:function(a){function b(){c=VMM.getJSON(e,function(a){clearTimeout(f),VMM.Timeline.DataObj.model.googlespreadsheet.buildData(a)}).error(function(a,b){trace("Google Docs ERROR"),trace("Google Docs ERROR: "+b+" "+a.responseText)}).success(function(){clearTimeout(f)})}var c,d,e,f,g=0;d=VMM.Util.getUrlVars(a).key,e="https://spreadsheets.google.com/feeds/list/"+d+"/od6/public/values?alt=json",f=setTimeout(function(){trace("Google Docs timeout "+e),trace(e),3>g?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+g),g++,c.abort(),b()):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),b()},buildData:function(a){function b(a){return"undefined"!=typeof a?a.$t:""}var c=VMM.Timeline.DataObj.data_template_obj,d=!1;if(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Google Doc Data"),"undefined"!=typeof a.feed.entry){d=!0;for(var e=0;e<a.feed.entry.length;e++){var f=a.feed.entry[e],g="";if("undefined"!=typeof f.gsx$type?g=f.gsx$type.$t:"undefined"!=typeof f.gsx$titleslide&&(g=f.gsx$titleslide.$t),g.match("start")||g.match("title"))c.timeline.startDate=b(f.gsx$startdate),c.timeline.headline=b(f.gsx$headline),c.timeline.asset.media=b(f.gsx$media),c.timeline.asset.caption=b(f.gsx$mediacaption),c.timeline.asset.credit=b(f.gsx$mediacredit),c.timeline.text=b(f.gsx$text),c.timeline.type="google spreadsheet";else if(g.match("era")){var h={startDate:b(f.gsx$startdate),endDate:b(f.gsx$enddate),headline:b(f.gsx$headline),text:b(f.gsx$text),tag:b(f.gsx$tag)};c.timeline.era.push(h)}else{var i={type:"google spreadsheet",startDate:b(f.gsx$startdate),endDate:b(f.gsx$enddate),headline:b(f.gsx$headline),text:b(f.gsx$text),tag:b(f.gsx$tag),asset:{media:b(f.gsx$media),credit:b(f.gsx$mediacredit),caption:b(f.gsx$mediacaption),thumbnail:b(f.gsx$mediathumbnail)}};c.timeline.date.push(i)}}}d?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Finished Parsing Data"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,c)):(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading+" Google Doc Data (cells)"),trace("There may be too many entries. Still trying to load data. Now trying to load cells to avoid Googles limitation on cells"),VMM.Timeline.DataObj.model.googlespreadsheet.getDataCells(a.feed.link[0].href))},getDataCells:function(a){function b(){c=VMM.getJSON(e,function(a){clearTimeout(f),VMM.Timeline.DataObj.model.googlespreadsheet.buildDataCells(a)}).error(function(a,b){trace("Google Docs ERROR"),trace("Google Docs ERROR: "+b+" "+a.responseText)}).success(function(){clearTimeout(f)})}var c,d,e,f,g=0;d=VMM.Util.getUrlVars(a).key,e="https://spreadsheets.google.com/feeds/cells/"+d+"/od6/public/values?alt=json",f=setTimeout(function(){trace("Google Docs timeout "+e),trace(e),3>g?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+g),g++,c.abort(),b()):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),b()},buildDataCells:function(a){function b(a){return"undefined"!=typeof a?a.$t:""}var c=VMM.Timeline.DataObj.data_template_obj,d=!1,e=["timeline"],f=[],g=0,h=0;if(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading_timeline+" Parsing Google Doc Data (cells)"),"undefined"!=typeof a.feed.entry){for(d=!0,h=0;h<a.feed.entry.length;h++){var i=a.feed.entry[h];parseInt(i.gs$cell.row)>g&&(g=parseInt(i.gs$cell.row))}for(var h=0;g+1>h;h++){var j={type:"",startDate:"",endDate:"",headline:"",text:"",tag:"",asset:{media:"",credit:"",caption:"",thumbnail:""}};f.push(j)}for(h=0;h<a.feed.entry.length;h++){var i=a.feed.entry[h],k="",l={content:b(i.gs$cell),col:i.gs$cell.col,row:i.gs$cell.row,name:""};1==l.row?("Start Date"==l.content?k="startDate":"End Date"==l.content?k="endDate":"Headline"==l.content?k="headline":"Text"==l.content?k="text":"Media"==l.content?k="media":"Media Credit"==l.content?k="credit":"Media Caption"==l.content?k="caption":"Media Thumbnail"==l.content?k="thumbnail":"Type"==l.content?k="type":"Tag"==l.content&&(k="tag"),e.push(k)):(l.name=e[l.col],f[l.row][l.name]=l.content)}for(h=0;h<f.length;h++){var j=f[h];if(j.type.match("start")||j.type.match("title"))c.timeline.startDate=j.startDate,c.timeline.headline=j.headline,c.timeline.asset.media=j.media,c.timeline.asset.caption=j.caption,c.timeline.asset.credit=j.credit,c.timeline.text=j.text,c.timeline.type="google spreadsheet";else if(j.type.match("era")){var m={startDate:j.startDate,endDate:j.endDate,headline:j.headline,text:j.text,tag:j.tag};c.timeline.era.push(m)}else{var j={type:"google spreadsheet",startDate:j.startDate,endDate:j.endDate,headline:j.headline,text:j.text,tag:j.tag,asset:{media:j.media,credit:j.credit,caption:j.caption,thumbnail:j.thumbnail}};c.timeline.date.push(j)}}}d?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Finished Parsing Data"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,c)):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Unable to load Google Doc data source")}},storify:{getData:function(a){var b,c,d;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Loading Storify..."),b=a.split("storify.com/")[1],c="http://api.storify.com/v1/stories/"+b+"?per_page=300&callback=?",d=setTimeout(function(){trace("STORIFY timeout"),VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Storify is not responding")},6e3),VMM.getJSON(c,VMM.Timeline.DataObj.model.storify.buildData).error(function(a,b){trace("STORIFY error"),trace("STORIFY ERROR: "+b+" "+a.responseText)}).success(function(){clearTimeout(d)})},buildData:function(a){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Data");var b=VMM.Timeline.DataObj.data_template_obj;b.timeline.startDate=new Date(a.content.date.created),b.timeline.headline=a.content.title,trace(a);var c="",d=a.content.author.username,e="";"undefined"!=typeof a.content.author.name&&(d=a.content.author.name,e=a.content.author.username+"&nbsp;"),"undefined"!=typeof a.content.description&&null!=a.content.description&&(c+=a.content.description),c+="<div class='storify'>",c+="<div class='vcard author'><a class='screen-name url' href='"+a.content.author.permalink+"' target='_blank'>",c+="<span class='avatar'><img src='"+a.content.author.avatar+"' style='max-width: 32px; max-height: 32px;'></span>",c+="<span class='fn'>"+d+"</span>",c+="<span class='nickname'>"+e+"<span class='thumbnail-inline'></span></span>",c+="</a>",c+="</div>",c+="</div>",b.timeline.text=c,b.timeline.asset.media=a.content.thumbnail,b.timeline.type="storify";for(var f=0;f<a.content.elements.length;f++){var g=a.content.elements[f],h=!1;new Date(g.posted_at),trace(g.type);var i={type:"storify",startDate:g.posted_at,endDate:g.posted_at,headline:" ",slug:"",text:"",asset:{media:"",credit:"",caption:""}};
if("image"==g.type)"undefined"!=typeof g.source.name?"flickr"==g.source.name?(i.asset.media="http://flickr.com/photos/"+g.meta.pathalias+"/"+g.meta.id+"/",i.asset.credit="<a href='"+i.asset.media+"'>"+g.attribution.name+"</a>",i.asset.credit+=" on <a href='"+g.source.href+"'>"+g.source.name+"</a>"):"instagram"==g.source.name?(i.asset.media=g.permalink,i.asset.credit="<a href='"+g.permalink+"'>"+g.attribution.name+"</a>",i.asset.credit+=" on <a href='"+g.source.href+"'>"+g.source.name+"</a>"):(i.asset.credit="<a href='"+g.permalink+"'>"+g.attribution.name+"</a>","undefined"!=typeof g.source.href&&(i.asset.credit+=" on <a href='"+g.source.href+"'>"+g.source.name+"</a>"),i.asset.media=g.data.image.src):(i.asset.credit="<a href='"+g.permalink+"'>"+g.attribution.name+"</a>",i.asset.media=g.data.image.src),i.slug=g.attribution.name,"undefined"!=typeof g.data.image.caption&&"undefined"!=g.data.image.caption&&(i.asset.caption=g.data.image.caption,i.slug=g.data.image.caption);else if("quote"==g.type)g.permalink.match("twitter")?(i.asset.media=g.permalink,i.slug=VMM.Util.untagify(g.data.quote.text)):g.permalink.match("storify")&&(h=!0,i.asset.media="<blockquote>"+g.data.quote.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</blockquote>");else if("link"==g.type)i.headline=g.data.link.title,i.text=g.data.link.description,i.asset.media="undefined"!=g.data.link.thumbnail&&""!=g.data.link.thumbnail?g.data.link.thumbnail:g.permalink,i.asset.caption="<a href='"+g.permalink+"' target='_blank'>"+g.data.link.title+"</a>",i.slug=g.data.link.title;else if("text"==g.type){if(g.permalink.match("storify")){h=!0,a.content.author.username,"undefined"!=typeof g.attribution.name&&(d=g.attribution.name,e=g.attribution.username+"&nbsp;");var j="<div class='storify'>";j+="<blockquote><p>"+g.data.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</p></blockquote>",j+="<div class='vcard author'><a class='screen-name url' href='"+g.attribution.href+"' target='_blank'>",j+="<span class='avatar'><img src='"+g.attribution.thumbnail+"' style='max-width: 32px; max-height: 32px;'></span>",j+="<span class='fn'>"+d+"</span>",j+="<span class='nickname'>"+e+"<span class='thumbnail-inline'></span></span>",j+="</a></div></div>",i.text=j,f+1>=a.content.elements.length?i.startDate=a.content.elements[f-1].posted_at:"text"==a.content.elements[f+1].type&&a.content.elements[f+1].permalink.match("storify")?f+2>=a.content.elements.length?i.startDate=a.content.elements[f-1].posted_at:"text"==a.content.elements[f+2].type&&a.content.elements[f+2].permalink.match("storify")?f+3>=a.content.elements.length?i.startDate=a.content.elements[f-1].posted_at:"text"==a.content.elements[f+3].type&&a.content.elements[f+3].permalink.match("storify")?i.startDate=a.content.elements[f-1].posted_at:(trace("LEVEL 3"),i.startDate=a.content.elements[f+3].posted_at):(trace("LEVEL 2"),i.startDate=a.content.elements[f+2].posted_at):(trace("LEVEL 1"),i.startDate=a.content.elements[f+1].posted_at),i.endDate=i.startDate}}else"video"==g.type?(i.headline=g.data.video.title,i.asset.caption=g.data.video.description,i.asset.caption=g.source.username,i.asset.media=g.data.video.src):(trace("NO MATCH "),trace(g));h&&(i.slug=VMM.Util.untagify(g.data.text)),b.timeline.date.push(i)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,b)}},tweets:{type:"twitter",buildData:function(a){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweets(a.timeline.tweets)},getData:function(a){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweetSearch(a)},onTwitterDataReady:function(a,b){for(var c=VMM.Timeline.DataObj.data_template_obj,d=0;d<b.tweetdata.length;d++){var e={type:"tweets",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};e.startDate=b.tweetdata[d].raw.created_at,e.headline=type.of(b.tweetdata[d].raw.from_user_name)?b.tweetdata[d].raw.from_user_name+" (<a href='https://twitter.com/"+b.tweetdata[d].raw.from_user+"'>"+"@"+b.tweetdata[d].raw.from_user+"</a>)":b.tweetdata[d].raw.user.name+" (<a href='https://twitter.com/"+b.tweetdata[d].raw.user.screen_name+"'>"+"@"+b.tweetdata[d].raw.user.screen_name+"</a>)",e.asset.media=b.tweetdata[d].content,c.timeline.date.push(e)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,c)}}},data_template_obj:{timeline:{headline:"",description:"",asset:{media:"",credit:"",caption:""},date:[],era:[]}},date_obj:{startDate:"2012,2,2,11,30",headline:"",text:"",asset:{media:"http://youtu.be/vjVfu8-Wp6s",credit:"",caption:""},tags:"Optional"}}),VMM.debug=!1,LazyLoad=function(a){function b(b,c){var d,e=a.createElement(b);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function c(a){var b,c,d=j[a];d&&(b=d.callback,c=d.urls,c.shift(),k=0,c.length||(b&&b.call(d.context,d.obj),j[a]=null,l[a].length&&e(a)))}function d(){var b=navigator.userAgent;h={async:a.createElement("script").async===!0},(h.webkit=/AppleWebKit\//.test(b))||(h.ie=/MSIE/.test(b))||(h.opera=/Opera/.test(b))||(h.gecko=/Gecko\//.test(b))||(h.unknown=!0)}function e(e,k,m,n,o){var p,q,r,s,t,u,v=function(){c(e)},w="css"===e,x=[];if(h||d(),k)if(k="string"==typeof k?[k]:k.concat(),w||h.async||h.gecko||h.opera)l[e].push({urls:k,callback:m,obj:n,context:o});else for(p=0,q=k.length;q>p;++p)l[e].push({urls:[k[p]],callback:p===q-1?m:null,obj:n,context:o});if(!j[e]&&(s=j[e]=l[e].shift())){for(i||(i=a.head||a.getElementsByTagName("head")[0]),t=s.urls,p=0,q=t.length;q>p;++p)u=t[p],w?r=h.gecko?b("style"):b("link",{href:u,rel:"stylesheet"}):(r=b("script",{src:u}),r.async=!1),r.className="lazyload",r.setAttribute("charset","utf-8"),h.ie&&!w?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=null,v())}:w&&(h.gecko||h.webkit)?h.webkit?(s.urls[p]=r.href,g()):(r.innerHTML='@import "'+u+'";',f(r)):r.onload=r.onerror=v,x.push(r);for(p=0,q=x.length;q>p;++p)i.appendChild(x[p])}}function f(a){var b;try{b=!!a.sheet.cssRules}catch(d){return k+=1,200>k?setTimeout(function(){f(a)},50):b&&c("css"),void 0}c("css")}function g(){var a,b=j.css;if(b){for(a=m.length;--a>=0;)if(m[a].href===b.urls[0]){c("css");break}k+=1,b&&(200>k?setTimeout(g,50):c("css"))}}var h,i,j={},k=0,l={css:[],js:[]},m=a.styleSheets;return{css:function(a,b,c,d){e("css",a,b,c,d)},js:function(a,b,c,d){e("js",a,b,c,d)}}}(this.document),LoadLib=function(){function a(a){var c=0,d=!1;for(c=0;c<b.length;c++)b[c]==a&&(d=!0);return d?!0:(b.push(a),!1)}var b=[];return{css:function(b,c,d,e){a(b)||LazyLoad.css(b,c,d,e)},js:function(b,c,d,e){a(b)||LazyLoad.js(b,c,d,e)}}}(this.document);var WebFontConfig;if("undefined"==typeof embed_path||"undefined"==typeof embed_path)var embed_path=getEmbedScriptPath("storyjs-embed.js").split("js/")[0];!function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();var TokensBarModel=function(a,b,c,d){function e(a){var b,c,d=0;for(c=0;c<a.length;c++)b=a[c],d+=b.number_of_tokens;return d}function f(b){var c,d={proxies:[]},e=0;for(e=0;e<b.length;e++)c=b[e],c.details?d.proxies.push({name:c.details.first_name+" "+c.details.last_name,proxy:c.number_of_tokens,_id:c.details._id,avatar:c.user_id.avatar_url(),score:c.details.score,first_name:c.details.first_name}):(c.user_id||(c.user_id={}),d.proxies.push({name:c.user_id.first_name+" "+c.user_id.last_name,proxy:c.number_of_tokens,_id:c.user_id._id,avatar:c.user_id.avatar_url||c.user_id.avatar,score:c.user_id.score,first_name:c.user_id.first_name,height:c.number_of_tokens*a+"px",num_of_proxies_i_represent:c.user_id.num_of_proxies_i_represent}));return d}var g,h=15,i=9,j=this;j.proxy=f(d),j.totalProxy=e(d),g=i+b,j.tokensIUsed=g-Math.floor(c),j.floorTokens=g-j.tokensIUsed-j.totalProxy,j.gupFromFull=h-g,j.TokensSum=j.tokensIUsed+j.floorTokens+j.totalProxy,j.haveProxy=0!=j.totalProxy,j.haveTokensIUsed=0!=j.tokensIUsed,j.haveFloorTokens=j.floorTokens>=0,j.convertToPixels=function(b){return b*a+"px"},j.gupFromFullPixels=function(){return j.convertToPixels(j.gupFromFull)},j.dailyTokensPixels=function(){return j.convertToPixels(j.tokensIUsed)},j.tokensPixels=function(){return j.convertToPixels(j.floorTokens)},j.ProxyPixels=function(){return j.convertToPixels(j.totalProxy)}},listCommon=function(){return{reloadList:function(a,b,c,d){var e=$("#"+a);d||(d={}),db_functions.getListItems(b,d,function(a,d){e.css("height",e.height()),e.empty(),$.each(d.objects,function(a,c){c.get_link=function(){return"/"+b+"/"+c._id},c.get_link_uri=function(){return encodeURIComponent(c.get_link())}}),dust.renderArray(c,d.objects,null,function(a,b){e.append(b),e.css("height","")})})}}}(),popupProvider={showOkPopup:function(a){var b={okButtonText:"סגור",message:"",callback:$.noop,onOkCilcked:function(a){a.preventDefault(),$.colorbox.close()}};a=$.extend(b,a),dust.render("ok_popup",a,function(b,c){b||$.colorbox({html:c,onComplete:function(){$(".ok-button").click(a.onOkCilcked)},onClosed:function(){a.callback()}})})},showOkPopupWithLink:function(a){var b={okButtonText:"סגור",part_one:"",part_two:"",part_three:"",link:"",callback:$.noop,onOkCilcked:function(a){a.preventDefault(),$.colorbox.close()}};a=$.extend(b,a),dust.render("ok_popup_link",a,function(b,c){b||$.colorbox({html:c,onComplete:function(){$(".ok-button").click(a.onOkCilcked)},onClosed:function(){a.callback()}})})},showExplanationPopup:function(a){var b,c={okButtonText:"אישור",cancelButtonText:"ביטול",tokens_needed:0,tokens_owned:0,callback:$.noop,onOkCilcked:function(a){a.preventDefault(),b="ok",$.colorbox.close()},onCancelClicked:function(a){a.preventDefault(),b="cancel",$.colorbox.close()}};a=$.extend(c,a),dust.render("explanation_popup",a,function(c,d){c||$.colorbox({html:d,onComplete:function(){$(".ok-button").click(a.onOkCilcked),$(".cancel-button").click(a.onCancelClicked)},onClosed:function(){a.callback(b)}})})},showDeletePostPopup:function(a){var b,c={okButtonText:"אישור",cancelButtonText:"ביטול",callback:$.noop,onCancelClicked:function(a){a.preventDefault(),b="cancel",$.colorbox.close()}};a=$.extend(c,a),dust.render("delete_post_popup",a,function(c,d){c||$.colorbox({html:d,onComplete:function(){$(".ok-button").click(a.onOkCilcked),$(".cancel-button").click(a.onCancelClicked)},onClosed:function(){a.callback(b)}})})},showGiveMandatPopup:function(a){this.self=this;var b={message:"",onCancelCilcked:function(a){a.preventDefault(),$.colorbox.close()},onOkCilcked:function(a){a.preventDefault(),$.colorbox.close()},onClosed:function(){}};a=$.extend(b,a),this.popupConfig=a;var c;return dust.render("give_mandat_popup",a,function(b,d){b||(c=$.colorbox({html:d,onComplete:function(){var b=a.userProxy.number_of_tokens-a.userProxy.number_of_tokens_to_get_back;$(".ok-button").click(a.onOkCilcked),$(".cancel-button").click(a.onCancelCilcked),$(".give-mandats-popup input").eq(b).attr("checked",!0)},onClosed:function(b){a.onClosed(b)}}))}),c},showLoginPopup:function(a,b){this.self=this;var c={message:"",onClosed:function(){}};a=$.extend(c,a),this.popupConfig=a,dust.render("popup_login",a,function(c,d){c||$.colorbox({html:d,onComplete:function(){$("#login_pop_form").submit(function(){var a=$("#login_pop_form :input"),c={};a.each(function(){c[this.name]=$(this).val()}),db_functions.login(c.email,c.password,function(a,c){a?(b(a),$(".login-popup .noalert").hide(),$(".login-popup .alert").show()):($(document).one("cbox_closed",function(){b(a,c)}),$.colorbox.close())})}),$("#fb_ajax_conncect").live("click",function(){facebookLogin(function(a,c){a?b(a,c):($(document).one("cbox_closed",function(){b(a,c)}),$.colorbox.close())})})},onClosed:function(b){a.onClosed(b)}})})}},proxyCommon={addOrRemoveProxy:function(a,b,c,d,e){function f(b){for(var c in a){var d=a[c];if(d.user_id===b)return d;if(d.user_id&&d.user_id._id===b)return d}return null}var g=f(b,a);g||(g={number_of_tokens:0,number_of_tokens_to_get_back:0,user_id:b});var h={message:"בחר את מספר המנדטים שאתה רוצה לתת ל- "+c,userProxy:g,onOkCilcked:function(a){a.preventDefault(),newAmount=$(".give-mandats-popup").find(":checked").val();var c=newAmount-(g.number_of_tokens-g.number_of_tokens_to_get_back);0==c&&$.colorbox.close(),db_functions.addOrRemoveProxyMandate(d,b,c,function(a,b){var d;if(b&&b.proxy){if(b.ugly_proxy)for(var f=0;f<b.proxy.length;f++)if(d=b.proxy[f].user_id,"undefined"==typeof d._id){d._id=b.ugly_proxy._id,d.facebook_id=b.ugly_proxy.facebook_id,d.first_name=b.ugly_proxy.first_name,d.last_name=b.ugly_proxy.last_name,d.num_of_given_mandates=b.ugly_proxy.num_of_given_mandates;break}e(b)}a?$(document).one("cbox_closed",function(){var b=/[a-zA-Z]/.test(a.responseText)?"קרתה תקלה":a.responseText;popupProvider.showOkPopup({message:b})}):0>c&&$(document).one("cbox_closed",function(){popupProvider.showOkPopup({message:"האסימונים יעמדו לרשותך שוב בסוף היום"})}),$.colorbox.close()})}};popupProvider.showGiveMandatPopup(h)}},maps=new Array,geocoder=window.google?new google.maps.Geocoder:null;$.fn.geopicker=function(a){if(!this.length)return this;var b={};a=a||{};for(var c in a)b[c]=a[c];var d=$(this),e=b.address_field,f=b.map_id;e||(e=d.attr("address_field")),f||(f=d.is("[map_id]")?d.attr("map_id"):null);var g,h,i,j=function(){if(!f){var a=Number(new Date);f="map"+a,$('<div class="geopicker_map" id="'+f+'" style="width:300px; height:300px;"></div>').insertAfter(d)}var b=d.val()||"0,0",c=function(){g=init_map(f,i),h=add_draggable_marker(g,i,function(a){if(k(a),e){var b=new google.maps.Geocoder;b.geocode({latLng:a},function(a){a&&a.length>0&&$("#"+e).val(a[0].formatted_address)})}}),e&&address_autocomplete(e,f,function(a){k(a.geometry.location),h.setPosition(a.geometry.location)})};i={lat:b.split(",")[0],lng:b.split(",")[1]},0==i.lat&&0==i.lng?user_position(function(a){i=a,c(),k(h.getPosition())},function(){c()}):c()},k=function(a){var b=a.lat(),c=a.lng();d.val(b+","+c)};j()},$.fn.geoview=function(a){if(!this.length)return this;var b={};a=a||{};for(var c in a)b[c]=a[c];var d,e,f,g=$(this),h=function(){var a=b.map_id;if(!a){var c=Number(new Date);a="map"+c,$('<div class="geopicker_map" id="'+a+'"></div>').insertAfter(g)}var h=g.val()||"0,0";f={lat:h.split(",")[0],lng:h.split(",")[1]},d=init_map(a,f),e=add_draggable_marker(d,f,null,function(){init_street_view(a,e.getPosition())})};h()},$(document).ready(function(){$(".nf_mapview").geopicker()}),function(a){"use strict";a.movingBoxes=function(b,c){var d,e=this;e.$el=a(b).addClass("mb-slider"),e.el=b,e.$el.data("movingBoxes",e),e.init=function(){e.options=d=a.extend({},a.movingBoxes.defaultOptions,c),e.$el.wrap('<div class="movingBoxes mb-wrapper"><div class="mb-scroll" /><div class="maskleft"></div><div class="maskright"></div></div>'),e.$window=e.$el.parent(),e.$wrap=e.$window.parent().prepend('<a class="mb-scrollButtons mb-left"><div></div></a>').append('<a class="mb-scrollButtons mb-right"><div></div></a><div class="mb-left-shadow"></div><div class="mb-right-shadow"></div>'),e.$panels=e.$el.children().addClass("mb-panel"),e.runTime=a(".mb-slider").index(e.$el)+1,e.regex=new RegExp("slider"+e.runTime+"=(\\d+)","i"),e.initialized=!1,e.currentlyMoving=!1,e.curPanel=d.initAnimation?1:e.getHash()||d.startPanel,e.width=d.width?parseInt(d.width,10):e.$el.width(),e.pWidth=d.panelWidth?d.panelWidth<=2?d.panelWidth*e.width:d.panelWidth:e.$panels.eq(0).width(),e.$left=e.$wrap.find(".mb-left").click(function(){return e.goBack(),!1}),e.$right=e.$wrap.find(".mb-right").click(function(){return e.goForward(),!1}),e.$left=e.$wrap.find(".mb-left").dblclick(function(a){return a.stopPropagation(),!1}),e.$right=e.$wrap.find(".mb-right").dblclick(function(a){return a.stopPropagation(),!1}),e.update(!1),e.setWrap(e.curPanel),e.$el.delegate(".mb-panel","click",function(b){a(this).hasClass(d.currentPanel)||(b.preventDefault(),e.change(e.$panels.index(a(this))+e.adj,{},!0))}),e.$wrap.click(function(){e.$wrap.hasClass("mb-active-slider")||e.active()}),e.$panels.delegate("a","focus",function(b){b.preventDefault();var c=e.$panels.index(a(this).closest(".mb-panel"))+e.adj;c!==e.curPanel&&e.change(c,{},!0)}),a(document).keyup(function(a){if(!a.target.tagName.match("TEXTAREA|INPUT|SELECT"))switch(a.which){case 39:case 32:e.$wrap.is(".mb-active-slider")&&e.goForward();break;case 37:e.$wrap.is(".mb-active-slider")&&e.goBack()}}),a.each("preinit initialized initChange beforeAnimation completed".split(" "),function(b,c){a.isFunction(d[c])&&e.$el.bind(c+".movingBoxes",d[c])}),e.$el.trigger("preinit.movingBoxes",[e,e.curPanel])},e.update=function(b,c){e.$el.children(".cloned").remove(),e.$panels=e.$el.children(),e.adj=d.wrap&&e.$panels.length>1?0:1,e.width=d.width?parseInt(d.width,10):e.width,e.$wrap.css("width",e.width),d.wrap&&e.$panels.length>1&&(e.$el.prepend(e.$panels.filter(":last").clone().addClass("cloned")),e.$el.append(e.$panels.filter(":first").clone().addClass("cloned")),e.$el.find(".cloned").each(function(){a(this).find("a,input,textarea,select,button,area").removeAttr("name").attr("disabled","disabled"),a(this).find("[id]").andSelf().removeAttr("id")})),e.$panels=e.$el.children().addClass("mb-panel").each(function(){0===a(this).find(".mb-inside").length&&a(this).wrapInner('<div class="mb-inside" />')}),e.totalPanels=e.$panels.filter(":not(.cloned)").length,e.setSizes(b),e.buildNav(),e.change(e.curPanel,c,b),e.imagesLoaded(function(){e.setSizes(!1),e.change(e.curPanel,{},!1),e.initialized||setTimeout(function(){e.change(e.getHash()||d.startPanel),e.initialized=!0,e.$el.trigger("initialized.movingBoxes",[e,e.curPanel])},2*d.speed)})},e.setSizes=function(b){e.padding=parseInt(e.$panels.css("padding-left"),10)+parseInt(e.$panels.css("margin-left"),10),e.curWidth=d.panelWidth?d.panelWidth<=2?d.panelWidth*e.width:d.panelWidth:e.pWidth,e.regWidth=e.curWidth*d.reducedSize,e.$panels.css({width:e.curWidth,fontSize:"1em"}),e.$panels.eq(e.curPanel-e.adj).addClass(d.currentPanel),e.heights=e.$panels.map(function(b,c){return a(c).outerHeight(!0)}).get(),e.returnToNormal(e.curPanel,0),e.growBigger(e.curPanel,0,b),e.updateArrows(e.curPanel),e.$el.css({position:"absolute",width:(e.curWidth+2*e.padding)*e.$panels.length+(e.width-e.curWidth)/2,height:Math.max.apply(this,e.heights)+10,"padding-left":(e.width-e.curWidth)/2}),e.$window.css({height:d.fixedHeight?Math.max.apply(this,e.heights):e.heights[e.curPanel-e.adj]})},e.buildNav=function(){if(e.$nav?e.$nav.find(".mb-links").empty():e.$nav=a('<div class="mb-controls"><span class="mb-links"></span></div>').appendTo(e.$wrap),d.buildNav&&e.totalPanels>1){var b,c,f,g="";e.$panels.filter(":not(.cloned)").each(function(h){c=h+1,g='<a class="mb-link mb-panel'+c+'" href="#"></a>',f=a(g),a.isFunction(d.navFormatter)?(b=d.navFormatter(c,a(this)),"string"==typeof b?f.html(b):f=a("<a/>",b)):f.html(c),f.appendTo(e.$nav.find(".mb-links")).addClass("mb-link mb-panel"+c).data("index",c)}),e.$nav.find("a.mb-link").bind("click",function(){return e.change(a(this).data("index")),!1})}},e.returnToNormal=function(a,b){var c=e.$panels.not(":eq("+(a-e.adj)+")").removeClass(d.currentPanel);1===d.reducedSize?c.css({width:e.regWidth}):c.stop(!0,!1).animate({width:e.regWidth,fontSize:d.reducedSize+"em"},0===b?0:d.speed)},e.growBigger=function(a,b,c){var f=e.$panels.eq(a-e.adj);1===d.reducedSize?(f.css({width:e.curWidth}),setTimeout(function(){e.completed(a,c)},0===b?0:d.speed)):f.stop(!0,!1).animate({width:e.curWidth,fontSize:"1em"},0===b?0:d.speed,function(){e.completed(a,c)})},e.setWrap=function(a){e.growBigger(a,0,!1);var b=e.$panels.eq(a).position().left-(e.width-e.curWidth)/2+e.padding;e.$window.scrollLeft(b)},e.completed=function(a,b){var c=e.$panels.eq(a-e.adj);c.hasClass("cloned")||c.addClass(d.currentPanel),b!==!1&&e.$el.trigger("completed.movingBoxes",[e,a])},e.goForward=function(a){e.initialized&&e.change(e.curPanel+1,a)},e.goBack=function(a){e.initialized&&e.change(e.curPanel-1,a)},e.change=function(b,c,f){if(e.totalPanels<1)return"function"==typeof c&&c(e),void 0;var g,h,i,j=!1;f=f!==!1,i=f?d.speed:0,b=/^[#|.]/.test(b)&&a(b).length?a(b).closest(".mb-panel").index()+e.adj:parseInt(b,10),e.initialized&&f&&(e.$wrap.hasClass("mb-active-slider")||e.active(),e.$el.trigger("initChange.movingBoxes",[e,b])),d.wrap&&(b>e.totalPanels?(j=!0,b=1,e.returnToNormal(0,0),e.setWrap(0)):0===b&&(j=!1,b=e.totalPanels,e.setWrap(b+1))),b<e.adj&&(b=d.wrap?e.totalPanels:1),b>e.totalPanels-e.adj&&(b=d.wrap?1:e.totalPanels),e.curPanel===b||e.currentlyMoving&&e.initialized?e.endAnimation():(e.currentlyMoving=!d.stopAnimation,e.$curPanel=e.$panels.eq(b-e.adj),h=e.$curPanel.position().left-(e.width-e.curWidth)/2+e.padding,(b>e.curPanel||j)&&(h-=e.curWidth-e.regWidth),g=d.fixedHeight?{scrollLeft:h}:{scrollLeft:h,height:e.heights[b-e.adj]},e.curPanel=b,e.initialized&&f&&e.$el.trigger("beforeAnimation.movingBoxes",[e,b]),d.delayBeforeAnimate?setTimeout(function(){e.animateBoxes(b,g,i,f,c)},parseInt(d.delayBeforeAnimate,10)||0):e.animateBoxes(b,g,i,f,c))},e.animateBoxes=function(a,b,c,f,g){e.$window.scrollTop(0).stop(!0,!1).animate(b,{queue:!1,duration:c,easing:d.easing,complete:function(){e.initialized&&e.$window.scrollTop(0),e.currentlyMoving=!1,"function"==typeof g&&g(e)}}),e.returnToNormal(a,c),e.growBigger(a,c,f),e.updateArrows(a),d.hashTags&&e.initialized&&e.setHash(a),e.endAnimation()},e.endAnimation=function(){d.buildNav&&e.$nav.length&&e.$nav.find("a.mb-link").removeClass(d.currentPanel).eq(e.curPanel-1).addClass(d.currentPanel)},e.updateArrows=function(a){e.$left.toggleClass(d.disabled,!d.wrap&&a===e.adj),e.$right.toggleClass(d.disabled,!d.wrap&&(a===e.totalPanels||0===e.totalPanels))},e.getHash=function(){var b=window.location.hash,c=b.indexOf("&"),f=b.match(e.regex);return null!==f||/^#&/.test(b)||/#!?\//.test(b)?null!==f&&(f=d.hashTags?parseInt(f[1],10):null):(b=b.substring(0,c>=0?c:b.length),f=a(b).length&&a(b).closest(".mb-slider")[0]===e.el?a(b).closest(".mb-panel").index()+e.adj:null),f},e.setHash=function(){{"slider"+e.runTime+"=",window.location.hash}},e.active=function(){a(".mb-active-slider").removeClass("mb-active-slider"),e.$wrap.addClass("mb-active-slider")},e.currentPanel=function(a,b){return"undefined"!=typeof a&&e.change(a,b),e.curPanel},e.imagesLoaded=function(b,c){var d,f,g=!0,h=c?a(c):e.$panels.find("img"),i=h.length;for(c=c||[],d=0;i>d;d++)"IMG"===h[d].tagName&&(f="fileSize"in h[d]&&h[d].fileSize<0&&h[d].count>10?!0:h[d].complete,g=g&&f&&0!==h[d].height,f===!1&&(c.push(h[d]),h[d].count=(h[d].count||0)+1));g?"function"==typeof b&&b():setTimeout(function(){e.imagesLoaded(b,c)},200)},e.init()},a.movingBoxes.defaultOptions={startPanel:1,reducedSize:.8,fixedHeight:!1,initAnimation:!0,stopAnimation:!1,hashTags:!0,wrap:!1,buildNav:!1,navFormatter:null,easing:"swing",speed:500,delayBeforeAnimate:0,currentPanel:"current",tooltipClass:"tooltip",disabled:"disabled",preinit:null,initialized:null,initChange:null,beforeAnimation:null,completed:null},a.fn.movingBoxes=function(b,c,d){var e,f;return this.each(function(){f=a(this).data("movingBoxes"),(typeof b).match("object|undefined")?f?f.update():new a.movingBoxes(this,b):/\d/.test(b)&&!isNaN(b)&&f&&(e="number"==typeof b?b:parseInt(a.trim(b),10),e>=1&&e<=f.totalPanels&&f.change(e,c,d))})},a.fn.getMovingBoxes=function(){return this.data("movingBoxes")}}(jQuery),eval(function(a,b,c,d,e,f){if(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}("(6($){4($.F.u){5}$.F.u=6(o){4(s.y==0){1e(D,'1U 1V 1W 11 \"'+s.1X+'\".');5 s}4(s.y>1){5 s.1Y(6(){$(s).u(o)})}7 d=s;4(d.T('u')){d.M('1z.x')}d.1A=6(){d.U('N.x',6(e,c){e.12();e.13();r.1f=(8 r.A=='1Z')?r.A:1B(d);r.1f+=r.1C;4(8 c!='B'){4(8 c=='1g'||c 1D 20){c=$('<1h />').G(c).H()}4(c 1D $){f=c}}$C=d.21('<1h 22=\"u\" />').V();$C.14().G(f.1E(D)).1F({'A':'1G','I':'1G','23':'24','25':0,'26':0});7 a=9,O=9;4(w.15){a=w.15.1E(D);w.15.E()}4(W($C,r)){4(r.1i=='V'){O=V($C,r,a)}v{O=P($C,d,$C,r,a)}}$C.27($C.H());$C=Q;4($.28(r.1j)){r.1j.J(d[0],O,f)}w.t=O;5 O}).U('t.x',6(e,a){e.12();e.13();4(8 a=='6'){a.J(d[0],w.t)}5 w.t}).U('29.x',6(e,a){e.12();e.13();4(8 a=='6'){a.J(d[0],f)}5 f}).U('1z.x',6(e){e.12();e.13();d.1k().1H().14().G(f).T('u',9)});5 d};d.1H=6(){d.1I('.x');5 d};d.X=6(){d.1k();4(r.X=='R'){7 b=$(R),1l=b.I(),1m=b.A();b.U('1J.x'+w.1n,6(){4(1l!=b.I()||1m!=b.A()||!r.1K){1l=b.I();1m=b.A();4(K){1L(K)}K=2a(6(){d.M('N.x')},10)}})}v{Y=16(d);K=2b(6(){7 a=16(d);4(Y.I!=a.I||Y.A!=a.A){d.M('N.x');Y=16(d)}},2c)}5 d};d.1k=6(){$(R).1I('1J.x'+w.1n);4(K){1L(K)}5 d};7 f=d.H(),r=$.2d(D,{},$.F.u.1M,o),w={},Y={},K=Q,$C=Q;w.15=1N(r.1o,d);w.t=9;w.1n=n++;d.T('u',D).1A().M('N.x');4(r.X){d.X()}5 d};$.F.u.1M={'P':'... ','1i':'2e','1p':{'E':[' ',',',';','.','!','?'],'1O':[]},'1C':0,'1j':Q,'1o':Q,'A':Q,'X':9,'1K':D,'1e':9};7 n=1;6 V(b,o,c){7 d=b.V(),t=9;b.14();11(7 a=0,l=d.y;a<l;a++){7 e=d.1q(a);b.G(e);4(c){b.G(c)}4(W(b,o)){e.E();t=D;1r}v{4(c){c.E()}}}5 t}6 P(b,c,d,o,f){7 g=b.H(),t=9;b.14();7 h='2f, 2g, 2h, 2i, 2j, 2k, 2l, 1P, 2m, 2n, 2o, 2p, 2q, 2r, 2s, 2t, 2u, 2v, 2w';11(7 a=0,l=g.y;a<l;a++){4(t){1r}7 e=g[a],$e=$(e);4(8 e=='B'){2x}b.G($e);4(f){b[(b.2y(h))?'1o':'G'](f)}4(e.2z==3){4(W(d,o)){t=1s($e,c,d,o,f)}}v{t=P($e,c,d,o,f)}4(!t){4(f){f.E()}}}5 t}6 1s(a,b,c,o,d){7 f=9,e=a[0];4(8 e=='B'){5 9}7 g=(o.1i=='2A')?'':' ',S=1t(e).2B(g),17=-1,L=-1,18=0,19=S.y-1;1Q(18<=19){7 m=2C.2D((18+19)/2);4(m==L){1r}L=m;1a(e,S.Z(0,L+1).1R(g)+o.P);4(!W(c,o)){17=L;18=L}v{19=L}}4(17!=-1&&!(S.y==1&&S[0].y==0)){7 h=1u(S.Z(0,17+1).1R(g),o);f=D;1a(e,h)}v{7 i=a.2E();a.E();7 j=(d)?d.y:0;4(i.H().2F()>j){7 k=i.H().1q(-1-j);f=1s(k,b,c,o,d)}v{7 e=i.2G().H().1q(-1)[0];4(8 e!='B'){7 h=1u(1t(e),o);1a(e,h);i.E();f=D}}}5 f}6 W(a,o){5 a.1v()>o.1f}6 1u(a,o){1Q($.1S(a.Z(-1),o.1p.E)>-1){a=a.Z(0,-1)}4($.1S(a.Z(-1),o.1p.1O)<0){a+=o.P}5 a}6 16(a){5{'I':a.2H(),'A':a.1v()}}6 1a(e,a){4(e.1b){e.1b=a}v 4(e.1c){e.1c=a}v 4(e.1d){e.1d=a}}6 1t(e){4(e.1b){5 e.1b}v 4(e.1c){5 e.1c}v 4(e.1d){5 e.1d}v{5\"\"}}6 1N(e,a){4(8 e=='B'){5 9}4(!e){5 9}4(8 e=='1g'){e=$(e,a);5(e.y)?e:9}4(8 e=='1P'){5(8 e.2I=='B')?9:e}5 9}6 1B(b){7 h=b.1v(),a=['2J','2K'];11(7 z=0,l=a.y;z<l;z++){7 m=2L(b.1F(a[z]),10);4(2M(m)){m=0}h-=m}5 h}6 1e(d,m){4(!d){5 9}4(8 m=='1g'){m='u: '+m}v{m=['u:',m]}4(8 R.1w!='B'){4(8 R.1w.1T!='B'){R.1w.1T(m)}}5 9}7 p=$.F.1x;$.F.1x=6(a){4(8 a!='B'){4(s.T('u')){4(8 a!='6'){5 s.M('N',[a])}}5 p.J(s,a)}5 p.J(s)};7 q=$.F.1y;$.F.1y=6(a){4(8 a!='B'){4(s.T('u')){7 b=$('<1h />');b.1y(a);a=b.1x();b.E();5 s.M('N',[a])}5 q.J(s,a)}5 q.J(s)}})(2N);",62,174,"||||if|return|function|var|typeof|false||||||||||||||||||opts|this|isTruncated|dotdotdot|else|conf|dot|length||height|undefined|inr|true|remove|fn|append|contents|width|call|watchInt|midPos|trigger|update|trunc|ellipsis|null|window|textArr|data|bind|children|test|watch|watchOrg|slice||for|preventDefault|stopPropagation|empty|afterElement|getSizes|position|startPos|endPos|setTextContent|innerText|nodeValue|textContent|debug|maxHeight|string|div|wrap|callback|unwatch|_wWidth|_wHeight|dotId|after|lastCharacter|eq|break|ellipsisElement|getTextContent|addEllipsis|innerHeight|console|html|text|destroy|bind_events|getTrueInnerHeight|tolerance|instanceof|clone|css|auto|unbind_events|unbind|resize|windowResizeFix|clearInterval|defaults|getElement|noEllipsis|object|while|join|inArray|log|No|element|found|selector|each|number|HTMLElement|wrapInner|class|border|none|padding|margin|replaceWith|isFunction|originalContent|setTimeout|setInterval|100|extend|word|table|thead|tbody|tfoot|tr|col|colgroup|embed|param|ol|ul|dl|select|optgroup|option|textarea|script|style|continue|is|nodeType|letter|split|Math|floor|parent|size|prev|innerWidth|jquery|paddingTop|paddingBottom|parseInt|isNaN|jQuery".split("|"),0,{}));var timeline={map:null,user_position:null,render:function(a,b,c){console.log("Rendering timeline.");var d=timeline.map;if(!$("#cycle_map").is(":empty")){var e={title:b};dust.render("cycle_timeline_map_tabs",e,function(a,b){$(".tabs-box").append(b);var c=34.777821,e=32.066157;d=googleMap.init_map("cycle_map",new google.maps.LatLng(e,c))})}db_functions.getCycleTimeline(a,function(e,f){var g=new function(){};g.toString=function(){return this.type+" ["+this.short+"]"};var h={today:{name:"היום"},due_date:{name:"תאריך יעד"},discussion:{name:"יצירת דיון"},cycle_creation:{name:"יצירת קמפיין",text:function(){return b},link:function(){return"/cycles/"+a}},action:{name:"פעולה",text:function(a){return a.title},link:function(a){return"/actions/"+a._id}},cycle_update:{name:"עדכון",text:function(a){return a.title},link:function(a){return"/updates/"+a._id}},admin_update:{name:"עדכון מערכת",text:function(a){return a.text.replace(/\[url(?:=([^\]]*))\]((?:.|\n)*)?\[\/url\]/,'<a href="$1" target="_blank">$2</a>')}}},i=!1,j=!1,k=!0,l={pre_discussion:[],discussion:null,past:[],today:null,future:[]};$.each(f.objects,function(){type===h.discussion&&(k=!1)}),k&&(i=!0),$.each(f.objects,function(a,b){var c=h[b.type];if(!c)return console.log("Unknown timeline type: "+b.type),void 0;if("cycle_update"==b.type&&(b.text_field_preview||(b.text_field_preview=b.text_field)),b.type_print=c.name,c.text&&(b.short=c.text(b)),c.link&&(b.link=c.link(b)),b.past=!j,b.template="cycle_timeline_"+b.type.replace("cycle_",""),b.__proto__=g,c===h.discussion)i=!0,l.discussion=b;else if(c===h.today)j=!0,l.today=b;else{var d=i?j?l.future:l.past:l.pre_discussion;d.push(b)}});var m=function(a){var b={};return $.each(a,function(a,c){var d=new Date(c.date),e=d.format("mmyy");b[e]=b[e]||{date:d,is_displayed:!1,items:[]},b[e].items.push(c),b[e].is_displayed=b[e].is_displayed||c.is_displayed}),b};l.past=m(l.past);var n={past:[],future:[]};l.pre_discussion.length&&n.past.push({__proto__:g,template:"cycle_timeline_past_cluster",month:"לפני יצירת הדיון",items:l.pre_discussion}),i&&!k&&n.past.push(l.discussion),$.each(l.past,function(a,b){n.past.push({__proto__:g,template:"cycle_timeline_past_cluster",month:b.date.format("mmmm"),items:b.items,is_displayed:b.is_displayed})}),n.today=l.today,n.future=l.future;var o=980,p=o/3;if(j){var q=n.past.length;$.each(n.past,function(a,b){b.offset=p*a/q}),n.today.offset=p;var r=n.future.length-1;$.each(n.future,function(a,b){b.offset=(o-p)*(a+1)/(r+1)+p})}else{var r=n.past.length-1;$.each(n.past,function(a,b){b.offset=o*a/r})}if(n=n.past.concat([n.today],n.future),$.each(n,function(a,b){b.timeline_index=a,c&&(b.is_displayed=!1),dust.render(b.template,b,function(a,b){$(".followers-diagram").append(b)})}),c?$('.popup-event[item-id="'+c+'"]').addClass("showdiv"):$(".icon").mouseenter(function(){var a=$(".followers-diagram");$.each(a.find("div"),function(a,b){$(b).hasClass("showdiv")&&$(b).fadeOut(2e3)})}),$("#action_list div.action_map_item")){var s=[],t={pane:"floatPane",enableEventPropagation:"true",boxStyle:{background:"url(../images/event-popup.png) no-repeat","padding-top":"7px","padding-left":"7px",width:"200px",height:"145px"},pixelOffset:new google.maps.Size(-109,-155),closeBoxURL:""},u=new InfoBox(t);$.each(f.objects,function(a,b){if("action"==b.type&&b.location){document.getElementById("action_list"),f={title:b.title,date:b.date,num_of_going:b.num_of_going,is_going:b.is_going,text_field_preview:b.text_field_preview,location:b.location,is_displayed:!1,_id:b._id},dust.render("action_map_list_item",f,function(a,b){$("#action_list").append(b)});var c=new google.maps.LatLng(b.location.geometry.lat,b.location.geometry.lng),e=new google.maps.Marker({position:c,map:d,flat:!0,title:b.title,icon:{fillColor:"#3C63EF",fillOpacity:1,strokeColor:"#2049D3",strokeWeight:3,strokeOpacity:1,path:google.maps.SymbolPath.CIRCLE,scale:10},shape:google.maps.SymbolPath.CIRCLE,visible:!0});e.metadata={id:b._id},s.push(e),google.maps.event.addListener(e,"click",function(){var a,b=e.metadata.id;$("div.popup-event[item-id="+b+"]")&&(a=$("div.popup-event[item-id="+b+"]").clone()[0]),u.setContent(a),u.open(d,e),g(b)
}),$("#action_list .action_map_item").click(function(){var a=$(this).attr("data-id");g(a),$.each(s,function(b,c){if(a==c.metadata.id){var e=$("div.popup-event[item-id="+a+"]").clone()[0];u.setContent(e),u.open(d,c)}})});var g=function(a){$.each($(".action_map_item"),function(b,c){c.getAttribute("data-id")==a?$(c).addClass("selected"):$(c).hasClass("selected")&&$(c).removeClass("selected")})}}}),$(".tabs-nav h5").click(function(){$(this);var a=d.getCenter();if(!$(this).hasClass("selected")){if($(".map_tab").hasClass("selected"))$(".map_tab").removeClass("selected"),$("h5.timeline_tab").append($("#timeline-second-part"));else{$(".timeline_tab").removeClass("selected"),$(".map_tab").append($("#timeline-second-part"));var b=timeline.user_position;b||(b={lng:null,lat:null},getUserPosition(b,function(){b.lng&&b.lat?googleMap.addPlaceMark(b):(b.lng=34.777821,b.lat=32.066157,googleMap.addPlaceMark(b)),timeline.user_position=b}))}$(this).addClass("selected"),$("#tabs_cycle_timeline").toggle(),$("#tabs_cycle_map").toggle(),google.maps.event.trigger(d,"resize"),a!=d.getCenter()&&d.setCenter(a)}})}})}};